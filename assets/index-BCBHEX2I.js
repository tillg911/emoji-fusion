(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ud={exports:{}},go={},Dd={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=Symbol.for("react.element"),wg=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),Sg=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),bg=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),Tg=Symbol.for("react.memo"),jg=Symbol.for("react.lazy"),Du=Symbol.iterator;function Pg(t){return t===null||typeof t!="object"?null:(t=Du&&t[Du]||t["@@iterator"],typeof t=="function"?t:null)}var Bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wd=Object.assign,Hd={};function Ur(t,e,n){this.props=t,this.context=e,this.refs=Hd,this.updater=n||Bd}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gd(){}Gd.prototype=Ur.prototype;function zl(t,e,n){this.props=t,this.context=e,this.refs=Hd,this.updater=n||Bd}var Al=zl.prototype=new Gd;Al.constructor=zl;Wd(Al,Ur.prototype);Al.isPureReactComponent=!0;var Bu=Array.isArray,Vd=Object.prototype.hasOwnProperty,Ml={current:null},Kd={key:!0,ref:!0,__self:!0,__source:!0};function Jd(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vd.call(e,r)&&!Kd.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gs,type:t,key:i,ref:o,props:s,_owner:Ml.current}}function Og(t,e){return{$$typeof:Gs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gs}function Rg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wu=/\/+/g;function Bo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rg(""+t.key):e.toString(36)}function bi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gs:case wg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bo(o,0):r,Bu(s)?(n="",t!=null&&(n=t.replace(Wu,"$&/")+"/"),bi(s,e,n,"",function(u){return u})):s!=null&&(Nl(s)&&(s=Og(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Bu(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Bo(i,a);o+=bi(i,e,n,l,s)}else if(l=Pg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Bo(i,a++),o+=bi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ti(t,e,n){if(t==null)return t;var r=[],s=0;return bi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Lg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},Ei={transition:null},Ig={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ei,ReactCurrentOwner:Ml};function qd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:ti,forEach:function(t,e,n){ti(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ti(t,function(){e++}),e},toArray:function(t){return ti(t,function(e){return e})||[]},only:function(t){if(!Nl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Ur;te.Fragment=xg;te.Profiler=kg;te.PureComponent=zl;te.StrictMode=Sg;te.Suspense=Cg;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig;te.act=qd;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Wd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ml.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vd.call(e,l)&&!Kd.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gs,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:bg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_g,_context:t},t.Consumer=t};te.createElement=Jd;te.createFactory=function(t){var e=Jd.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:Eg,render:t}};te.isValidElement=Nl;te.lazy=function(t){return{$$typeof:jg,_payload:{_status:-1,_result:t},_init:Lg}};te.memo=function(t,e){return{$$typeof:Tg,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Ei.transition;Ei.transition={};try{t()}finally{Ei.transition=e}};te.unstable_act=qd;te.useCallback=function(t,e){return Be.current.useCallback(t,e)};te.useContext=function(t){return Be.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};te.useEffect=function(t,e){return Be.current.useEffect(t,e)};te.useId=function(){return Be.current.useId()};te.useImperativeHandle=function(t,e,n){return Be.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Be.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Be.current.useReducer(t,e,n)};te.useRef=function(t){return Be.current.useRef(t)};te.useState=function(t){return Be.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Be.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Be.current.useTransition()};te.version="18.3.1";Dd.exports=te;var z=Dd.exports;const $g=yg(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=z,Ag=Symbol.for("react.element"),Mg=Symbol.for("react.fragment"),Ng=Object.prototype.hasOwnProperty,Fg=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ug={key:!0,ref:!0,__self:!0,__source:!0};function Qd(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ng.call(e,r)&&!Ug.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ag,type:t,key:i,ref:o,props:s,_owner:Fg.current}}go.Fragment=Mg;go.jsx=Qd;go.jsxs=Qd;Ud.exports=go;var k=Ud.exports,_a={},Yd={exports:{}},rt={},Xd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var G=L.length;L.push(H);e:for(;0<G;){var Z=G-1>>>1,ae=L[Z];if(0<s(ae,H))L[Z]=H,L[G]=ae,G=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],G=L.pop();if(G!==H){L[0]=G;e:for(var Z=0,ae=L.length,it=ae>>>1;Z<it;){var Xe=2*(Z+1)-1,Xt=L[Xe],Tt=Xe+1,Pn=L[Tt];if(0>s(Xt,G))Tt<ae&&0>s(Pn,Xt)?(L[Z]=Pn,L[Tt]=G,Z=Tt):(L[Z]=Xt,L[Xe]=G,Z=Xe);else if(Tt<ae&&0>s(Pn,G))L[Z]=Pn,L[Tt]=G,Z=Tt;else break e}}return H}function s(L,H){var G=L.sortIndex-H.sortIndex;return G!==0?G:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,g=!1,h=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=L)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function x(L){if(w=!1,m(L),!h)if(n(l)!==null)h=!0,ve(_);else{var H=n(u);H!==null&&M(x,H.startTime-L)}}function _(L,H){h=!1,w&&(w=!1,y(R),R=-1),g=!0;var G=f;try{for(m(H),c=n(l);c!==null&&(!(c.expirationTime>H)||L&&!V());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var ae=Z(c.expirationTime<=H);H=t.unstable_now(),typeof ae=="function"?c.callback=ae:c===n(l)&&r(l),m(H)}else r(l);c=n(l)}if(c!==null)var it=!0;else{var Xe=n(u);Xe!==null&&M(x,Xe.startTime-H),it=!1}return it}finally{c=null,f=G,g=!1}}var E=!1,O=null,R=-1,F=5,N=-1;function V(){return!(t.unstable_now()-N<F)}function ne(){if(O!==null){var L=t.unstable_now();N=L;var H=!0;try{H=O(!0,L)}finally{H?ie():(E=!1,O=null)}}else E=!1}var ie;if(typeof p=="function")ie=function(){p(ne)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Se=oe.port2;oe.port1.onmessage=ne,ie=function(){Se.postMessage(null)}}else ie=function(){C(ne,0)};function ve(L){O=L,E||(E=!0,ie())}function M(L,H){R=C(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){h||g||(h=!0,ve(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var G=f;f=H;try{return L()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=f;f=L;try{return H()}finally{f=G}},t.unstable_scheduleCallback=function(L,H,G){var Z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=G+ae,L={id:d++,callback:H,priorityLevel:L,startTime:G,expirationTime:ae,sortIndex:-1},G>Z?(L.sortIndex=G,e(u,L),n(l)===null&&L===n(u)&&(w?(y(R),R=-1):w=!0,M(x,G-Z))):(L.sortIndex=ae,e(l,L),h||g||(h=!0,ve(_))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var H=f;return function(){var G=f;f=H;try{return L.apply(this,arguments)}finally{f=G}}}})(Zd);Xd.exports=Zd;var Dg=Xd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=z,nt=Dg;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ef=new Set,Es={};function Xn(t,e){Rr(t,e),Rr(t+"Capture",e)}function Rr(t,e){for(Es[t]=e,t=0;t<e.length;t++)ef.add(e[t])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=Object.prototype.hasOwnProperty,Wg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hu={},Gu={};function Hg(t){return ba.call(Gu,t)?!0:ba.call(Hu,t)?!1:Wg.test(t)?Gu[t]=!0:(Hu[t]=!0,!1)}function Gg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vg(t,e,n,r){if(e===null||typeof e>"u"||Gg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fl=/[\-:]([a-z])/g;function Ul(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fl,Ul);Le[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fl,Ul);Le[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fl,Ul);Le[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dl(t,e,n,r){var s=Le.hasOwnProperty(e)?Le[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vg(e,n,s,r)&&(n=null),r||s===null?Hg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qt=Bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ni=Symbol.for("react.element"),fr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Ca=Symbol.for("react.suspense"),Ta=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),rf=Symbol.for("react.offscreen"),Vu=Symbol.iterator;function Jr(t){return t===null||typeof t!="object"?null:(t=Vu&&t[Vu]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Wo;function as(t){if(Wo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wo=e&&e[1]||""}return`
`+Wo+t}var Ho=!1;function Go(t,e){if(!t||Ho)return"";Ho=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ho=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?as(t):""}function Kg(t){switch(t.tag){case 5:return as(t.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 2:case 15:return t=Go(t.type,!1),t;case 11:return t=Go(t.type.render,!1),t;case 1:return t=Go(t.type,!0),t;default:return""}}function ja(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hr:return"Fragment";case fr:return"Portal";case Ea:return"Profiler";case Bl:return"StrictMode";case Ca:return"Suspense";case Ta:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nf:return(t.displayName||"Context")+".Consumer";case tf:return(t._context.displayName||"Context")+".Provider";case Wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hl:return e=t.displayName||null,e!==null?e:ja(t.type)||"Memo";case rn:e=t._payload,t=t._init;try{return ja(t(e))}catch{}}return null}function Jg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ja(e);case 8:return e===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _n(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qg(t){var e=sf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ri(t){t._valueTracker||(t._valueTracker=qg(t))}function of(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pa(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ku(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_n(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function af(t,e){e=e.checked,e!=null&&Dl(t,"checked",e,!1)}function Oa(t,e){af(t,e);var n=_n(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ra(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ra(t,e.type,_n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ju(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ra(t,e,n){(e!=="number"||Mi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ls=Array.isArray;function br(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_n(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function La(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ls(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_n(n)}}function lf(t,e){var n=_n(e.value),r=_n(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ia(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var si,cf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qg=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(t){Qg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hs[e]=hs[t]})});function df(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hs.hasOwnProperty(t)&&hs[t]?(""+e).trim():e+"px"}function ff(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=df(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Yg=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(t,e){if(e){if(Yg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function za(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=null;function Gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ma=null,Er=null,Cr=null;function Yu(t){if(t=Js(t)){if(typeof Ma!="function")throw Error($(280));var e=t.stateNode;e&&(e=xo(e),Ma(t.stateNode,t.type,e))}}function hf(t){Er?Cr?Cr.push(t):Cr=[t]:Er=t}function pf(){if(Er){var t=Er,e=Cr;if(Cr=Er=null,Yu(t),e)for(t=0;t<e.length;t++)Yu(e[t])}}function gf(t,e){return t(e)}function mf(){}var Vo=!1;function yf(t,e,n){if(Vo)return t(e,n);Vo=!0;try{return gf(t,e,n)}finally{Vo=!1,(Er!==null||Cr!==null)&&(mf(),pf())}}function Ts(t,e){var n=t.stateNode;if(n===null)return null;var r=xo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Na=!1;if(Vt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Na=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Na=!1}function Xg(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ps=!1,Ni=null,Fi=!1,Fa=null,Zg={onError:function(t){ps=!0,Ni=t}};function em(t,e,n,r,s,i,o,a,l){ps=!1,Ni=null,Xg.apply(Zg,arguments)}function tm(t,e,n,r,s,i,o,a,l){if(em.apply(this,arguments),ps){if(ps){var u=Ni;ps=!1,Ni=null}else throw Error($(198));Fi||(Fi=!0,Fa=u)}}function Zn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xu(t){if(Zn(t)!==t)throw Error($(188))}function nm(t){var e=t.alternate;if(!e){if(e=Zn(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xu(s),t;if(i===r)return Xu(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function wf(t){return t=nm(t),t!==null?xf(t):null}function xf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xf(t);if(e!==null)return e;t=t.sibling}return null}var Sf=nt.unstable_scheduleCallback,Zu=nt.unstable_cancelCallback,rm=nt.unstable_shouldYield,sm=nt.unstable_requestPaint,xe=nt.unstable_now,im=nt.unstable_getCurrentPriorityLevel,Vl=nt.unstable_ImmediatePriority,kf=nt.unstable_UserBlockingPriority,Ui=nt.unstable_NormalPriority,om=nt.unstable_LowPriority,_f=nt.unstable_IdlePriority,mo=null,zt=null;function am(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(mo,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:cm,lm=Math.log,um=Math.LN2;function cm(t){return t>>>=0,t===0?32:31-(lm(t)/um|0)|0}var ii=64,oi=4194304;function us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Di(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=us(a):(i&=o,i!==0&&(r=us(i)))}else o=n&~s,o!==0?r=us(o):i!==0&&(r=us(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_t(e),s=1<<n,r|=t[n],e&=~s;return r}function dm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fm(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_t(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=dm(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ua(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bf(){var t=ii;return ii<<=1,!(ii&4194240)&&(ii=64),t}function Ko(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_t(e),t[e]=n}function hm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_t(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Kl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_t(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function Ef(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cf,Jl,Tf,jf,Pf,Da=!1,ai=[],pn=null,gn=null,mn=null,js=new Map,Ps=new Map,ln=[],pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(t,e){switch(t){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":js.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(e.pointerId)}}function Qr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Js(e),e!==null&&Jl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gm(t,e,n,r,s){switch(e){case"focusin":return pn=Qr(pn,t,e,n,r,s),!0;case"dragenter":return gn=Qr(gn,t,e,n,r,s),!0;case"mouseover":return mn=Qr(mn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return js.set(i,Qr(js.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ps.set(i,Qr(Ps.get(i)||null,t,e,n,r,s)),!0}return!1}function Of(t){var e=Un(t.target);if(e!==null){var n=Zn(e);if(n!==null){if(e=n.tag,e===13){if(e=vf(n),e!==null){t.blockedOn=e,Pf(t.priority,function(){Tf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ci(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ba(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Aa=r,n.target.dispatchEvent(r),Aa=null}else return e=Js(n),e!==null&&Jl(e),t.blockedOn=n,!1;e.shift()}return!0}function tc(t,e,n){Ci(t)&&n.delete(e)}function mm(){Da=!1,pn!==null&&Ci(pn)&&(pn=null),gn!==null&&Ci(gn)&&(gn=null),mn!==null&&Ci(mn)&&(mn=null),js.forEach(tc),Ps.forEach(tc)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,Da||(Da=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,mm)))}function Os(t){function e(s){return Yr(s,t)}if(0<ai.length){Yr(ai[0],t);for(var n=1;n<ai.length;n++){var r=ai[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pn!==null&&Yr(pn,t),gn!==null&&Yr(gn,t),mn!==null&&Yr(mn,t),js.forEach(e),Ps.forEach(e),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Of(n),n.blockedOn===null&&ln.shift()}var Tr=Qt.ReactCurrentBatchConfig,Bi=!0;function ym(t,e,n,r){var s=ue,i=Tr.transition;Tr.transition=null;try{ue=1,ql(t,e,n,r)}finally{ue=s,Tr.transition=i}}function vm(t,e,n,r){var s=ue,i=Tr.transition;Tr.transition=null;try{ue=4,ql(t,e,n,r)}finally{ue=s,Tr.transition=i}}function ql(t,e,n,r){if(Bi){var s=Ba(t,e,n,r);if(s===null)ra(t,e,r,Wi,n),ec(t,r);else if(gm(s,t,e,n,r))r.stopPropagation();else if(ec(t,r),e&4&&-1<pm.indexOf(t)){for(;s!==null;){var i=Js(s);if(i!==null&&Cf(i),i=Ba(t,e,n,r),i===null&&ra(t,e,r,Wi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ra(t,e,r,null,n)}}var Wi=null;function Ba(t,e,n,r){if(Wi=null,t=Gl(r),t=Un(t),t!==null)if(e=Zn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wi=t,null}function Rf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(im()){case Vl:return 1;case kf:return 4;case Ui:case om:return 16;case _f:return 536870912;default:return 16}default:return 16}}var fn=null,Ql=null,Ti=null;function Lf(){if(Ti)return Ti;var t,e=Ql,n=e.length,r,s="value"in fn?fn.value:fn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ti=s.slice(t,1<r?1-r:void 0)}function ji(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function nc(){return!1}function st(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?li:nc,this.isPropagationStopped=nc,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),e}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=st(Dr),Ks=ye({},Dr,{view:0,detail:0}),wm=st(Ks),Jo,qo,Xr,yo=ye({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xr&&(Xr&&t.type==="mousemove"?(Jo=t.screenX-Xr.screenX,qo=t.screenY-Xr.screenY):qo=Jo=0,Xr=t),Jo)},movementY:function(t){return"movementY"in t?t.movementY:qo}}),rc=st(yo),xm=ye({},yo,{dataTransfer:0}),Sm=st(xm),km=ye({},Ks,{relatedTarget:0}),Qo=st(km),_m=ye({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),bm=st(_m),Em=ye({},Dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cm=st(Em),Tm=ye({},Dr,{data:0}),sc=st(Tm),jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Om[t])?!!e[t]:!1}function Xl(){return Rm}var Lm=ye({},Ks,{key:function(t){if(t.key){var e=jm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(t){return t.type==="keypress"?ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Im=st(Lm),$m=ye({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=st($m),zm=ye({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),Am=st(zm),Mm=ye({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nm=st(Mm),Fm=ye({},yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Um=st(Fm),Dm=[9,13,27,32],Zl=Vt&&"CompositionEvent"in window,gs=null;Vt&&"documentMode"in document&&(gs=document.documentMode);var Bm=Vt&&"TextEvent"in window&&!gs,If=Vt&&(!Zl||gs&&8<gs&&11>=gs),oc=" ",ac=!1;function $f(t,e){switch(t){case"keyup":return Dm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pr=!1;function Wm(t,e){switch(t){case"compositionend":return zf(e);case"keypress":return e.which!==32?null:(ac=!0,oc);case"textInput":return t=e.data,t===oc&&ac?null:t;default:return null}}function Hm(t,e){if(pr)return t==="compositionend"||!Zl&&$f(t,e)?(t=Lf(),Ti=Ql=fn=null,pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return If&&e.locale!=="ko"?null:e.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gm[t.type]:e==="textarea"}function Af(t,e,n,r){hf(r),e=Hi(e,"onChange"),0<e.length&&(n=new Yl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ms=null,Rs=null;function Vm(t){Kf(t,0)}function vo(t){var e=yr(t);if(of(e))return t}function Km(t,e){if(t==="change")return e}var Mf=!1;if(Vt){var Yo;if(Vt){var Xo="oninput"in document;if(!Xo){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),Xo=typeof uc.oninput=="function"}Yo=Xo}else Yo=!1;Mf=Yo&&(!document.documentMode||9<document.documentMode)}function cc(){ms&&(ms.detachEvent("onpropertychange",Nf),Rs=ms=null)}function Nf(t){if(t.propertyName==="value"&&vo(Rs)){var e=[];Af(e,Rs,t,Gl(t)),yf(Vm,e)}}function Jm(t,e,n){t==="focusin"?(cc(),ms=e,Rs=n,ms.attachEvent("onpropertychange",Nf)):t==="focusout"&&cc()}function qm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vo(Rs)}function Qm(t,e){if(t==="click")return vo(e)}function Ym(t,e){if(t==="input"||t==="change")return vo(e)}function Xm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:Xm;function Ls(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ba.call(e,s)||!Et(t[s],e[s]))return!1}return!0}function dc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fc(t,e){var n=dc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dc(n)}}function Ff(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ff(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uf(){for(var t=window,e=Mi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mi(t.document)}return e}function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zm(t){var e=Uf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ff(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=fc(n,i);var o=fc(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e0=Vt&&"documentMode"in document&&11>=document.documentMode,gr=null,Wa=null,ys=null,Ha=!1;function hc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ha||gr==null||gr!==Mi(r)||(r=gr,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ys&&Ls(ys,r)||(ys=r,r=Hi(Wa,"onSelect"),0<r.length&&(e=new Yl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function ui(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mr={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionend:ui("Transition","TransitionEnd")},Zo={},Df={};Vt&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function wo(t){if(Zo[t])return Zo[t];if(!mr[t])return t;var e=mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Df)return Zo[t]=e[n];return t}var Bf=wo("animationend"),Wf=wo("animationiteration"),Hf=wo("animationstart"),Gf=wo("transitionend"),Vf=new Map,pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(t,e){Vf.set(t,e),Xn(e,[t])}for(var ea=0;ea<pc.length;ea++){var ta=pc[ea],t0=ta.toLowerCase(),n0=ta[0].toUpperCase()+ta.slice(1);En(t0,"on"+n0)}En(Bf,"onAnimationEnd");En(Wf,"onAnimationIteration");En(Hf,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Gf,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function gc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tm(r,e,void 0,t),t.currentTarget=null}function Kf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;gc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;gc(s,a,u),i=l}}}if(Fi)throw t=Fa,Fi=!1,Fa=null,t}function fe(t,e){var n=e[qa];n===void 0&&(n=e[qa]=new Set);var r=t+"__bubble";n.has(r)||(Jf(e,t,2,!1),n.add(r))}function na(t,e,n){var r=0;e&&(r|=4),Jf(n,t,r,e)}var ci="_reactListening"+Math.random().toString(36).slice(2);function Is(t){if(!t[ci]){t[ci]=!0,ef.forEach(function(n){n!=="selectionchange"&&(r0.has(n)||na(n,!1,t),na(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ci]||(e[ci]=!0,na("selectionchange",!1,e))}}function Jf(t,e,n,r){switch(Rf(e)){case 1:var s=ym;break;case 4:s=vm;break;default:s=ql}n=s.bind(null,e,n,t),s=void 0,!Na||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ra(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Un(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}yf(function(){var u=i,d=Gl(n),c=[];e:{var f=Vf.get(t);if(f!==void 0){var g=Yl,h=t;switch(t){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":g=Im;break;case"focusin":h="focus",g=Qo;break;case"focusout":h="blur",g=Qo;break;case"beforeblur":case"afterblur":g=Qo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Am;break;case Bf:case Wf:case Hf:g=bm;break;case Gf:g=Nm;break;case"scroll":g=wm;break;case"wheel":g=Um;break;case"copy":case"cut":case"paste":g=Cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ic}var w=(e&4)!==0,C=!w&&t==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,y!==null&&(x=Ts(p,y),x!=null&&w.push($s(p,x,m)))),C)break;p=p.return}0<w.length&&(f=new g(f,h,null,n,d),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Aa&&(h=n.relatedTarget||n.fromElement)&&(Un(h)||h[Kt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(h=n.relatedTarget||n.toElement,g=u,h=h?Un(h):null,h!==null&&(C=Zn(h),h!==C||h.tag!==5&&h.tag!==6)&&(h=null)):(g=null,h=u),g!==h)){if(w=rc,x="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=ic,x="onPointerLeave",y="onPointerEnter",p="pointer"),C=g==null?f:yr(g),m=h==null?f:yr(h),f=new w(x,p+"leave",g,n,d),f.target=C,f.relatedTarget=m,x=null,Un(d)===u&&(w=new w(y,p+"enter",h,n,d),w.target=m,w.relatedTarget=C,x=w),C=x,g&&h)t:{for(w=g,y=h,p=0,m=w;m;m=nr(m))p++;for(m=0,x=y;x;x=nr(x))m++;for(;0<p-m;)w=nr(w),p--;for(;0<m-p;)y=nr(y),m--;for(;p--;){if(w===y||y!==null&&w===y.alternate)break t;w=nr(w),y=nr(y)}w=null}else w=null;g!==null&&mc(c,f,g,w,!1),h!==null&&C!==null&&mc(c,C,h,w,!0)}}e:{if(f=u?yr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=Km;else if(lc(f))if(Mf)_=Ym;else{_=qm;var E=Jm}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Qm);if(_&&(_=_(t,u))){Af(c,_,n,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ra(f,"number",f.value)}switch(E=u?yr(u):window,t){case"focusin":(lc(E)||E.contentEditable==="true")&&(gr=E,Wa=u,ys=null);break;case"focusout":ys=Wa=gr=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,hc(c,n,d);break;case"selectionchange":if(e0)break;case"keydown":case"keyup":hc(c,n,d)}var O;if(Zl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pr?$f(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(If&&n.locale!=="ko"&&(pr||R!=="onCompositionStart"?R==="onCompositionEnd"&&pr&&(O=Lf()):(fn=d,Ql="value"in fn?fn.value:fn.textContent,pr=!0)),E=Hi(u,R),0<E.length&&(R=new sc(R,t,null,n,d),c.push({event:R,listeners:E}),O?R.data=O:(O=zf(n),O!==null&&(R.data=O)))),(O=Bm?Wm(t,n):Hm(t,n))&&(u=Hi(u,"onBeforeInput"),0<u.length&&(d=new sc("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=O))}Kf(c,e)})}function $s(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ts(t,n),i!=null&&r.unshift($s(t,i,s)),i=Ts(t,e),i!=null&&r.push($s(t,i,s))),t=t.return}return r}function nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mc(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ts(n,i),l!=null&&o.unshift($s(n,l,a))):s||(l=Ts(n,i),l!=null&&o.push($s(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function yc(t){return(typeof t=="string"?t:""+t).replace(s0,`
`).replace(i0,"")}function di(t,e,n){if(e=yc(e),yc(t)!==e&&n)throw Error($(425))}function Gi(){}var Ga=null,Va=null;function Ka(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,o0=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(t){return vc.resolve(null).then(t).catch(l0)}:Ja;function l0(t){setTimeout(function(){throw t})}function sa(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Os(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Os(e)}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Br=Math.random().toString(36).slice(2),It="__reactFiber$"+Br,zs="__reactProps$"+Br,Kt="__reactContainer$"+Br,qa="__reactEvents$"+Br,u0="__reactListeners$"+Br,c0="__reactHandles$"+Br;function Un(t){var e=t[It];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kt]||n[It]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wc(t);t!==null;){if(n=t[It])return n;t=wc(t)}return e}t=n,n=t.parentNode}return null}function Js(t){return t=t[It]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function xo(t){return t[zs]||null}var Qa=[],vr=-1;function Cn(t){return{current:t}}function he(t){0>vr||(t.current=Qa[vr],Qa[vr]=null,vr--)}function de(t,e){vr++,Qa[vr]=t.current,t.current=e}var bn={},Me=Cn(bn),qe=Cn(!1),Vn=bn;function Lr(t,e){var n=t.type.contextTypes;if(!n)return bn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(t){return t=t.childContextTypes,t!=null}function Vi(){he(qe),he(Me)}function xc(t,e,n){if(Me.current!==bn)throw Error($(168));de(Me,e),de(qe,n)}function qf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,Jg(t)||"Unknown",s));return ye({},n,r)}function Ki(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bn,Vn=Me.current,de(Me,t),de(qe,qe.current),!0}function Sc(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=qf(t,e,Vn),r.__reactInternalMemoizedMergedChildContext=t,he(qe),he(Me),de(Me,t)):he(qe),de(qe,n)}var Bt=null,So=!1,ia=!1;function Qf(t){Bt===null?Bt=[t]:Bt.push(t)}function d0(t){So=!0,Qf(t)}function Tn(){if(!ia&&Bt!==null){ia=!0;var t=0,e=ue;try{var n=Bt;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bt=null,So=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(t+1)),Sf(Vl,Tn),s}finally{ue=e,ia=!1}}return null}var wr=[],xr=0,Ji=null,qi=0,at=[],lt=0,Kn=null,Wt=1,Ht="";function zn(t,e){wr[xr++]=qi,wr[xr++]=Ji,Ji=t,qi=e}function Yf(t,e,n){at[lt++]=Wt,at[lt++]=Ht,at[lt++]=Kn,Kn=t;var r=Wt;t=Ht;var s=32-_t(r)-1;r&=~(1<<s),n+=1;var i=32-_t(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wt=1<<32-_t(e)+s|n<<s|r,Ht=i+t}else Wt=1<<i|n<<s|r,Ht=t}function tu(t){t.return!==null&&(zn(t,1),Yf(t,1,0))}function nu(t){for(;t===Ji;)Ji=wr[--xr],wr[xr]=null,qi=wr[--xr],wr[xr]=null;for(;t===Kn;)Kn=at[--lt],at[lt]=null,Ht=at[--lt],at[lt]=null,Wt=at[--lt],at[lt]=null}var tt=null,et=null,pe=!1,St=null;function Xf(t,e){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tt=t,et=yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tt=t,et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:Wt,overflow:Ht}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tt=t,et=null,!0):!1;default:return!1}}function Ya(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xa(t){if(pe){var e=et;if(e){var n=e;if(!kc(t,e)){if(Ya(t))throw Error($(418));e=yn(n.nextSibling);var r=tt;e&&kc(t,e)?Xf(r,n):(t.flags=t.flags&-4097|2,pe=!1,tt=t)}}else{if(Ya(t))throw Error($(418));t.flags=t.flags&-4097|2,pe=!1,tt=t}}}function _c(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tt=t}function fi(t){if(t!==tt)return!1;if(!pe)return _c(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ka(t.type,t.memoizedProps)),e&&(e=et)){if(Ya(t))throw Zf(),Error($(418));for(;e;)Xf(t,e),e=yn(e.nextSibling)}if(_c(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){et=yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}et=null}}else et=tt?yn(t.stateNode.nextSibling):null;return!0}function Zf(){for(var t=et;t;)t=yn(t.nextSibling)}function Ir(){et=tt=null,pe=!1}function ru(t){St===null?St=[t]:St.push(t)}var f0=Qt.ReactCurrentBatchConfig;function Zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function hi(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bc(t){var e=t._init;return e(t._payload)}function eh(t){function e(y,p){if(t){var m=y.deletions;m===null?(y.deletions=[p],y.flags|=16):m.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Sn(y,p),y.index=0,y.sibling=null,y}function i(y,p,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<p?(y.flags|=2,p):m):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,m,x){return p===null||p.tag!==6?(p=fa(m,y.mode,x),p.return=y,p):(p=s(p,m),p.return=y,p)}function l(y,p,m,x){var _=m.type;return _===hr?d(y,p,m.props.children,x,m.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===rn&&bc(_)===p.type)?(x=s(p,m.props),x.ref=Zr(y,p,m),x.return=y,x):(x=zi(m.type,m.key,m.props,null,y.mode,x),x.ref=Zr(y,p,m),x.return=y,x)}function u(y,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ha(m,y.mode,x),p.return=y,p):(p=s(p,m.children||[]),p.return=y,p)}function d(y,p,m,x,_){return p===null||p.tag!==7?(p=Hn(m,y.mode,x,_),p.return=y,p):(p=s(p,m),p.return=y,p)}function c(y,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=fa(""+p,y.mode,m),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ni:return m=zi(p.type,p.key,p.props,null,y.mode,m),m.ref=Zr(y,null,p),m.return=y,m;case fr:return p=ha(p,y.mode,m),p.return=y,p;case rn:var x=p._init;return c(y,x(p._payload),m)}if(ls(p)||Jr(p))return p=Hn(p,y.mode,m,null),p.return=y,p;hi(y,p)}return null}function f(y,p,m,x){var _=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:a(y,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ni:return m.key===_?l(y,p,m,x):null;case fr:return m.key===_?u(y,p,m,x):null;case rn:return _=m._init,f(y,p,_(m._payload),x)}if(ls(m)||Jr(m))return _!==null?null:d(y,p,m,x,null);hi(y,m)}return null}function g(y,p,m,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(m)||null,a(p,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ni:return y=y.get(x.key===null?m:x.key)||null,l(p,y,x,_);case fr:return y=y.get(x.key===null?m:x.key)||null,u(p,y,x,_);case rn:var E=x._init;return g(y,p,m,E(x._payload),_)}if(ls(x)||Jr(x))return y=y.get(m)||null,d(p,y,x,_,null);hi(p,x)}return null}function h(y,p,m,x){for(var _=null,E=null,O=p,R=p=0,F=null;O!==null&&R<m.length;R++){O.index>R?(F=O,O=null):F=O.sibling;var N=f(y,O,m[R],x);if(N===null){O===null&&(O=F);break}t&&O&&N.alternate===null&&e(y,O),p=i(N,p,R),E===null?_=N:E.sibling=N,E=N,O=F}if(R===m.length)return n(y,O),pe&&zn(y,R),_;if(O===null){for(;R<m.length;R++)O=c(y,m[R],x),O!==null&&(p=i(O,p,R),E===null?_=O:E.sibling=O,E=O);return pe&&zn(y,R),_}for(O=r(y,O);R<m.length;R++)F=g(O,y,R,m[R],x),F!==null&&(t&&F.alternate!==null&&O.delete(F.key===null?R:F.key),p=i(F,p,R),E===null?_=F:E.sibling=F,E=F);return t&&O.forEach(function(V){return e(y,V)}),pe&&zn(y,R),_}function w(y,p,m,x){var _=Jr(m);if(typeof _!="function")throw Error($(150));if(m=_.call(m),m==null)throw Error($(151));for(var E=_=null,O=p,R=p=0,F=null,N=m.next();O!==null&&!N.done;R++,N=m.next()){O.index>R?(F=O,O=null):F=O.sibling;var V=f(y,O,N.value,x);if(V===null){O===null&&(O=F);break}t&&O&&V.alternate===null&&e(y,O),p=i(V,p,R),E===null?_=V:E.sibling=V,E=V,O=F}if(N.done)return n(y,O),pe&&zn(y,R),_;if(O===null){for(;!N.done;R++,N=m.next())N=c(y,N.value,x),N!==null&&(p=i(N,p,R),E===null?_=N:E.sibling=N,E=N);return pe&&zn(y,R),_}for(O=r(y,O);!N.done;R++,N=m.next())N=g(O,y,R,N.value,x),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?R:N.key),p=i(N,p,R),E===null?_=N:E.sibling=N,E=N);return t&&O.forEach(function(ne){return e(y,ne)}),pe&&zn(y,R),_}function C(y,p,m,x){if(typeof m=="object"&&m!==null&&m.type===hr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ni:e:{for(var _=m.key,E=p;E!==null;){if(E.key===_){if(_=m.type,_===hr){if(E.tag===7){n(y,E.sibling),p=s(E,m.props.children),p.return=y,y=p;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===rn&&bc(_)===E.type){n(y,E.sibling),p=s(E,m.props),p.ref=Zr(y,E,m),p.return=y,y=p;break e}n(y,E);break}else e(y,E);E=E.sibling}m.type===hr?(p=Hn(m.props.children,y.mode,x,m.key),p.return=y,y=p):(x=zi(m.type,m.key,m.props,null,y.mode,x),x.ref=Zr(y,p,m),x.return=y,y=x)}return o(y);case fr:e:{for(E=m.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(y,p.sibling),p=s(p,m.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=ha(m,y.mode,x),p.return=y,y=p}return o(y);case rn:return E=m._init,C(y,p,E(m._payload),x)}if(ls(m))return h(y,p,m,x);if(Jr(m))return w(y,p,m,x);hi(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,m),p.return=y,y=p):(n(y,p),p=fa(m,y.mode,x),p.return=y,y=p),o(y)):n(y,p)}return C}var $r=eh(!0),th=eh(!1),Qi=Cn(null),Yi=null,Sr=null,su=null;function iu(){su=Sr=Yi=null}function ou(t){var e=Qi.current;he(Qi),t._currentValue=e}function Za(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jr(t,e){Yi=t,su=Sr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(su!==t)if(t={context:t,memoizedValue:e,next:null},Sr===null){if(Yi===null)throw Error($(308));Sr=t,Yi.dependencies={lanes:0,firstContext:t}}else Sr=Sr.next=t;return e}var Dn=null;function au(t){Dn===null?Dn=[t]:Dn.push(t)}function nh(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,au(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jt(t,r)}function Jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sn=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jt(t,n)}return s=r.interleaved,s===null?(e.next=e,au(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jt(t,n)}function Pi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kl(t,n)}}function Ec(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xi(t,e,n,r){var s=t.updateQueue;sn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var c=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,w=a;switch(f=e,g=n,w.tag){case 1:if(h=w.payload,typeof h=="function"){c=h.call(g,c,f);break e}c=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=w.payload,f=typeof h=="function"?h.call(g,c,f):h,f==null)break e;c=ye({},c,f);break e;case 2:sn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=c):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=c),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qn|=o,t.lanes=o,t.memoizedState=c}}function Cc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var qs={},At=Cn(qs),As=Cn(qs),Ms=Cn(qs);function Bn(t){if(t===qs)throw Error($(174));return t}function uu(t,e){switch(de(Ms,e),de(As,t),de(At,qs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ia(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ia(e,t)}he(At),de(At,e)}function zr(){he(At),he(As),he(Ms)}function sh(t){Bn(Ms.current);var e=Bn(At.current),n=Ia(e,t.type);e!==n&&(de(As,t),de(At,n))}function cu(t){As.current===t&&(he(At),he(As))}var ge=Cn(0);function Zi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oa=[];function du(){for(var t=0;t<oa.length;t++)oa[t]._workInProgressVersionPrimary=null;oa.length=0}var Oi=Qt.ReactCurrentDispatcher,aa=Qt.ReactCurrentBatchConfig,Jn=0,me=null,_e=null,Te=null,eo=!1,vs=!1,Ns=0,h0=0;function Ie(){throw Error($(321))}function fu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function hu(t,e,n,r,s,i){if(Jn=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oi.current=t===null||t.memoizedState===null?y0:v0,t=n(r,s),vs){i=0;do{if(vs=!1,Ns=0,25<=i)throw Error($(301));i+=1,Te=_e=null,e.updateQueue=null,Oi.current=w0,t=n(r,s)}while(vs)}if(Oi.current=to,e=_e!==null&&_e.next!==null,Jn=0,Te=_e=me=null,eo=!1,e)throw Error($(300));return t}function pu(){var t=Ns!==0;return Ns=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?me.memoizedState=Te=t:Te=Te.next=t,Te}function ht(){if(_e===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=Te===null?me.memoizedState:Te.next;if(e!==null)Te=e,_e=t;else{if(t===null)throw Error($(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Te===null?me.memoizedState=Te=t:Te=Te.next=t}return Te}function Fs(t,e){return typeof e=="function"?e(t):e}function la(t){var e=ht(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=_e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Jn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,me.lanes|=d,qn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Et(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,qn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ua(t){var e=ht(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Et(i,e.memoizedState)||(Ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ih(){}function oh(t,e){var n=me,r=ht(),s=e(),i=!Et(r.memoizedState,s);if(i&&(r.memoizedState=s,Ke=!0),r=r.queue,gu(uh.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Us(9,lh.bind(null,n,r,s,e),void 0,null),je===null)throw Error($(349));Jn&30||ah(n,e,s)}return s}function ah(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lh(t,e,n,r){e.value=n,e.getSnapshot=r,ch(e)&&dh(t)}function uh(t,e,n){return n(function(){ch(e)&&dh(t)})}function ch(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch{return!0}}function dh(t){var e=Jt(t,1);e!==null&&bt(e,t,1,-1)}function Tc(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:t},e.queue=t,t=t.dispatch=m0.bind(null,me,t),[e.memoizedState,t]}function Us(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fh(){return ht().memoizedState}function Ri(t,e,n,r){var s=Lt();me.flags|=t,s.memoizedState=Us(1|e,n,void 0,r===void 0?null:r)}function ko(t,e,n,r){var s=ht();r=r===void 0?null:r;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,r!==null&&fu(r,o.deps)){s.memoizedState=Us(e,n,i,r);return}}me.flags|=t,s.memoizedState=Us(1|e,n,i,r)}function jc(t,e){return Ri(8390656,8,t,e)}function gu(t,e){return ko(2048,8,t,e)}function hh(t,e){return ko(4,2,t,e)}function ph(t,e){return ko(4,4,t,e)}function gh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mh(t,e,n){return n=n!=null?n.concat([t]):null,ko(4,4,gh.bind(null,e,t),n)}function mu(){}function yh(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vh(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wh(t,e,n){return Jn&21?(Et(n,e)||(n=bf(),me.lanes|=n,qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=n)}function p0(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=aa.transition;aa.transition={};try{t(!1),e()}finally{ue=n,aa.transition=r}}function xh(){return ht().memoizedState}function g0(t,e,n){var r=xn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sh(t))kh(e,n);else if(n=nh(t,e,n,r),n!==null){var s=Ue();bt(n,t,r,s),_h(n,e,r)}}function m0(t,e,n){var r=xn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sh(t))kh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Et(a,o)){var l=e.interleaved;l===null?(s.next=s,au(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=nh(t,e,s,r),n!==null&&(s=Ue(),bt(n,t,r,s),_h(n,e,r))}}function Sh(t){var e=t.alternate;return t===me||e!==null&&e===me}function kh(t,e){vs=eo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _h(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kl(t,n)}}var to={readContext:ft,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},y0={readContext:ft,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:jc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ri(4194308,4,gh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ri(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ri(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g0.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:Tc,useDebugValue:mu,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=Tc(!1),e=t[0];return t=p0.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=Lt();if(pe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),je===null)throw Error($(349));Jn&30||ah(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jc(uh.bind(null,r,i,t),[t]),r.flags|=2048,Us(9,lh.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Lt(),e=je.identifierPrefix;if(pe){var n=Ht,r=Wt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=h0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v0={readContext:ft,useCallback:yh,useContext:ft,useEffect:gu,useImperativeHandle:mh,useInsertionEffect:hh,useLayoutEffect:ph,useMemo:vh,useReducer:la,useRef:fh,useState:function(){return la(Fs)},useDebugValue:mu,useDeferredValue:function(t){var e=ht();return wh(e,_e.memoizedState,t)},useTransition:function(){var t=la(Fs)[0],e=ht().memoizedState;return[t,e]},useMutableSource:ih,useSyncExternalStore:oh,useId:xh,unstable_isNewReconciler:!1},w0={readContext:ft,useCallback:yh,useContext:ft,useEffect:gu,useImperativeHandle:mh,useInsertionEffect:hh,useLayoutEffect:ph,useMemo:vh,useReducer:ua,useRef:fh,useState:function(){return ua(Fs)},useDebugValue:mu,useDeferredValue:function(t){var e=ht();return _e===null?e.memoizedState=t:wh(e,_e.memoizedState,t)},useTransition:function(){var t=ua(Fs)[0],e=ht().memoizedState;return[t,e]},useMutableSource:ih,useSyncExternalStore:oh,useId:xh,unstable_isNewReconciler:!1};function vt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function el(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _o={isMounted:function(t){return(t=t._reactInternals)?Zn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ue(),s=xn(t),i=Gt(r,s);i.payload=e,n!=null&&(i.callback=n),e=vn(t,i,s),e!==null&&(bt(e,t,s,r),Pi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ue(),s=xn(t),i=Gt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vn(t,i,s),e!==null&&(bt(e,t,s,r),Pi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),r=xn(t),s=Gt(n,r);s.tag=2,e!=null&&(s.callback=e),e=vn(t,s,r),e!==null&&(bt(e,t,r,n),Pi(e,t,r))}};function Pc(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ls(n,r)||!Ls(s,i):!0}function bh(t,e,n){var r=!1,s=bn,i=e.contextType;return typeof i=="object"&&i!==null?i=ft(i):(s=Qe(e)?Vn:Me.current,r=e.contextTypes,i=(r=r!=null)?Lr(t,s):bn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_o,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Oc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_o.enqueueReplaceState(e,e.state,null)}function tl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ft(i):(i=Qe(e)?Vn:Me.current,s.context=Lr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(el(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_o.enqueueReplaceState(s,s.state,null),Xi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ar(t,e){try{var n="",r=e;do n+=Kg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ca(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function Eh(t,e,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ro||(ro=!0,fl=r),nl(t,e)},n}function Ch(t,e,n){n=Gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){nl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nl(t,e),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$0.bind(null,t,e,n),e.then(t,t))}function Lc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ic(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gt(-1,1),e.tag=2,vn(n,e,1))),n.lanes|=1),t)}var S0=Qt.ReactCurrentOwner,Ke=!1;function Fe(t,e,n,r){e.child=t===null?th(e,null,n,r):$r(e,t.child,n,r)}function $c(t,e,n,r,s){n=n.render;var i=e.ref;return jr(e,s),r=hu(t,e,n,r,i,s),n=pu(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qt(t,e,s)):(pe&&n&&tu(e),e.flags|=1,Fe(t,e,r,s),e.child)}function zc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Th(t,e,i,r,s)):(t=zi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(o,r)&&t.ref===e.ref)return qt(t,e,s)}return e.flags|=1,t=Sn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Th(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ls(i,r)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,qt(t,e,s)}return rl(t,e,n,r,s)}function jh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(_r,Ze),Ze|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(_r,Ze),Ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(_r,Ze),Ze|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,de(_r,Ze),Ze|=r;return Fe(t,e,s,n),e.child}function Ph(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rl(t,e,n,r,s){var i=Qe(n)?Vn:Me.current;return i=Lr(e,i),jr(e,s),n=hu(t,e,n,r,i,s),r=pu(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qt(t,e,s)):(pe&&r&&tu(e),e.flags|=1,Fe(t,e,n,s),e.child)}function Ac(t,e,n,r,s){if(Qe(n)){var i=!0;Ki(e)}else i=!1;if(jr(e,s),e.stateNode===null)Li(t,e),bh(e,n,r),tl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Qe(n)?Vn:Me.current,u=Lr(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Oc(e,o,r,u),sn=!1;var f=e.memoizedState;o.state=f,Xi(e,r,o,s),l=e.memoizedState,a!==r||f!==l||qe.current||sn?(typeof d=="function"&&(el(e,n,d,r),l=e.memoizedState),(a=sn||Pc(e,n,a,r,f,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:vt(e.type,a),o.props=u,c=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Qe(n)?Vn:Me.current,l=Lr(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==l)&&Oc(e,o,r,l),sn=!1,f=e.memoizedState,o.state=f,Xi(e,r,o,s);var h=e.memoizedState;a!==c||f!==h||qe.current||sn?(typeof g=="function"&&(el(e,n,g,r),h=e.memoizedState),(u=sn||Pc(e,n,u,r,f,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return sl(t,e,n,r,i,s)}function sl(t,e,n,r,s,i){Ph(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Sc(e,n,!1),qt(t,e,i);r=e.stateNode,S0.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$r(e,t.child,null,i),e.child=$r(e,null,a,i)):Fe(t,e,a,i),e.memoizedState=r.state,s&&Sc(e,n,!0),e.child}function Oh(t){var e=t.stateNode;e.pendingContext?xc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xc(t,e.context,!1),uu(t,e.containerInfo)}function Mc(t,e,n,r,s){return Ir(),ru(s),e.flags|=256,Fe(t,e,n,r),e.child}var il={dehydrated:null,treeContext:null,retryLane:0};function ol(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rh(t,e,n){var r=e.pendingProps,s=ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),de(ge,s&1),t===null)return Xa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Co(o,r,0,null),t=Hn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ol(n),e.memoizedState=il,t):yu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return k0(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Sn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Sn(a,i):(i=Hn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ol(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=il,r}return i=t.child,t=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yu(t,e){return e=Co({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pi(t,e,n,r){return r!==null&&ru(r),$r(e,t.child,null,n),t=yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ca(Error($(422))),pi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Co({mode:"visible",children:r.children},s,0,null),i=Hn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$r(e,t.child,null,o),e.child.memoizedState=ol(o),e.memoizedState=il,i);if(!(e.mode&1))return pi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=ca(i,r,void 0),pi(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ke||a){if(r=je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jt(t,s),bt(r,t,s,-1))}return _u(),r=ca(Error($(421))),pi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,et=yn(s.nextSibling),tt=e,pe=!0,St=null,t!==null&&(at[lt++]=Wt,at[lt++]=Ht,at[lt++]=Kn,Wt=t.id,Ht=t.overflow,Kn=e),e=yu(e,r.children),e.flags|=4096,e)}function Nc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Za(t.return,e,n)}function da(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Lh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Fe(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nc(t,n,e);else if(t.tag===19)Nc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),da(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}da(e,!0,n,null,i);break;case"together":da(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Li(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _0(t,e,n){switch(e.tag){case 3:Oh(e),Ir();break;case 5:sh(e);break;case 1:Qe(e.type)&&Ki(e);break;case 4:uu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;de(Qi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?Rh(t,e,n):(de(ge,ge.current&1),t=qt(t,e,n),t!==null?t.sibling:null);de(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Lh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,jh(t,e,n)}return qt(t,e,n)}var Ih,al,$h,zh;Ih=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};al=function(){};$h=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Bn(At.current);var i=null;switch(n){case"input":s=Pa(t,s),r=Pa(t,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=La(t,s),r=La(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gi)}$a(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Es.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};zh=function(t,e,n,r){n!==r&&(e.flags|=4)};function es(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b0(t,e,n){var r=e.pendingProps;switch(nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return Qe(e.type)&&Vi(),$e(e),null;case 3:return r=e.stateNode,zr(),he(qe),he(Me),du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,St!==null&&(gl(St),St=null))),al(t,e),$e(e),null;case 5:cu(e);var s=Bn(Ms.current);if(n=e.type,t!==null&&e.stateNode!=null)$h(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return $e(e),null}if(t=Bn(At.current),fi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[It]=e,r[zs]=i,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<cs.length;s++)fe(cs[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Ku(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":qu(r,i),fe("invalid",r)}$a(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&di(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&di(r.textContent,a,t),s=["children",""+a]):Es.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":ri(r),Ju(r,i,!0);break;case"textarea":ri(r),Qu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[It]=e,t[zs]=r,Ih(t,e,!1,!1),e.stateNode=t;e:{switch(o=za(n,r),n){case"dialog":fe("cancel",t),fe("close",t),s=r;break;case"iframe":case"object":case"embed":fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<cs.length;s++)fe(cs[s],t);s=r;break;case"source":fe("error",t),s=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),s=r;break;case"details":fe("toggle",t),s=r;break;case"input":Ku(t,r),s=Pa(t,r),fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),fe("invalid",t);break;case"textarea":qu(t,r),s=La(t,r),fe("invalid",t);break;default:s=r}$a(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ff(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cs(t,l):typeof l=="number"&&Cs(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Es.hasOwnProperty(i)?l!=null&&i==="onScroll"&&fe("scroll",t):l!=null&&Dl(t,i,l,o))}switch(n){case"input":ri(t),Ju(t,r,!1);break;case"textarea":ri(t),Qu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_n(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?br(t,!!r.multiple,i,!1):r.defaultValue!=null&&br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)zh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Bn(Ms.current),Bn(At.current),fi(e)){if(r=e.stateNode,n=e.memoizedProps,r[It]=e,(i=r.nodeValue!==n)&&(t=tt,t!==null))switch(t.tag){case 3:di(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&di(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=e,e.stateNode=r}return $e(e),null;case 13:if(he(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&et!==null&&e.mode&1&&!(e.flags&128))Zf(),Ir(),e.flags|=98560,i=!1;else if(i=fi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[It]=e}else Ir(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),i=!1}else St!==null&&(gl(St),St=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Ee===0&&(Ee=3):_u())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return zr(),al(t,e),t===null&&Is(e.stateNode.containerInfo),$e(e),null;case 10:return ou(e.type._context),$e(e),null;case 17:return Qe(e.type)&&Vi(),$e(e),null;case 19:if(he(ge),i=e.memoizedState,i===null)return $e(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)es(i,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zi(t),o!==null){for(e.flags|=128,es(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(ge,ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&xe()>Mr&&(e.flags|=128,r=!0,es(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return $e(e),null}else 2*xe()-i.renderingStartTime>Mr&&n!==1073741824&&(e.flags|=128,r=!0,es(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xe(),e.sibling=null,n=ge.current,de(ge,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return ku(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ze&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function E0(t,e){switch(nu(e),e.tag){case 1:return Qe(e.type)&&Vi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zr(),he(qe),he(Me),du(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cu(e),null;case 13:if(he(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Ir()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ge),null;case 4:return zr(),null;case 10:return ou(e.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var gi=!1,Ae=!1,C0=typeof WeakSet=="function"?WeakSet:Set,D=null;function kr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function ll(t,e,n){try{n()}catch(r){we(t,e,r)}}var Fc=!1;function T0(t,e){if(Ga=Bi,t=Uf(),eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var g;c!==n||s!==0&&c.nodeType!==3||(a=o+s),c!==i||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Va={focusedElem:t,selectionRange:n},Bi=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var w=h.memoizedProps,C=h.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:vt(e.type,w),C);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){we(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return h=Fc,Fc=!1,h}function ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ll(e,n,i)}s=s.next}while(s!==r)}}function bo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ul(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ah(t){var e=t.alternate;e!==null&&(t.alternate=null,Ah(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[It],delete e[zs],delete e[qa],delete e[u0],delete e[c0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mh(t){return t.tag===5||t.tag===3||t.tag===4}function Uc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gi));else if(r!==4&&(t=t.child,t!==null))for(cl(t,e,n),t=t.sibling;t!==null;)cl(t,e,n),t=t.sibling}function dl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dl(t,e,n),t=t.sibling;t!==null;)dl(t,e,n),t=t.sibling}var Oe=null,wt=!1;function en(t,e,n){for(n=n.child;n!==null;)Nh(t,e,n),n=n.sibling}function Nh(t,e,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 5:Ae||kr(n,e);case 6:var r=Oe,s=wt;Oe=null,en(t,e,n),Oe=r,wt=s,Oe!==null&&(wt?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(wt?(t=Oe,n=n.stateNode,t.nodeType===8?sa(t.parentNode,n):t.nodeType===1&&sa(t,n),Os(t)):sa(Oe,n.stateNode));break;case 4:r=Oe,s=wt,Oe=n.stateNode.containerInfo,wt=!0,en(t,e,n),Oe=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ll(n,e,o),s=s.next}while(s!==r)}en(t,e,n);break;case 1:if(!Ae&&(kr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,e,a)}en(t,e,n);break;case 21:en(t,e,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,en(t,e,n),Ae=r):en(t,e,n);break;default:en(t,e,n)}}function Dc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C0),e.forEach(function(r){var s=A0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,wt=!1;break e;case 3:Oe=a.stateNode.containerInfo,wt=!0;break e;case 4:Oe=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Oe===null)throw Error($(160));Nh(i,o,s),Oe=null,wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){we(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fh(e,t),e=e.sibling}function Fh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),Pt(t),r&4){try{ws(3,t,t.return),bo(3,t)}catch(w){we(t,t.return,w)}try{ws(5,t,t.return)}catch(w){we(t,t.return,w)}}break;case 1:gt(e,t),Pt(t),r&512&&n!==null&&kr(n,n.return);break;case 5:if(gt(e,t),Pt(t),r&512&&n!==null&&kr(n,n.return),t.flags&32){var s=t.stateNode;try{Cs(s,"")}catch(w){we(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&af(s,i),za(a,o);var u=za(a,i);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?ff(s,c):d==="dangerouslySetInnerHTML"?cf(s,c):d==="children"?Cs(s,c):Dl(s,d,c,u)}switch(a){case"input":Oa(s,i);break;case"textarea":lf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?br(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?br(s,!!i.multiple,i.defaultValue,!0):br(s,!!i.multiple,i.multiple?[]:"",!1))}s[zs]=i}catch(w){we(t,t.return,w)}}break;case 6:if(gt(e,t),Pt(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){we(t,t.return,w)}}break;case 3:if(gt(e,t),Pt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Os(e.containerInfo)}catch(w){we(t,t.return,w)}break;case 4:gt(e,t),Pt(t);break;case 13:gt(e,t),Pt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xu=xe())),r&4&&Dc(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(u=Ae)||d,gt(e,t),Ae=u):gt(e,t),Pt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(c=D=d;D!==null;){switch(f=D,g=f.child,f.tag){case 0:case 11:case 14:case 15:ws(4,f,f.return);break;case 1:kr(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(w){we(r,n,w)}}break;case 5:kr(f,f.return);break;case 22:if(f.memoizedState!==null){Wc(c);continue}}g!==null?(g.return=f,D=g):Wc(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=df("display",o))}catch(w){we(t,t.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){we(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:gt(e,t),Pt(t),r&4&&Dc(t);break;case 21:break;default:gt(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Mh(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cs(s,""),r.flags&=-33);var i=Uc(t);dl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uc(t);cl(t,a,o);break;default:throw Error($(161))}}catch(l){we(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j0(t,e,n){D=t,Uh(t)}function Uh(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=gi;var u=Ae;if(gi=o,(Ae=l)&&!u)for(D=s;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Hc(s):l!==null?(l.return=o,D=l):Hc(s);for(;i!==null;)D=i,Uh(i),i=i.sibling;D=s,gi=a,Ae=u}Bc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Bc(t)}}function Bc(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||bo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cc(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cc(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Os(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ae||e.flags&512&&ul(e)}catch(f){we(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Wc(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Hc(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bo(4,e)}catch(l){we(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){we(e,s,l)}}var i=e.return;try{ul(e)}catch(l){we(e,i,l)}break;case 5:var o=e.return;try{ul(e)}catch(l){we(e,o,l)}}}catch(l){we(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var P0=Math.ceil,no=Qt.ReactCurrentDispatcher,vu=Qt.ReactCurrentOwner,ct=Qt.ReactCurrentBatchConfig,se=0,je=null,ke=null,Re=0,Ze=0,_r=Cn(0),Ee=0,Ds=null,qn=0,Eo=0,wu=0,xs=null,Ge=null,xu=0,Mr=1/0,Ut=null,ro=!1,fl=null,wn=null,mi=!1,hn=null,so=0,Ss=0,hl=null,Ii=-1,$i=0;function Ue(){return se&6?xe():Ii!==-1?Ii:Ii=xe()}function xn(t){return t.mode&1?se&2&&Re!==0?Re&-Re:f0.transition!==null?($i===0&&($i=bf()),$i):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Rf(t.type)),t):1}function bt(t,e,n,r){if(50<Ss)throw Ss=0,hl=null,Error($(185));Vs(t,n,r),(!(se&2)||t!==je)&&(t===je&&(!(se&2)&&(Eo|=n),Ee===4&&un(t,Re)),Ye(t,r),n===1&&se===0&&!(e.mode&1)&&(Mr=xe()+500,So&&Tn()))}function Ye(t,e){var n=t.callbackNode;fm(t,e);var r=Di(t,t===je?Re:0);if(r===0)n!==null&&Zu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zu(n),e===1)t.tag===0?d0(Gc.bind(null,t)):Qf(Gc.bind(null,t)),a0(function(){!(se&6)&&Tn()}),n=null;else{switch(Ef(r)){case 1:n=Vl;break;case 4:n=kf;break;case 16:n=Ui;break;case 536870912:n=_f;break;default:n=Ui}n=Jh(n,Dh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dh(t,e){if(Ii=-1,$i=0,se&6)throw Error($(327));var n=t.callbackNode;if(Pr()&&t.callbackNode!==n)return null;var r=Di(t,t===je?Re:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=io(t,r);else{e=r;var s=se;se|=2;var i=Wh();(je!==t||Re!==e)&&(Ut=null,Mr=xe()+500,Wn(t,e));do try{L0();break}catch(a){Bh(t,a)}while(!0);iu(),no.current=i,se=s,ke!==null?e=0:(je=null,Re=0,e=Ee)}if(e!==0){if(e===2&&(s=Ua(t),s!==0&&(r=s,e=pl(t,s))),e===1)throw n=Ds,Wn(t,0),un(t,r),Ye(t,xe()),n;if(e===6)un(t,r);else{if(s=t.current.alternate,!(r&30)&&!O0(s)&&(e=io(t,r),e===2&&(i=Ua(t),i!==0&&(r=i,e=pl(t,i))),e===1))throw n=Ds,Wn(t,0),un(t,r),Ye(t,xe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:An(t,Ge,Ut);break;case 3:if(un(t,r),(r&130023424)===r&&(e=xu+500-xe(),10<e)){if(Di(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ue(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ja(An.bind(null,t,Ge,Ut),e);break}An(t,Ge,Ut);break;case 4:if(un(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_t(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*P0(r/1960))-r,10<r){t.timeoutHandle=Ja(An.bind(null,t,Ge,Ut),r);break}An(t,Ge,Ut);break;case 5:An(t,Ge,Ut);break;default:throw Error($(329))}}}return Ye(t,xe()),t.callbackNode===n?Dh.bind(null,t):null}function pl(t,e){var n=xs;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=io(t,e),t!==2&&(e=Ge,Ge=n,e!==null&&gl(e)),t}function gl(t){Ge===null?Ge=t:Ge.push.apply(Ge,t)}function O0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Et(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function un(t,e){for(e&=~wu,e&=~Eo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_t(e),r=1<<n;t[n]=-1,e&=~r}}function Gc(t){if(se&6)throw Error($(327));Pr();var e=Di(t,0);if(!(e&1))return Ye(t,xe()),null;var n=io(t,e);if(t.tag!==0&&n===2){var r=Ua(t);r!==0&&(e=r,n=pl(t,r))}if(n===1)throw n=Ds,Wn(t,0),un(t,e),Ye(t,xe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,An(t,Ge,Ut),Ye(t,xe()),null}function Su(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Mr=xe()+500,So&&Tn())}}function Qn(t){hn!==null&&hn.tag===0&&!(se&6)&&Pr();var e=se;se|=1;var n=ct.transition,r=ue;try{if(ct.transition=null,ue=1,t)return t()}finally{ue=r,ct.transition=n,se=e,!(se&6)&&Tn()}}function ku(){Ze=_r.current,he(_r)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,o0(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vi();break;case 3:zr(),he(qe),he(Me),du();break;case 5:cu(r);break;case 4:zr();break;case 13:he(ge);break;case 19:he(ge);break;case 10:ou(r.type._context);break;case 22:case 23:ku()}n=n.return}if(je=t,ke=t=Sn(t.current,null),Re=Ze=e,Ee=0,Ds=null,wu=Eo=qn=0,Ge=xs=null,Dn!==null){for(e=0;e<Dn.length;e++)if(n=Dn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Dn=null}return t}function Bh(t,e){do{var n=ke;try{if(iu(),Oi.current=to,eo){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}eo=!1}if(Jn=0,Te=_e=me=null,vs=!1,Ns=0,vu.current=null,n===null||n.return===null){Ee=1,Ds=e,ke=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Lc(o);if(g!==null){g.flags&=-257,Ic(g,o,a,i,e),g.mode&1&&Rc(i,u,e),e=g,l=u;var h=e.updateQueue;if(h===null){var w=new Set;w.add(l),e.updateQueue=w}else h.add(l);break e}else{if(!(e&1)){Rc(i,u,e),_u();break e}l=Error($(426))}}else if(pe&&a.mode&1){var C=Lc(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ic(C,o,a,i,e),ru(Ar(l,a));break e}}i=l=Ar(l,a),Ee!==4&&(Ee=2),xs===null?xs=[i]:xs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Eh(i,l,e);Ec(i,y);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(wn===null||!wn.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Ch(i,a,e);Ec(i,x);break e}}i=i.return}while(i!==null)}Gh(n)}catch(_){e=_,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function Wh(){var t=no.current;return no.current=to,t===null?to:t}function _u(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),je===null||!(qn&268435455)&&!(Eo&268435455)||un(je,Re)}function io(t,e){var n=se;se|=2;var r=Wh();(je!==t||Re!==e)&&(Ut=null,Wn(t,e));do try{R0();break}catch(s){Bh(t,s)}while(!0);if(iu(),se=n,no.current=r,ke!==null)throw Error($(261));return je=null,Re=0,Ee}function R0(){for(;ke!==null;)Hh(ke)}function L0(){for(;ke!==null&&!rm();)Hh(ke)}function Hh(t){var e=Kh(t.alternate,t,Ze);t.memoizedProps=t.pendingProps,e===null?Gh(t):ke=e,vu.current=null}function Gh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=E0(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,ke=null;return}}else if(n=b0(n,e,Ze),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Ee===0&&(Ee=5)}function An(t,e,n){var r=ue,s=ct.transition;try{ct.transition=null,ue=1,I0(t,e,n,r)}finally{ct.transition=s,ue=r}return null}function I0(t,e,n,r){do Pr();while(hn!==null);if(se&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hm(t,i),t===je&&(ke=je=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mi||(mi=!0,Jh(Ui,function(){return Pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ct.transition,ct.transition=null;var o=ue;ue=1;var a=se;se|=4,vu.current=null,T0(t,n),Fh(n,t),Zm(Va),Bi=!!Ga,Va=Ga=null,t.current=n,j0(n),sm(),se=a,ue=o,ct.transition=i}else t.current=n;if(mi&&(mi=!1,hn=t,so=s),i=t.pendingLanes,i===0&&(wn=null),am(n.stateNode),Ye(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ro)throw ro=!1,t=fl,fl=null,t;return so&1&&t.tag!==0&&Pr(),i=t.pendingLanes,i&1?t===hl?Ss++:(Ss=0,hl=t):Ss=0,Tn(),null}function Pr(){if(hn!==null){var t=Ef(so),e=ct.transition,n=ue;try{if(ct.transition=null,ue=16>t?16:t,hn===null)var r=!1;else{if(t=hn,hn=null,so=0,se&6)throw Error($(331));var s=se;for(se|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:ws(8,d,i)}var c=d.child;if(c!==null)c.return=d,D=c;else for(;D!==null;){d=D;var f=d.sibling,g=d.return;if(Ah(d),d===u){D=null;break}if(f!==null){f.return=g,D=f;break}D=g}}}var h=i.alternate;if(h!==null){var w=h.child;if(w!==null){h.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ws(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var p=t.current;for(D=p;D!==null;){o=D;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,D=m;else e:for(o=p;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bo(9,a)}}catch(_){we(a,a.return,_)}if(a===o){D=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,D=x;break e}D=a.return}}if(se=s,Tn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(mo,t)}catch{}r=!0}return r}finally{ue=n,ct.transition=e}}return!1}function Vc(t,e,n){e=Ar(n,e),e=Eh(t,e,1),t=vn(t,e,1),e=Ue(),t!==null&&(Vs(t,1,e),Ye(t,e))}function we(t,e,n){if(t.tag===3)Vc(t,t,n);else for(;e!==null;){if(e.tag===3){Vc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){t=Ar(n,t),t=Ch(e,t,1),e=vn(e,t,1),t=Ue(),e!==null&&(Vs(e,1,t),Ye(e,t));break}}e=e.return}}function $0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Re&n)===n&&(Ee===4||Ee===3&&(Re&130023424)===Re&&500>xe()-xu?Wn(t,0):wu|=n),Ye(t,e)}function Vh(t,e){e===0&&(t.mode&1?(e=oi,oi<<=1,!(oi&130023424)&&(oi=4194304)):e=1);var n=Ue();t=Jt(t,e),t!==null&&(Vs(t,e,n),Ye(t,n))}function z0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vh(t,n)}function A0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Vh(t,n)}var Kh;Kh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qe.current)Ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ke=!1,_0(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,pe&&e.flags&1048576&&Yf(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Li(t,e),t=e.pendingProps;var s=Lr(e,Me.current);jr(e,n),s=hu(null,e,r,t,s,n);var i=pu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(r)?(i=!0,Ki(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lu(e),s.updater=_o,e.stateNode=s,s._reactInternals=e,tl(e,r,t,n),e=sl(null,e,r,!0,i,n)):(e.tag=0,pe&&i&&tu(e),Fe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Li(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=N0(r),t=vt(r,t),s){case 0:e=rl(null,e,r,t,n);break e;case 1:e=Ac(null,e,r,t,n);break e;case 11:e=$c(null,e,r,t,n);break e;case 14:e=zc(null,e,r,vt(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),rl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),Ac(t,e,r,s,n);case 3:e:{if(Oh(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,rh(t,e),Xi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ar(Error($(423)),e),e=Mc(t,e,r,n,s);break e}else if(r!==s){s=Ar(Error($(424)),e),e=Mc(t,e,r,n,s);break e}else for(et=yn(e.stateNode.containerInfo.firstChild),tt=e,pe=!0,St=null,n=th(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),r===s){e=qt(t,e,n);break e}Fe(t,e,r,n)}e=e.child}return e;case 5:return sh(e),t===null&&Xa(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ka(r,s)?o=null:i!==null&&Ka(r,i)&&(e.flags|=32),Ph(t,e),Fe(t,e,o,n),e.child;case 6:return t===null&&Xa(e),null;case 13:return Rh(t,e,n);case 4:return uu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,n):Fe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),$c(t,e,r,s,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,de(Qi,r._currentValue),r._currentValue=o,i!==null)if(Et(i.value,o)){if(i.children===s.children&&!qe.current){e=qt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Za(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Za(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,jr(e,n),s=ft(s),r=r(s),e.flags|=1,Fe(t,e,r,n),e.child;case 14:return r=e.type,s=vt(r,e.pendingProps),s=vt(r.type,s),zc(t,e,r,s,n);case 15:return Th(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),Li(t,e),e.tag=1,Qe(r)?(t=!0,Ki(e)):t=!1,jr(e,n),bh(e,r,s),tl(e,r,s,n),sl(null,e,r,!0,t,n);case 19:return Lh(t,e,n);case 22:return jh(t,e,n)}throw Error($(156,e.tag))};function Jh(t,e){return Sf(t,e)}function M0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,n,r){return new M0(t,e,n,r)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N0(t){if(typeof t=="function")return bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wl)return 11;if(t===Hl)return 14}return 2}function Sn(t,e){var n=t.alternate;return n===null?(n=ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zi(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hr:return Hn(n.children,s,i,e);case Bl:o=8,s|=8;break;case Ea:return t=ut(12,n,e,s|2),t.elementType=Ea,t.lanes=i,t;case Ca:return t=ut(13,n,e,s),t.elementType=Ca,t.lanes=i,t;case Ta:return t=ut(19,n,e,s),t.elementType=Ta,t.lanes=i,t;case rf:return Co(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tf:o=10;break e;case nf:o=9;break e;case Wl:o=11;break e;case Hl:o=14;break e;case rn:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=ut(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Hn(t,e,n,r){return t=ut(7,t,r,e),t.lanes=n,t}function Co(t,e,n,r){return t=ut(22,t,r,e),t.elementType=rf,t.lanes=n,t.stateNode={isHidden:!1},t}function fa(t,e,n){return t=ut(6,t,null,e),t.lanes=n,t}function ha(t,e,n){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(t,e,n,r,s,i,o,a,l){return t=new F0(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ut(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(i),t}function U0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qh(t){if(!t)return bn;t=t._reactInternals;e:{if(Zn(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Qe(n))return qf(t,n,e)}return e}function Qh(t,e,n,r,s,i,o,a,l){return t=Eu(n,r,!0,t,s,i,o,a,l),t.context=qh(null),n=t.current,r=Ue(),s=xn(n),i=Gt(r,s),i.callback=e??null,vn(n,i,s),t.current.lanes=s,Vs(t,s,r),Ye(t,r),t}function To(t,e,n,r){var s=e.current,i=Ue(),o=xn(s);return n=qh(n),e.context===null?e.context=n:e.pendingContext=n,e=Gt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vn(s,e,o),t!==null&&(bt(t,s,o,i),Pi(t,s,o)),o}function oo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cu(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}function D0(){return null}var Yh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tu(t){this._internalRoot=t}jo.prototype.render=Tu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));To(t,e,null,null)};jo.prototype.unmount=Tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qn(function(){To(null,t,null,null)}),e[Kt]=null}};function jo(t){this._internalRoot=t}jo.prototype.unstable_scheduleHydration=function(t){if(t){var e=jf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ln.length&&e!==0&&e<ln[n].priority;n++);ln.splice(n,0,t),n===0&&Of(t)}};function ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Po(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function B0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=oo(o);i.call(u)}}var o=Qh(e,r,t,0,null,!1,!1,"",Jc);return t._reactRootContainer=o,t[Kt]=o.current,Is(t.nodeType===8?t.parentNode:t),Qn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=oo(l);a.call(u)}}var l=Eu(t,0,!1,null,null,!1,!1,"",Jc);return t._reactRootContainer=l,t[Kt]=l.current,Is(t.nodeType===8?t.parentNode:t),Qn(function(){To(e,l,n,r)}),l}function Oo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oo(o);a.call(l)}}To(e,o,t,s)}else o=B0(n,e,t,s,r);return oo(o)}Cf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=us(e.pendingLanes);n!==0&&(Kl(e,n|1),Ye(e,xe()),!(se&6)&&(Mr=xe()+500,Tn()))}break;case 13:Qn(function(){var r=Jt(t,1);if(r!==null){var s=Ue();bt(r,t,1,s)}}),Cu(t,1)}};Jl=function(t){if(t.tag===13){var e=Jt(t,134217728);if(e!==null){var n=Ue();bt(e,t,134217728,n)}Cu(t,134217728)}};Tf=function(t){if(t.tag===13){var e=xn(t),n=Jt(t,e);if(n!==null){var r=Ue();bt(n,t,e,r)}Cu(t,e)}};jf=function(){return ue};Pf=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Ma=function(t,e,n){switch(e){case"input":if(Oa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xo(r);if(!s)throw Error($(90));of(r),Oa(r,s)}}}break;case"textarea":lf(t,n);break;case"select":e=n.value,e!=null&&br(t,!!n.multiple,e,!1)}};gf=Su;mf=Qn;var W0={usingClientEntryPoint:!1,Events:[Js,yr,xo,hf,pf,Su]},ts={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H0={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wf(t),t===null?null:t.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||D0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{mo=yi.inject(H0),zt=yi}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W0;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(e))throw Error($(200));return U0(t,e,null,n)};rt.createRoot=function(t,e){if(!ju(t))throw Error($(299));var n=!1,r="",s=Yh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Eu(t,1,!1,null,null,n,!1,r,s),t[Kt]=e.current,Is(t.nodeType===8?t.parentNode:t),new Tu(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=wf(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return Qn(t)};rt.hydrate=function(t,e,n){if(!Po(e))throw Error($(200));return Oo(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!ju(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Yh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Qh(e,null,t,1,n??null,s,!1,i,o),t[Kt]=e.current,Is(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jo(e)};rt.render=function(t,e,n){if(!Po(e))throw Error($(200));return Oo(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!Po(t))throw Error($(40));return t._reactRootContainer?(Qn(function(){Oo(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};rt.unstable_batchedUpdates=Su;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Po(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Oo(t,e,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function Xh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xh)}catch(t){console.error(t)}}Xh(),Yd.exports=rt;var G0=Yd.exports,qc=G0;_a.createRoot=qc.createRoot,_a.hydrateRoot=qc.hydrateRoot;const V0=(t,e,n,r)=>{var i,o,a,l;const s=[n,{code:e,...r||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Gn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Qc={},ml=(t,e,n,r)=>{Gn(n)&&Qc[n]||(Gn(n)&&(Qc[n]=new Date),V0(t,e,n,r))},Zh=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},yl=(t,e,n)=>{t.loadNamespaces(e,Zh(t,n))},Yc=(t,e,n,r)=>{if(Gn(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return yl(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Zh(t,r))},K0=(t,e,n={})=>!e.languages||!e.languages.length?(ml(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),Gn=t=>typeof t=="string",J0=t=>typeof t=="object"&&t!==null,q0=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Q0={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Y0=t=>Q0[t],X0=t=>t.replace(q0,Y0);let vl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:X0};const Z0=(t={})=>{vl={...vl,...t}},ey=()=>vl;let ep;const ty=t=>{ep=t},ny=()=>ep,ry={type:"3rdParty",init(t){Z0(t.options.react),ty(t)}},sy=z.createContext();class iy{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const oy=(t,e)=>{const n=z.useRef();return z.useEffect(()=>{n.current=t},[t,e]),n.current},tp=(t,e,n,r)=>t.getFixedT(e,n,r),ay=(t,e,n,r)=>z.useCallback(tp(t,e,n,r),[t,e,n,r]),Ct=(t,e={})=>{var x,_,E,O;const{i18n:n}=e,{i18n:r,defaultNS:s}=z.useContext(sy)||{},i=n||r||ny();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new iy),!i){ml(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(N,V)=>Gn(V)?V:J0(V)&&Gn(V.defaultValue)?V.defaultValue:Array.isArray(N)?N[N.length-1]:N,F=[R,{},!1];return F.t=R,F.i18n={},F.ready=!1,F}(x=i.options.react)!=null&&x.wait&&ml(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...ey(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=s||((_=i.options)==null?void 0:_.defaultNS);u=Gn(u)?[u]:u||["translation"],(O=(E=i.reportNamespaces).addUsedNamespaces)==null||O.call(E,u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(R=>K0(R,i,o)),c=ay(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),f=()=>c,g=()=>tp(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[h,w]=z.useState(f);let C=u.join();e.lng&&(C=`${e.lng}${C}`);const y=oy(C),p=z.useRef(!0);z.useEffect(()=>{const{bindI18n:R,bindI18nStore:F}=o;p.current=!0,!d&&!a&&(e.lng?Yc(i,e.lng,u,()=>{p.current&&w(g)}):yl(i,u,()=>{p.current&&w(g)})),d&&y&&y!==C&&p.current&&w(g);const N=()=>{p.current&&w(g)};return R&&(i==null||i.on(R,N)),F&&(i==null||i.store.on(F,N)),()=>{p.current=!1,i&&R&&(R==null||R.split(" ").forEach(V=>i.off(V,N))),F&&i&&F.split(" ").forEach(V=>i.store.off(V,N))}},[i,C]),z.useEffect(()=>{p.current&&d&&w(f)},[i,l,d]);const m=[h,i,d];if(m.t=h,m.i18n=i,m.ready=d,d||!d&&!a)return m;throw new Promise(R=>{e.lng?Yc(i,e.lng,u,()=>R()):yl(i,u,()=>R())})},ao=new Map([[1,"✨"],[2,"💧"],[3,"🌱"],[4,"🌿"],[5,"🐞"],[6,"🐦"],[7,"🌤️"],[8,"🌈"],[9,"🔭"],[10,"🚀"],[11,"🌍"],[12,"🌕"],[13,"🧑‍🚀"],[14,"🛰️"],[15,"☄️"],[16,"🌠"],[17,"🪐"],[18,"⭐"],[19,"🌌"],[20,"👽"],[21,"🛸"],[22,"🔬"],[23,"🧪"],[24,"🧬"],[25,"🫀"],[26,"🧠"],[27,"🏛️"],[28,"🗺️"],[29,"🧭"],[30,"🎯"],[31,"🏅"],[32,"🏆"]]),np=-1,ly="🃏",uy=50,on={primary:"#4CAF50",background:"#FAFAFA",tileBackground:"#ECEFF1",tileBorder:"#CFD8DC",textPrimary:"#212121",textSecondary:"#666666",border:{light:"#e9ecef"}},cy=new Map([[1,"#FFF3E0"],[2,"#E3F2FD"],[3,"#E8F5E8"],[4,"#F1F8E9"],[5,"#FFEBEE"],[6,"#E0F2F1"],[7,"#FFF8E1"],[8,"#F3E5F5"],[9,"#E8EAF6"],[10,"#E1F5FE"],[11,"#E0F7FA"],[12,"#F9FBE7"],[13,"#FCE4EC"],[14,"#E4C441"],[15,"#FFECB3"],[16,"#F0F4C3"],[17,"#E1BEE7"],[18,"#FFFFFF"]]),dy=t=>cy.get(t)||"#F5F5F5",fy=t=>t===14?"#2D2D2D":"#424242",Ai="8px",hy=1,py=on.tileBorder,gy=on.tileBackground,Q=10,my=4,yy=({tile:t,cellSize:e,onTileClick:n,isFrozen:r=!1,freezeTurns:s=0,isSelected:i=!1,canInteract:o=!1,isSelectable:a=!1,isPicked:l=!1})=>{const[u,d]=z.useState(t.justSpawned?.7:1),[c,f]=z.useState(t.justSpawned?.5:1);z.useEffect(()=>{t.justSpawned&&setTimeout(()=>{d(1),f(1)},10)},[t.justSpawned]),z.useEffect(()=>{t.justMerged&&(d(1.3),setTimeout(()=>d(1),150))},[t.justMerged]);const g=t.isJoker?ly:ao.get(t.level)||"❓",h=t.col*(e+Q),w=t.row*(e+Q);let C=t.isJoker?"linear-gradient(45deg, #FFD700, #FFA500, #FF69B4, #9370DB)":dy(t.level),y=t.isJoker?"#FFFFFF":fy(t.level);r&&(C="#60A5FA",y="#FFFFFF"),l?C="#10B981":i&&(C="#34D399");const p=()=>{(o||a)&&n&&n(t,t.row,t.col)},m=_=>{_.preventDefault()},x=_=>{_.preventDefault(),_.stopPropagation(),p()};return k.jsxs("div",{onClick:p,onTouchStart:m,onTouchEnd:x,style:{position:"absolute",left:h,top:w,width:e,height:e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:t.justMerged?"rgba(255, 215, 0, 0.8)":(t.isJoker,C),borderRadius:Ai,border:l?"3px solid #059669":i?"3px solid #10B981":r?"2px solid #3B82F6":a?"2px solid #F59E0B":"1px solid rgba(255, 255, 255, 0.3)",transform:`scale(${u})`,opacity:c,transition:"left 0.2s ease, top 0.2s ease, transform 0.15s ease, opacity 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease",boxSizing:"border-box",boxShadow:t.justMerged?"0 4px 16px rgba(255, 215, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.15)":t.isJoker&&!l&&!i&&!r&&!a?"0 4px 20px rgba(255, 215, 0, 0.6), 0 6px 16px rgba(255, 105, 180, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15)":l?"0 4px 16px rgba(5, 150, 105, 0.5), 0 2px 8px rgba(0, 0, 0, 0.15)":i?"0 4px 16px rgba(16, 185, 129, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15)":r?"0 4px 16px rgba(59, 130, 246, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15)":a?"0 4px 12px rgba(245, 158, 11, 0.3), 0 2px 8px rgba(0, 0, 0, 0.1)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:t.justMerged?100:i?50:10,padding:my,cursor:o||a?"pointer":"default",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none",touchAction:"manipulation"},children:[t.isJoker&&!r&&k.jsx("div",{style:{position:"absolute",inset:0,borderRadius:Ai,pointerEvents:"none",overflow:"hidden",zIndex:1},children:k.jsx("div",{style:{position:"absolute",width:"200%",height:"200%",background:"radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.8) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.6) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(255, 215, 0, 0.4) 0%, transparent 50%)",animation:"sparkle 2s ease-in-out infinite",transform:"translate(-50%, -50%)",top:"50%",left:"50%"}})}),r&&k.jsxs("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(96, 165, 250, 0.3)",borderRadius:Ai,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:2},children:[k.jsx("div",{style:{fontSize:Math.max(8,e*.15),color:"white",fontWeight:"bold",marginBottom:"1px"},children:"❄️"}),k.jsx("div",{style:{fontSize:Math.max(6,e*.12),color:"white",fontWeight:"bold",backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:"8px",padding:"1px 4px",minWidth:"12px",textAlign:"center"},children:s})]}),k.jsx("div",{style:{fontSize:Math.max(16,e*.35),lineHeight:"1",marginBottom:Math.max(1,e*.025),display:"flex",alignItems:"center",justifyContent:"center"},children:g}),k.jsx("div",{style:{fontSize:Math.max(8,e*.15),fontWeight:"600",color:y,lineHeight:"1",fontFamily:"Arial, sans-serif",textShadow:"0 1px 2px rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.isJoker?"JOKER":t.level}),k.jsx("style",{children:`
        @keyframes sparkle {
          0%, 100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0.8;
          }
          50% {
            transform: translate(-50%, -50%) scale(1.2);
            opacity: 1;
          }
        }
      `})]})},v={spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.25rem","2xl":"1.5rem","3xl":"2rem","4xl":"3rem"},fontSize:{xs:"clamp(0.75rem, 1.5vh, 0.875rem)",sm:"clamp(0.875rem, 2vh, 1rem)",base:"clamp(1rem, 2.5vh, 1.125rem)",lg:"clamp(1.125rem, 3vh, 1.25rem)",xl:"clamp(1.25rem, 3.5vh, 1.5rem)","3xl":"clamp(1.875rem, 5vh, 2.25rem)","4xl":"clamp(2.25rem, 6vh, 3rem)"},borderRadius:{md:"0.5rem",lg:"0.75rem",xl:"1rem"},boxShadow:{base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",button:"0 6px 20px rgba(76, 175, 80, 0.3)",buttonHover:"0 8px 25px rgba(76, 175, 80, 0.4)",overlay:"0 8px 32px rgba(0, 0, 0, 0.1)"},transition:{base:"0.2s ease",smooth:"0.3s cubic-bezier(0.4, 0, 0.2, 1)"},layout:{maxContainerWidth:"600px",buttonMaxWidth:"320px",buttonMinHeight:"clamp(56px, 8vh, 64px)",popupPadding:"clamp(24px, 4vh, 48px)",popupContentPadding:"clamp(20px, 3vh, 32px)"}},rp={sm:{fontSize:v.fontSize.sm,padding:`${v.spacing.sm} ${v.spacing.lg}`,minHeight:"clamp(40px, 6vh, 48px)",borderRadius:v.borderRadius.md},md:{fontSize:v.fontSize.base,padding:`${v.spacing.md} ${v.spacing.xl}`,minHeight:v.layout.buttonMinHeight,borderRadius:v.borderRadius.lg},lg:{fontSize:v.fontSize.lg,padding:`${v.spacing.lg} ${v.spacing["2xl"]}`,minHeight:"clamp(64px, 10vh, 72px)",borderRadius:v.borderRadius.xl}},vy={primary:{background:"#4CAF50",backgroundHover:"#45a049",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:v.boxShadow.button,shadowHover:v.boxShadow.buttonHover,border:"2px solid #4CAF50"},secondary:{background:"rgba(255, 255, 255, 0.9)",backgroundHover:"#f8f9fa",color:"#666666",colorHover:"#333333",shadow:v.boxShadow.base,shadowHover:v.boxShadow.md,border:"2px solid #e9ecef"},danger:{background:"#F44336",backgroundHover:"#E04949",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:"0 6px 20px rgba(244, 67, 54, 0.3)",shadowHover:"0 8px 25px rgba(244, 67, 54, 0.4)",border:"none"},warning:{background:"#FFEB3B",backgroundHover:"#E6B800",color:"#333333",colorHover:"#333333",shadow:"0 6px 20px rgba(255, 235, 59, 0.3)",shadowHover:"0 8px 25px rgba(255, 235, 59, 0.4)",border:"none"}},be=({children:t,variant:e="primary",size:n="md",disabled:r=!1,fullWidth:s=!0,style:i,onMouseOver:o,onMouseOut:a,onMouseDown:l,onMouseUp:u,...d})=>{const c=vy[e],f=rp[n],g={width:s?"100%":"auto",maxWidth:s?v.layout.buttonMaxWidth:"none",minHeight:f.minHeight,fontSize:f.fontSize,fontWeight:"bold",fontFamily:"inherit",color:r?"rgba(255, 255, 255, 0.6)":c.color,backgroundColor:r?"rgba(76, 175, 80, 0.4)":c.background,border:r?"none":c.border,borderRadius:f.borderRadius,padding:f.padding,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",gap:v.spacing.sm,cursor:r?"not-allowed":"pointer",opacity:r?.6:1,boxShadow:r?"none":c.shadow,transition:`all ${v.transition.smooth}`,transform:"translateY(0)",outline:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"},h=x=>{if(!r){const _=x.currentTarget;_.style.backgroundColor=c.backgroundHover,_.style.color=c.colorHover,_.style.transform="translateY(-2px)",_.style.boxShadow=c.shadowHover,e==="secondary"?_.style.borderColor="#6c757d":e==="primary"&&(_.style.borderColor="#45a049")}o==null||o(x)},w=x=>{if(!r){const _=x.currentTarget;_.style.backgroundColor=c.background,_.style.color=c.color,_.style.transform="translateY(0)",_.style.boxShadow=c.shadow,e==="secondary"?_.style.borderColor="#e9ecef":e==="primary"&&(_.style.borderColor="#4CAF50")}a==null||a(x)},C=x=>{r||(x.currentTarget.style.transform="translateY(0) scale(0.98)"),l==null||l(x)},y=x=>{r||(x.currentTarget.style.transform="translateY(-2px) scale(1)"),u==null||u(x)},p=x=>{r||(x.currentTarget.style.outline="2px solid rgba(76, 175, 80, 0.5)",x.currentTarget.style.outlineOffset="2px")},m=x=>{x.currentTarget.style.outline="none"};return k.jsx("button",{style:{...g,...i},disabled:r,onMouseOver:h,onMouseOut:w,onMouseDown:C,onMouseUp:y,onFocus:p,onBlur:m,...d,children:t})};let kt=null,kn=!1,wl=!1;const sp="emojiFusion:sound",xl=.2,Mt=(t=1,e=.05,n=220,r=0,s=0,i=.1,o=0,a=1,l=0,u=0,d=0,c=0,f=0,g=0,h=0,w=0,C=0,y=1,p=0,m=0)=>{if(!(!kt||!kn))try{let x,_,E,O,R,F,N=44100*(r+s+i+.15),V=r*44100,ne=s*44100,ie=i*44100,oe=V+ne;for(x=kt.createBuffer(1,N|0,44100),_=x.getChannelData(0),E=O=R=F=0;E<N;_[E++]=F){let ve=E/N,M=E<V?E/V:0,L=E>=oe?(N-E)/ie:0,H=E<V?M:E<oe?y:L,G=n+l*ve;d&&c&&E>c*44100&&(G+=d),O+=G*Math.PI*2/44100,R=o<.5?Math.sin(O):o<1.5?O%(Math.PI*2)>Math.PI?-1:1:(O*2%(Math.PI*2)-Math.PI)/Math.PI,a!==1&&(R=Math.sign(R)*Math.pow(Math.abs(R),a)),g&&(R+=(Math.random()*2-1)*g),h&&(R*=1+Math.sin(E*h*Math.PI*2/44100)*.5),m&&(R*=1+Math.sin(E*m*Math.PI*2/44100)*.3),w&&(R=Math.round(R*w)/w),F=R*H*t,e&&(F*=1+(Math.random()-.5)*e),F=Math.max(-1,Math.min(1,F))}let Se=kt.createBufferSource();return Se.buffer=x,Se.connect(kt.destination),Se.start(),Se}catch(x){console.warn("ZzFX playback error:",x);return}};let Nr=!1,De=xl;const wy=()=>{try{const t=localStorage.getItem(sp);if(t){const e=JSON.parse(t);Nr=e.muted===!0,De=typeof e.volume=="number"&&e.volume>=0&&e.volume<=1?e.volume:xl}}catch(t){console.warn("Failed to load sound settings:",t),Nr=!1,De=xl}},xy=()=>{if(wl||typeof window>"u")return;wl=!0;const t=["click","touchstart","touchend","keydown","keyup","mousedown"],e=()=>{kn||Qs(),t.forEach(n=>{document.removeEventListener(n,e,!0)})};t.forEach(n=>{document.addEventListener(n,e,!0)}),console.log("🎵 Auto-initialization setup complete - sound will activate on first user interaction")},ip=()=>{try{const t={muted:Nr,volume:De};localStorage.setItem(sp,JSON.stringify(t))}catch(t){console.warn("Failed to save sound settings:",t)}},Sy=()=>{wy(),xy(),console.log("🎵 Sound system ready - settings loaded, auto-init configured")},Qs=()=>{if(!kn)try{kt=new(window.AudioContext||window.webkitAudioContext),kt.state==="suspended"&&kt.resume().then(()=>{console.log("🎵 Audio context resumed")}).catch(t=>{console.warn("Failed to resume audio context:",t)}),kn=!0,console.log("🎵 Sound system initialized successfully")}catch(t){console.error("Failed to initialize audio context:",t),kn=!1}},Pu=t=>{Nr=t,ip()},ky=()=>Nr,op=t=>{De=Math.max(0,Math.min(1,t)),ip()},Xc=()=>wl,Nt=t=>{if(!(!kn||!kt||Nr||De<=0))try{kt.state==="suspended"&&kt.resume(),kt.state==="running"&&t()}catch(e){console.warn("Failed to play sound:",e)}},ap=()=>{Nt(()=>Mt(.06*De,0,420,.002,.015,.08,0,1,25,0,0,0,0,0,0,0,0,.7,0,0))},lp=()=>{Nt(()=>Mt(.08*De,0,360,.004,.028,.12,0,1.1,60,0,0,0,0,0,0,0,0,.85,0,0))},Sl=()=>{Nt(()=>Mt(.05*De,0,140,.002,.012,.085,0,1.4,0,0,0,0,0,0,0,0,0,.6,0,0))},up=()=>{Nt(()=>Mt(.1*De,0,220,.01,.06,.45,0,1,-220,0,0,0,0,0,0,0,0,.7,0,0))},Je=()=>{Nt(()=>Mt(.04*De,0,320,.001,.008,.05,0,1,0,0,0,0,0,0,0,0,0,.8,0,0))},lo=()=>{Nt(()=>Mt(.07*De,0,520,.003,.02,.14,0,1.1,140,0,120,.04,0,0,0,0,0,.8,0,0))},cp=()=>{Nt(()=>Mt(.06*De,0,340,.002,.015,.1,0,1,60,0,0,0,0,0,0,0,0,.75,0,0))},dp=()=>{Nt(()=>Mt(.06*De,0,260,.003,.02,.14,0,1,-120,0,120,.04,0,0,0,0,0,.75,0,0))},cn=()=>{Nt(()=>Mt(.09*De,0,440,.005,.05,.25,0,1,220,0,0,0,0,0,5,0,0,.8,0,0))},_y=()=>{Nt(()=>Mt(.3*De,0,300,.05,.2,.4,0,1.5,50,0,0,0,0,0,0,0,0,1,0,0))},fp=()=>{if(!kn){Qs(),setTimeout(fp,100);return}console.log("🎵 Testing game sounds..."),Pu(!1),op(.5),[{name:"Move",fn:ap,delay:0},{name:"Merge",fn:lp,delay:600},{name:"Denied",fn:Sl,delay:1200},{name:"Game Over",fn:up,delay:1800}].forEach(({name:e,fn:n,delay:r})=>{setTimeout(()=>{console.log(`🔊 ${e}`),n()},r)})},hp=()=>{if(!kn){Qs(),setTimeout(hp,100);return}console.log("🎵 Testing UI sounds..."),Pu(!1),op(.5),[{name:"Button Click",fn:Je,delay:0},{name:"New Game",fn:lo,delay:400},{name:"Resume Game",fn:cp,delay:800},{name:"Undo",fn:dp,delay:1200},{name:"Top 100",fn:cn,delay:1600}].forEach(({name:e,fn:n,delay:r})=>{setTimeout(()=>{console.log(`🔊 ${e}`),n()},r)})};typeof window<"u"&&(window.testSounds=fp,window.testUISounds=hp,console.log("🎵 Sound system loaded! Test: window.testSounds() or window.testUISounds()"));const by=({score:t,onRestart:e,onMainMenu:n,onBackToGame:r,canUndo:s=!1,extraUndos:i=0,onNameSubmit:o,onSkipHighScore:a,isCheckingScore:l=!1,isSavingScore:u=!1,qualifiesForLeaderboard:d=!1,gridWidth:c})=>{const{t:f}=Ct(),[g,h]=z.useState(!1),[w,C]=z.useState(f("common.player")),[y,p]=z.useState(!1),[m,x]=z.useState(!1),_={width:`${c}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:v.fontSize.base,fontWeight:"bold",borderRadius:v.borderRadius.lg,padding:`${v.spacing.md} ${v.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"};z.useEffect(()=>{const ne=setTimeout(()=>{h(!0)},50);return()=>clearTimeout(ne)},[]),z.useEffect(()=>{console.log("🔍 GameOverOverlay back to game debug:",{canUndo:s,extraUndos:i,onBackToGame:!!r})},[s,i,r]);const E=()=>{o&&w.trim()&&!u&&(cn(),p(!0),o(w.trim()))};z.useEffect(()=>{},[u,y]);const O=ne=>{ne.key==="Enter"&&d&&!y&&E()},R=()=>{d&&!y&&!u?(Je(),x(!0)):(lo(),e())},F=()=>{Je(),n()},N=()=>{lo(),x(!1),p(!0),a&&a(),e()},V=()=>{Je(),x(!1),setTimeout(()=>{const ne=document.querySelector('input[type="text"]');ne&&d&&!y&&ne.focus()},100)};return k.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",color:"white",fontSize:v.fontSize.xl,fontWeight:"bold",zIndex:1e3,backdropFilter:"blur(3px)",padding:`clamp(${v.spacing.lg}, 4vh, ${v.spacing["3xl"]}) clamp(${v.spacing.md}, 3vw, ${v.spacing["2xl"]})`,paddingBottom:m?"clamp(140px, 25vh, 200px)":"clamp(80px, 15vh, 120px)",boxSizing:"border-box",opacity:g?1:0,transition:"opacity 1s ease-in-out",overflow:m?"hidden":"auto"},children:k.jsxs("div",{style:{width:"fit-content",minWidth:`${c}px`,maxWidth:`max(${c}px, min(90vw, 500px))`,backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:v.borderRadius.xl,padding:m?`clamp(${v.spacing["3xl"]}, 8vh, ${v.spacing["4xl"]})`:`clamp(${v.spacing.xl}, 5vh, ${v.spacing["4xl"]})`,border:"2px solid rgba(255, 255, 255, 0.15)",display:"flex",flexDirection:"column",alignItems:"center",gap:`clamp(${v.spacing.md}, 2vh, ${v.spacing.lg})`,marginTop:m?"clamp(10px, 4vh, 30px)":"clamp(20px, 8vh, 60px)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",minHeight:m?"auto":void 0,maxHeight:m?"calc(100vh - 200px)":"calc(100vh - 140px)"},children:[k.jsx("div",{style:{fontSize:`clamp(${v.fontSize.lg}, 4vw, ${v.fontSize.xl})`,textAlign:"center",margin:0},children:f("gameOver.title")}),k.jsx("div",{style:{fontSize:`clamp(${v.fontSize.sm}, 3vw, ${v.fontSize.base})`,opacity:.9,textAlign:"center",margin:0},children:f("gameOver.finalScore",{score:t.toLocaleString()})}),l&&k.jsx("div",{style:{textAlign:"center",color:"#FFD700",fontSize:v.fontSize.base,fontWeight:"bold"},children:f("gameOver.checkingLeaderboard")}),u&&k.jsx("div",{style:{textAlign:"center",color:"#FFD700",fontSize:v.fontSize.base,fontWeight:"bold"},children:f("gameOver.savingScore")}),!l&&!u&&d&&!y&&k.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:`clamp(${v.spacing.sm}, 2vh, ${v.spacing.md})`},children:[k.jsx("div",{style:{fontSize:v.fontSize.sm,color:"#FFD700",fontWeight:"bold",textAlign:"center"},children:f("gameOver.topScore")}),k.jsx("input",{type:"text",value:w,onChange:ne=>C(ne.target.value.slice(0,12)),onKeyPress:O,placeholder:f("gameOver.enterName"),autoFocus:!0,style:{..._,border:"2px solid #FFD700",textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",outline:"none"}}),k.jsx(be,{onClick:E,variant:"primary",size:"md",disabled:u||!w.trim(),style:_,children:f(u?"gameOver.saving":"gameOver.saveScore")})]}),d&&y&&k.jsx("div",{style:{fontSize:v.fontSize.base,color:"#4CAF50",fontWeight:"bold",textAlign:"center"},children:f("gameOver.scoreSaved")}),m&&k.jsxs("div",{style:{textAlign:"center",backgroundColor:"rgba(255, 215, 0, 0.1)",padding:v.layout.popupPadding,borderRadius:v.borderRadius.lg,border:"2px solid rgba(255, 215, 0, 0.4)",width:`${c}px`,minWidth:"280px",maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",gap:v.spacing.lg,boxSizing:"border-box",margin:`${v.spacing["2xl"]} 0 ${v.spacing["3xl"]} 0`,position:"relative",zIndex:1,opacity:1,transition:"opacity 0.3s ease-in-out"},children:[k.jsx("div",{style:{fontSize:v.fontSize.base,color:"#FFD700",fontWeight:"bold",textAlign:"center"},children:f("gameOver.skipHighScore")}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:v.spacing.md,alignItems:"center",width:"100%",padding:`0 ${v.layout.popupContentPadding}`,boxSizing:"border-box"},children:[k.jsx(be,{onClick:V,variant:"primary",size:"md",style:{..._,width:`calc(${c}px - ${v.layout.popupContentPadding} * 2)`},children:f("gameOver.skipCancel")}),k.jsx(be,{onClick:N,variant:"warning",size:"md",style:{..._,width:`calc(${c}px - ${v.layout.popupContentPadding} * 2)`},children:f("gameOver.skipConfirm")})]})]}),!m&&k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:v.spacing.md,alignItems:"center",width:"100%"},children:[(s||i>0)&&r&&k.jsxs(be,{onClick:()=>{Je(),r()},disabled:!1,variant:"warning",size:"md",style:{..._,backgroundColor:"#FBB040",color:"white",border:"2px solid #F59E0B"},children:["↩️ ",f("gameOver.backToGame")]}),k.jsx(be,{onClick:R,disabled:l||u,variant:"primary",size:"md",style:_,children:f(l||u?"gameOver.pleaseWait":"gameOver.newGame")}),k.jsx(be,{onClick:F,disabled:l||u,variant:"secondary",size:"md",style:_,children:f(l||u?"gameOver.pleaseWait":"gameOver.mainMenu")})]})]})})},Ey=({score:t,x:e,y:n,cellSize:r,onComplete:s})=>{const[i,o]=z.useState(!0);return z.useEffect(()=>{const a=setTimeout(()=>{o(!1),setTimeout(s,50)},700);return()=>clearTimeout(a)},[s]),i?k.jsxs("div",{style:{position:"absolute",left:e+r/2,top:n+r/2,transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1e3,fontSize:"20px",fontWeight:"bold",color:"#FFFFFF",fontFamily:"Arial, sans-serif",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.8), -1px -1px 2px rgba(0, 0, 0, 0.5)",animation:"mergeScoreFloat 0.7s ease-out forwards"},children:["+",t,k.jsx("style",{children:`
        @keyframes mergeScoreFloat {
          0% {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
          }
          20% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.2);
          }
          40% {
            opacity: 1;
            transform: translate(-50%, -60%) scale(1);
          }
          100% {
            opacity: 0;
            transform: translate(-50%, -80%) scale(0.9);
          }
        }
      `})]}):null},pp=()=>{const[t,e]=z.useState(typeof window<"u"?window.innerWidth:768);z.useEffect(()=>{const i=()=>{e(window.innerWidth)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const n=t<768,r=t>=768&&t<1024,s=t>=1024;return{windowWidth:t,isMobile:n,isTablet:r,isDesktop:s}},Ro=({children:t,className:e,allowScroll:n=!0})=>{const{isMobile:r}=pp();return k.jsx("div",{className:e,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100dvh",maxHeight:"100dvh",height:"100dvh",width:"100vw",overflowY:n?"auto":"hidden",overflowX:"hidden",backgroundColor:"#f5f5f5",fontFamily:'system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:r?`clamp(${v.spacing.sm}, 2vh, ${v.spacing.lg})`:`clamp(${v.spacing.md}, 3vh, ${v.spacing.xl})`,boxSizing:"border-box",scrollBehavior:"smooth",position:"relative"},children:k.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:r?"center":"flex-start",width:"100%",maxWidth:v.layout.maxContainerWidth,minHeight:r?"100%":"fit-content",maxHeight:"100%",height:r?"100%":"auto",gap:r?`clamp(${v.spacing.sm}, 1.5vh, ${v.spacing.md})`:`clamp(${v.spacing.md}, 2vh, ${v.spacing.xl})`,position:"relative",zIndex:1},children:t})})},Cy=({onGoHome:t,disabled:e=!1,gridWidth:n})=>{const{t:r}=Ct(),s=()=>{Je(),t()};return k.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:v.spacing.lg,width:"100%"},children:k.jsx(be,{variant:"secondary",size:"sm",fullWidth:!1,onClick:s,disabled:e,style:{width:`${n}px`,minWidth:"280px",maxWidth:"500px",minHeight:v.layout.buttonMinHeight,padding:`clamp(${v.spacing.sm}, 1.5vh, ${v.spacing.md}) ${v.spacing.lg}`,fontSize:"clamp(14px, 3vw, 16px)",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:r("gameControls.home")})})},gp=()=>{const[t,e]=z.useState(typeof window<"u"?window.innerWidth:768);z.useEffect(()=>{const c=()=>{e(window.innerWidth)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const n=typeof navigator<"u"?navigator.userAgent:"",r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),s=typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),i=t<768,o=t>=768&&t<1024,a=r||s&&i,l=s&&o||!r&&s&&o,u=!a&&!l,d=u||!s&&t>=1024;return{isMobile:a,isTablet:l,isDesktop:u,isTouchDevice:s,hasPhysicalKeyboard:d,windowWidth:t}},Ty=({onUndo:t,canUndo:e,disabled:n=!1,allowUndoWhenDisabled:r=!1,gridWidth:s,extraUndos:i=0})=>{const{t:o}=Ct(),{hasPhysicalKeyboard:a}=gp(),l=()=>{dp(),t()};return k.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:k.jsxs(be,{variant:"warning",size:"sm",fullWidth:!1,onClick:l,disabled:!e||n&&!r,style:{width:`${s}px`,minWidth:"280px",maxWidth:"500px",minHeight:v.layout.buttonMinHeight,padding:`clamp(${v.spacing.sm}, 1.5vh, ${v.spacing.md}) ${v.spacing.lg}`,fontSize:"clamp(14px, 3vw, 16px)",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:[k.jsx("span",{children:o(a?"gameControls.undoShortcut":"gameControls.undo")}),i>0&&k.jsxs("span",{style:{marginLeft:v.spacing.sm,backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#B45309",padding:"2px 6px",borderRadius:"10px",fontSize:"clamp(10px, 2.5vw, 12px)",fontWeight:"bold"},children:["+",i]})]})})},jy=({style:t,showShortcuts:e=!0})=>{const{t:n}=Ct(),{hasPhysicalKeyboard:r,isTouchDevice:s}=gp();return k.jsxs("div",{style:{fontSize:v.fontSize.sm,color:"#666",textAlign:"center",lineHeight:"1.4",...t},children:[k.jsx("div",{style:{marginBottom:v.spacing.xs},children:n(s?"controls.touchInstructions":"controls.keyboardInstructions")}),r&&e&&k.jsx("div",{style:{fontSize:v.fontSize.xs,opacity:.8},children:n("controls.keyboardShortcuts")})]})},Py={freeze:{emoji:"🧊",title:"Freeze Tile",description:"Friert ein Tile für 3 Züge ein. Kann nicht bewegt oder gemerged werden."},swap:{emoji:"🔀",title:"Swap Tiles",description:"Vertauscht zwei beliebige Tiles miteinander."},delete:{emoji:"🗑️",title:"Delete Tile",description:"Löscht ein beliebiges Tile vom Spielfeld."},undo:{emoji:"⏪",title:"Extra Undo",description:"Gewährt einen zusätzlichen Undo-Versuch."},slowmo:{emoji:"⏳",title:"Slow Motion",description:"Für die nächsten 5 Züge spawnen keine neuen Tiles."},copy:{emoji:"🪄",title:"Copy Tile",description:"Kopiert ein Tile identisch auf ein freies Feld."},upgrade3:{emoji:"⬆️",title:"Upgrade 3",description:"Erhöht 3 zufällige Tiles um +1 Level."},bomb:{emoji:"💣",title:"Bomb",description:"Zerstört ein Tile und seine 4 orthogonalen Nachbarn."},scorex3:{emoji:"✖️",title:"Score x3",description:"3-fach-Punkte für die nächsten 5 Züge."},spawnJoker:{emoji:"🃏",title:"Joker Spawner",description:"Spawnt einen Joker auf einem freien Feld."}},Oy=({type:t,visible:e,onConfirm:n,onCancel:r,position:s})=>{if(!e)return null;const i=Py[t],o=window.innerWidth<480,a=o?Math.min(280,window.innerWidth-32):240,l=Math.max(16,Math.min(s.x-a/2,window.innerWidth-a-16));return k.jsxs("div",{style:{position:"fixed",left:l,top:Math.max(16,s.y+10),width:`${a}px`,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:o?v.spacing.sm:v.spacing.md,borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",zIndex:1e3,fontSize:o?v.fontSize.xs:v.fontSize.sm,lineHeight:"1.4"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:v.spacing.sm,marginBottom:v.spacing.sm,fontSize:v.fontSize.base,fontWeight:"600"},children:[k.jsx("span",{style:{fontSize:"20px"},children:i.emoji}),i.title]}),k.jsx("div",{style:{marginBottom:v.spacing.md,color:"#cccccc"},children:i.description}),k.jsxs("div",{style:{display:"flex",gap:v.spacing.xs,justifyContent:"flex-end"},children:[k.jsx("button",{onClick:r,style:{padding:o?`${v.spacing.xs} ${v.spacing.sm}`:`${v.spacing.sm} ${v.spacing.md}`,backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:o?v.fontSize.xs:v.fontSize.sm,fontWeight:"500"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},children:"Cancel"}),k.jsx("button",{onClick:n,style:{padding:o?`${v.spacing.xs} ${v.spacing.sm}`:`${v.spacing.sm} ${v.spacing.md}`,backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:o?v.fontSize.xs:v.fontSize.sm,fontWeight:"500"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#45a049"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="#4CAF50"},children:"Use Power-Up"})]}),k.jsx("div",{style:{position:"absolute",top:"-8px",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid rgba(0, 0, 0, 0.9)"}})]})},Zc={freeze:"🧊",swap:"🔀",delete:"🗑️",undo:"⏪",slowmo:"⏳",copy:"🪄",upgrade3:"⬆️",bomb:"💣",scorex3:"✖️",spawnJoker:"🃏"},ed={freeze:"#60A5FA",swap:"#34D399",delete:"#F87171",undo:"#FBBF24",slowmo:"#A78BFA",copy:"#8B5CF6",upgrade3:"#10B981",bomb:"#EF4444",scorex3:"#F59E0B",spawnJoker:"#6366F1"},Ry=({powerUps:t,onUsePowerUp:e,disabled:n=!1,gridWidth:r,slowMotionTurns:s=0,scoreMultiplierTurns:i=0})=>{const[o,a]=z.useState({visible:!1,type:null,powerUpId:null,position:{x:0,y:0}}),l=(f,g)=>{if(n)return;const h=g.currentTarget.getBoundingClientRect(),w=h.left+h.width/2,C=h.bottom;a({visible:!0,type:f.type,powerUpId:f.id,position:{x:w,y:C}})},u=()=>{o.powerUpId&&e(o.powerUpId),a({visible:!1,type:null,powerUpId:null,position:{x:0,y:0}})},d=()=>{a({visible:!1,type:null,powerUpId:null,position:{x:0,y:0}})},c=Array.from({length:4},(f,g)=>({powerUp:t[g],index:g}));return k.jsxs(k.Fragment,{children:[k.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:v.spacing.sm,padding:"16px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"2px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",width:r?`${r}px`:"fit-content",minWidth:"280px",maxWidth:"500px",position:"relative",zIndex:1,margin:"0 auto"},children:[s>0&&k.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"8px",backgroundColor:"#A78BFA",border:"2px solid rgba(167, 139, 250, 0.3)",fontSize:"28px",animation:"pulse-slowmo 2s ease-in-out infinite",position:"relative",transition:"all 0.2s ease"},children:k.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:["⏳",k.jsx("div",{style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#FBB040",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:s})]})}),i>0&&k.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"8px",backgroundColor:"#F59E0B",border:"2px solid rgba(245, 158, 11, 0.3)",fontSize:"28px",animation:"pulse-scorex3 2s ease-in-out infinite",position:"relative",transition:"all 0.2s ease"},children:k.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:["✖️",k.jsx("div",{style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#DC2626",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:i})]})}),c.map(({powerUp:f,index:g})=>k.jsxs("div",{onClick:f?h=>l(f,h):void 0,style:{width:"60px",height:"60px",borderRadius:"8px",border:"2px solid rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:f&&!n?"pointer":"default",backgroundColor:f?ed[f.type]:"rgba(0, 0, 0, 0.05)",opacity:n?.6:1,transition:"all 0.2s ease",position:"relative",fontSize:"28px"},onMouseEnter:h=>{f&&!n&&(h.currentTarget.style.transform="scale(1.05)",h.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")},onMouseLeave:h=>{h.currentTarget.style.transform="scale(1)",h.currentTarget.style.boxShadow="none"},title:f?`${Zc[f.type]} ${f.type}`:"Empty slot",children:[f?Zc[f.type]:"",f&&k.jsx("div",{style:{position:"absolute",inset:"-2px",borderRadius:"10px",background:`linear-gradient(45deg, ${ed[f.type]}, transparent)`,opacity:.3,zIndex:-1}})]},g))]}),o.visible&&o.type&&k.jsx(Oy,{type:o.type,visible:o.visible,onConfirm:u,onCancel:d,position:o.position})]})},Ly=t=>{if(!t)return"";const e=t.required-t.picked.length;switch(t.type){case"swap":return e===2?"Power-Up aktiv – wähle zwei Tiles zum Vertauschen.":e===1?"Wähle das zweite Tile zum Vertauschen.":"Tiles werden vertauscht...";case"delete":return e===1?"Power-Up aktiv – wähle ein Tile zum Entfernen.":"Tile wird entfernt...";case"freeze":return e===1?"Power-Up aktiv – wähle ein Tile zum Einfrieren.":"Tile wird eingefroren...";default:return""}},Iy=({selectingPowerUp:t,onCancel:e,gridWidth:n})=>{if(!t)return null;const r=typeof window<"u"&&window.innerWidth<480;return k.jsxs("div",{style:{position:"fixed",top:r?"10px":"20px",left:"50%",transform:"translateX(-50%)",width:r?"calc(100vw - 20px)":"100%",maxWidth:r?"320px":`${Math.max(n,320)}px`,padding:r?"0 5px":"0 10px",zIndex:100,pointerEvents:"none",display:"flex",justifyContent:"center",animation:"slideInFromTop 0.3s ease-out"},children:[k.jsxs("div",{style:{width:"100%",maxWidth:"100%",padding:r?v.spacing.xs:v.spacing.sm,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(0, 0, 0, 0.1)",borderRadius:r?"8px":"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(8px)",pointerEvents:"auto"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:r?v.spacing.xs:v.spacing.sm},children:[k.jsx("div",{style:{flex:1,color:"#333333",fontSize:r?"clamp(10px, 2.2vw, 12px)":"clamp(12px, 2.5vw, 14px)",fontWeight:"600",lineHeight:1.2,wordBreak:"break-word"},children:Ly(t)}),k.jsx("button",{onClick:e,style:{width:"28px",height:"28px",borderRadius:"50%",border:"none",backgroundColor:"#F87171",color:"white",fontSize:"14px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,pointerEvents:"auto",transition:"all 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#EF4444",s.currentTarget.style.transform="scale(1.1)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#F87171",s.currentTarget.style.transform="scale(1)"},children:"✕"})]}),k.jsxs("div",{style:{marginTop:v.spacing.xs,display:"flex",alignItems:"center",gap:v.spacing.xs},children:[k.jsxs("span",{style:{fontSize:"clamp(10px, 2vw, 12px)",color:"#666666",fontWeight:"500"},children:[t.picked.length," / ",t.required," ausgewählt"]}),k.jsx("div",{style:{flex:1,height:"4px",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"2px",overflow:"hidden"},children:k.jsx("div",{style:{width:`${t.picked.length/t.required*100}%`,height:"100%",backgroundColor:"#4CAF50",borderRadius:"2px",transition:"width 0.3s ease"}})})]})]}),k.jsx("style",{children:`
        @keyframes slideInFromTop {
          from {
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
        }
      `})]})},$y=({message:t,gridWidth:e})=>t?k.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:`${Math.max(e,320)}px`,padding:"0 20px",zIndex:99,pointerEvents:"none",display:"flex",justifyContent:"center",animation:"slideInFromTop 0.3s ease-out"},children:[k.jsx("div",{style:{width:"100%",maxWidth:"500px",padding:v.spacing.md,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(8px)"},children:k.jsxs("div",{style:{color:"#333333",fontSize:"clamp(13px, 2.8vw, 15px)",fontWeight:"600",lineHeight:1.3,textAlign:"center"},children:["⚠️ ",t]})}),k.jsx("style",{children:`
        @keyframes slideInFromTop {
          from {
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
        }
      `})]}):null,zy="modulepreload",Ay=function(t){return"/emoji-fusion/"+t},td={},Ys=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Ay(l),l in td)return;td[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":zy,u||(c.as="script"),c.crossOrigin="",c.href=l,a&&c.setAttribute("nonce",a),document.head.appendChild(c),u)return new Promise((f,g)=>{c.addEventListener("load",f),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},My=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ou extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ny extends Ou{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nd extends Ou{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rd extends Ou{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kl||(kl={}));var Fy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Uy{constructor(e,{headers:n={},customFetch:r,region:s=kl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=My(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Fy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const c=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(w=>{throw new Ny(w)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new nd(c);if(!c.ok)throw new rd(c);let g=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return g==="application/json"?h=yield c.json():g==="application/octet-stream"?h=yield c.blob():g==="text/event-stream"?h=c:g==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null,response:c}}catch(s){return{data:null,error:s,response:s instanceof rd||s instanceof nd?s.context:void 0}}})}}var Ve={},Ru={},Lo={},Xs={},Io={},$o={},Dy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fr=Dy();const By=Fr.fetch,mp=Fr.fetch.bind(Fr),yp=Fr.Headers,Wy=Fr.Request,Hy=Fr.Response,Wr=Object.freeze(Object.defineProperty({__proto__:null,Headers:yp,Request:Wy,Response:Hy,default:mp,fetch:By},Symbol.toStringTag,{value:"Module"})),Gy=vg(Wr);var zo={};Object.defineProperty(zo,"__esModule",{value:!0});let Vy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};zo.default=Vy;var vp=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($o,"__esModule",{value:!0});const Ky=vp(Gy),Jy=vp(zo);let qy=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ky.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,c=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&C&&C.length>1&&(c=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,c=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&w===""?(f=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new Jy.default(u)}return{error:u,data:d,count:c,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};$o.default=qy;var Qy=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Io,"__esModule",{value:!0});const Yy=Qy($o);let Xy=class extends Yy.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Io.default=Xy;var Zy=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xs,"__esModule",{value:!0});const ev=Zy(Io);let tv=class extends ev.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Xs.default=tv;var nv=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lo,"__esModule",{value:!0});const ns=nv(Xs);let rv=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ns.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ns.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ns.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Lo.default=rv;var Ao={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.version=void 0;Mo.version="0.0.0-automated";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.DEFAULT_HEADERS=void 0;const sv=Mo;Ao.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sv.version}`};var wp=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ru,"__esModule",{value:!0});const iv=wp(Lo),ov=wp(Xs),av=Ao;let lv=class xp{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},av.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new iv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xp(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,c])=>c!==void 0).map(([d,c])=>[d,Array.isArray(c)?`{${c.join(",")}}`:`${c}`]).forEach(([d,c])=>{a.searchParams.append(d,c)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ov.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ru.default=lv;var Hr=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const Sp=Hr(Ru);Ve.PostgrestClient=Sp.default;const kp=Hr(Lo);Ve.PostgrestQueryBuilder=kp.default;const _p=Hr(Xs);Ve.PostgrestFilterBuilder=_p.default;const bp=Hr(Io);Ve.PostgrestTransformBuilder=bp.default;const Ep=Hr($o);Ve.PostgrestBuilder=Ep.default;const Cp=Hr(zo);Ve.PostgrestError=Cp.default;var uv=Ve.default={PostgrestClient:Sp.default,PostgrestQueryBuilder:kp.default,PostgrestFilterBuilder:_p.default,PostgrestTransformBuilder:bp.default,PostgrestBuilder:Ep.default,PostgrestError:Cp.default};const{PostgrestClient:cv,PostgrestQueryBuilder:xS,PostgrestFilterBuilder:SS,PostgrestTransformBuilder:kS,PostgrestBuilder:_S,PostgrestError:bS}=uv;function dv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const fv=dv(),hv="2.11.15",pv=`realtime-js/${hv}`,gv="1.0.0",Tp=1e4,mv=1e3;var ks;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ks||(ks={}));var ze;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ze||(ze={}));var xt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xt||(xt={}));var _l;(function(t){t.websocket="websocket"})(_l||(_l={}));var Nn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nn||(Nn={}));class yv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class jp{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ce||(ce={}));const sd=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=vv(o,t,e,s),i),{})},vv=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Pp(i,o):bl(o)},Pp=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return kv(e,n)}switch(t){case ce.bool:return wv(e);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return xv(e);case ce.json:case ce.jsonb:return Sv(e);case ce.timestamp:return _v(e);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return bl(e);default:return bl(e)}},bl=t=>t,wv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Pp(e,a))}return t},_v=t=>typeof t=="string"?t.replace(" ","T"):t,Op=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class pa{constructor(e,n,r={},s=Tp){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var id;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(id||(id={}));class _s{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_s.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=_s.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_s.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const c=i[u];if(c){const f=d.map(C=>C.presence_ref),g=c.map(C=>C.presence_ref),h=d.filter(C=>g.indexOf(C.presence_ref)<0),w=c.filter(C=>f.indexOf(C.presence_ref)<0);h.length>0&&(a[u]=h),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const c=e[a].map(g=>g.presence_ref),f=d.filter(g=>c.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(c=>c.presence_ref);u=u.filter(c=>d.indexOf(c.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var od;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(od||(od={}));var ad;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ad||(ad={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class Lu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pa(this,xt.join,this.params,this.timeout),this.rejoinTimer=new jp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new _s(this),this.broadcastEndpointURL=Op(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Dt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Dt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var c;if(this.socket.setAuth(),d===void 0){e==null||e(Dt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(c=f==null?void 0:f.length)!==null&&c!==void 0?c:0,h=[];for(let w=0;w<g;w++){const C=f[w],{filter:{event:y,schema:p,table:m,filter:x}}=C,_=d&&d[w];if(_&&_.event===y&&_.schema===p&&_.table===m&&_.filter===x)h.push(Object.assign(Object.assign({},C),{id:_.id}));else{this.unsubscribe(),this.state=ze.errored,e==null||e(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e(Dt.SUBSCRIBED);return}}).receive("error",d=>{this.state=ze.errored,e==null||e(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new pa(this,xt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pa(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=xt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var h,w,C;return((h=g.filter)===null||h===void 0?void 0:h.event)==="*"||((C=(w=g.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var h,w,C,y,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,_=(h=g.filter)===null||h===void 0?void 0:h.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const x=(p=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const h=f.data,{schema:w,table:C,commit_timestamp:y,type:p,errors:m}=h;f=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:y,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(h))}g.callback(f,r)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Lu.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xt.close,{},e)}_onError(e){this._on(xt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sd(e.columns,e.old_record)),n}}const ld=()=>{},bv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ev{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ld,this.ref=0,this.logger=ld,this.conn=null,this.sendBuffer=[],this.serializer=new yv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ys(async()=>{const{default:l}=await Promise.resolve().then(()=>Wr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${_l.websocket}`,this.httpEndpoint=Op(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=fv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ks.connecting:return Nn.Connecting;case ks.open:return Nn.Open;case ks.closing:return Nn.Closing;default:return Nn.Closed}}isConnected(){return this.connectionState()===Nn.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Lu(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:pv};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(xt.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(mv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([bv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Iu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Cv extends Iu{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class El extends Iu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Tv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Rp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},jv=()=>Tv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>Wr),void 0)).Response:Response}),Cl=t=>{if(Array.isArray(t))return t.map(n=>Cl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cl(r)}),e};var er=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ga=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pv=(t,e,n)=>er(void 0,void 0,void 0,function*(){const r=yield jv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Cv(ga(s),t.status||500))}).catch(s=>{e(new El(ga(s),s))}):e(new El(ga(t),t))}),Ov=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Zs(t,e,n,r,s,i){return er(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ov(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Pv(l,a,r))})})}function uo(t,e,n,r){return er(this,void 0,void 0,function*(){return Zs(t,"GET",e,n,r)})}function an(t,e,n,r,s){return er(this,void 0,void 0,function*(){return Zs(t,"POST",e,r,s,n)})}function Rv(t,e,n,r,s){return er(this,void 0,void 0,function*(){return Zs(t,"PUT",e,r,s,n)})}function Lv(t,e,n,r){return er(this,void 0,void 0,function*(){return Zs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Lp(t,e,n,r,s){return er(this,void 0,void 0,function*(){return Zs(t,"DELETE",e,r,s,n)})}var He=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Iv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ud={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $v{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Rp(s)}uploadOrUpdate(e,n,r,s){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ud),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),c=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield c.json();return c.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}upload(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:ud.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const c=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield c.json();return c.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield an(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Iu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}copy(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return He(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield an(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return He(this,void 0,void 0,function*(){try{const s=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}download(e,n){return He(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield uo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}})}info(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield uo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cl(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Lv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof El){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return He(this,void 0,void 0,function*(){try{return{data:yield Lp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}list(e,n,r){return He(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Iv),n),{prefix:e||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const zv="2.7.1",Av={"X-Client-Info":`storage-js/${zv}`};var rr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Mv{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Av),n),this.fetch=Rp(r)}listBuckets(){return rr(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ce(e))return{data:null,error:e};throw e}})}getBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return rr(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return rr(this,void 0,void 0,function*(){try{return{data:yield Rv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield Lp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}}class Nv extends Mv{constructor(e,n={},r){super(e,n,r)}from(e){return new $v(this.url,this.headers,e,this.fetch)}}const Fv="2.52.1";let ds="";typeof Deno<"u"?ds="deno":typeof document<"u"?ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ds="react-native":ds="node";const Uv={"X-Client-Info":`supabase-js-${ds}/${Fv}`},Dv={headers:Uv},Bv={schema:"public"},Wv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hv={};var Gv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Vv=t=>{let e;return t?e=t:typeof fetch>"u"?e=mp:e=fetch,(...n)=>e(...n)},Kv=()=>typeof Headers>"u"?yp:Headers,Jv=(t,e,n)=>{const r=Vv(n),s=Kv();return(i,o)=>Gv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var qv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Qv(t){return t.endsWith("/")?t:t+"/"}function Yv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:c}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},c),a),{headers:Object.assign(Object.assign({},(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>qv(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Ip="2.71.1",cr=30*1e3,Tl=3,ma=Tl*cr,Xv="http://localhost:9999",Zv="supabase.auth.token",ew={"X-Client-Info":`gotrue-js/${Ip}`},jl="X-Supabase-Api-Version",$p={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nw=10*60*1e3;class $u extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rw extends $u{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sw(t){return q(t)&&t.name==="AuthApiError"}class zp extends $u{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jn extends $u{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class nn extends jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iw(t){return q(t)&&t.name==="AuthSessionMissingError"}class vi extends jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wi extends jn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xi extends jn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ow(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class cd extends jn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pl extends jn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ya(t){return q(t)&&t.name==="AuthRetryableFetchError"}class dd extends jn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ol extends jn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fd=` 	
\r=`.split(""),aw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fd.length;e+=1)t[fd[e].charCodeAt(0)]=-2;for(let e=0;e<co.length;e+=1)t[co[e].charCodeAt(0)]=e;return t})();function hd(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(co[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(co[r]),e.queuedBits-=6}}function Ap(t,e,n){const r=aw[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pd(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{cw(o,r,n)};for(let o=0;o<t.length;o+=1)Ap(t.charCodeAt(o),s,i);return e.join("")}function lw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uw(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}lw(r,e)}}function cw(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dw(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ap(t.charCodeAt(s),n,r);return new Uint8Array(e)}function fw(t){const e=[];return uw(t,n=>e.push(n)),new Uint8Array(e)}function hw(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>hd(s,n,r)),hd(null,n,r),e.join("")}function pw(t){return Math.round(Date.now()/1e3)+t}function gw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",Ln={tested:!1,writable:!1},Mp=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ln.tested)return Ln.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ln.tested=!0,Ln.writable=!0}catch{Ln.tested=!0,Ln.writable=!1}return Ln.writable};function mw(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Np=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},In=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tn=async(t,e)=>{await t.removeItem(e)};class No{constructor(){this.promise=new No.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}No.promiseConstructor=Promise;function va(t){const e=t.split(".");if(e.length!==3)throw new Ol("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tw.test(e[r]))throw new Ol("JWT not in base64url format");return{header:JSON.parse(pd(e[0])),payload:JSON.parse(pd(e[1])),signature:dw(e[2]),raw:{header:e[0],payload:e[1]}}}async function vw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ww(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function xw(t){return("0"+t.toString(16)).substr(-2)}function Sw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,xw).join("")}async function kw(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _w(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await kw(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(t,e,n=!1){const r=Sw();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await dr(t,`${e}-code-verifier`,s);const i=await _w(r);return[i,r===i?"plain":"s256"]}const bw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ew(t){const e=t.headers.get(jl);if(!e||!e.match(bw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Tw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ir(t){if(!jw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wa(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gd(t){return JSON.parse(JSON.stringify(t))}var Pw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Mn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ow=[502,503,504];async function md(t){var e;if(!yw(t))throw new Pl(Mn(t),0);if(Ow.includes(t.status))throw new Pl(Mn(t),t.status);let n;try{n=await t.json()}catch(i){throw new zp(Mn(i),i)}let r;const s=Ew(t);if(s&&s.getTime()>=$p["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dd(Mn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new dd(Mn(n),t.status,n.weak_password.reasons);throw new rw(Mn(n),t.status||500,r)}const Rw=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ee(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jl]||(i[jl]=$p["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Lw(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Lw(t,e,n,r,s,i){const o=Rw(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Pl(Mn(l),0)}if(a.ok||await md(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await md(l)}}function Ft(t){var e;let n=null;Aw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function yd(t){const e=Ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function dn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Iw(t){return{data:t,error:null}}function $w(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Pw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function zw(t){return t}function Aw(t){return t.access_token&&t.refresh_token&&t.expires_in}const xa=["global","local","others"];var Mw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Nw{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Np(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=xa[0]){if(xa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xa.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Mw(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$w,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zw});if(d.error)throw d.error;const c=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(h=>{const w=parseInt(h.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(h.split(";")[1].split("=")[1]);u[`${C}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ir(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ir(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:dn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ir(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:dn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ir(e.userId);try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ir(e.userId),ir(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}function vd(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Fw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const or={debug:!!(globalThis&&Mp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Uw extends Fp{}async function Dw(t,e,n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Uw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Fw();const Bw={url:Xv,storageKey:Zv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ew,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wd(t,e,n){return await n()}const ar={};class Bs{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bs.nextInstanceID,Bs.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Bw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Nw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Np(s.fetch),this.lock=s.lock||wd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Dw:this.lock=wd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Mp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=vd(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ip}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=mw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ow(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new zp("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ft}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:c,options:f}=e;let g=null,h=null;this.flowType==="pkce"&&([g,h]=await sr(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:h},xform:Ft})}else if("phone"in e){const{phone:d,password:c,options:f}=e;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:c,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ft})}else throw new wi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yd})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yd})}else throw new wi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,c,f,g;let h,w;if("message"in e)h=e.message,w=e.signature;else{const{chain:C,wallet:y,statement:p,options:m}=e;let x;if(mt())if(typeof y=="object")x=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let O;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")O=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)O=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)h=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),w=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((c=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||c===void 0)&&c.length?["Resources",...m.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(h),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:C,error:y}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:hw(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ft});if(y)throw y;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new vi}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:y})}catch(C){if(q(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await In(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ft});if(await tn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new vi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ft}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sr(this.storage,this.storageKey));const{error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new wi("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iw})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nn;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new wi("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await In(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ma:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await In(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=wa()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:dn})})}catch(n){if(q(n))return iw(n)&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await sr(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:dn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=va(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nn;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!mt())throw new xi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cd("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new xi("No session defined in URL");const d=Math.round(Date.now()/1e3),c=parseInt(a);let f=d+c;l&&(f=parseInt(l));const g=f-d;g*1e3<=cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${c}s`);const h=f-c;d-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,f,d):d-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,f,d);const{data:w,error:C}=await this._getUser(i);if(C)throw C;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:c,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await In(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(sw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=gw(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:c,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return mt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ww(async s=>(s>0&&await vw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ya(i)&&Date.now()+o-r<cr})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await In(this.storage,this.storageKey);if(s&&this.userStorage){let o=await In(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await dr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:wa()}else if(s&&!s.user&&!s.user){const o=await In(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await tn(this.storage,this.storageKey+"-user"),await dr(this.storage,this.storageKey,s)):s.user=wa()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ma;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ma}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ya(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new No;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new nn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={session:null,error:i};return ya(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await dr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=gd(s);await dr(this.storage,this.storageKey,i)}else{const s=gd(n);await dr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cr}ms, refresh threshold is ${Tl} ticks`),s<=Tl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=va(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+nw>s)return r;const{data:i,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:h}=await this.getSession();if(h||!g.session)return{data:null,error:h};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=va(r);n!=null&&n.allowExpired||Cw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=Tw(s.alg),c=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,c,o,fw(`${a}.${l}`)))throw new Ol("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}Bs.nextInstanceID=0;const Ww=Bs;class Hw extends Ww{constructor(e){super(e)}}var Gw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Vw{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Qv(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Bv,realtime:Hv,auth:Object.assign(Object.assign({},Wv),{storageKey:u}),global:Dv},c=Yv(r??{},d);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Jv(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new cv(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Uy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Nv(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Gw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hw({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ev(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kw=(t,e,n)=>new Vw(t,e,n);function Jw(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Jw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qw="https://cmyhfwogyzpmpyrxkahl.supabase.co",Qw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNteWhmd29neXpwbXB5cnhrYWhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NTc0MDcsImV4cCI6MjA2OTAzMzQwN30.FdKq0u43jrHxUZZiUv6HJd8h-cd-TjnCRwGuhamReAc",Up=Kw(qw,Qw),Yt={HIGH_SCORE:"emoji-fusion-high-score",LEADERBOARD:"emoji-fusion-leaderboard",SAVED_GAME:"emoji-fusion-saved-game",MAX_DISCOVERED_RANK:"emoji-fusion-max-discovered-rank"},Yw=()=>{try{const t=localStorage.getItem(Yt.HIGH_SCORE);return t?parseInt(t,10):0}catch(t){return console.warn("Failed to read high score from localStorage:",t),0}},Xw=t=>{try{localStorage.setItem(Yt.HIGH_SCORE,t.toString())}catch(e){console.warn("Failed to save high score to localStorage:",e)}},Fo=async()=>{try{const{data:t,error:e}=await Up.from("leaderboard").select("*").order("score",{ascending:!1}).limit(100);return e?(console.warn("Failed to fetch leaderboard from Supabase:",e),[]):t.map((n,r)=>({score:n.score,name:n.name,rank:r+1,highestTile:n.tile}))}catch(t){return console.warn("Failed to read leaderboard from Supabase:",t),[]}},Rl=async(t,e="Anonymous",n=1)=>{try{const r=e.trim()||"Anonymous",{error:s}=await Up.from("leaderboard").insert({name:r,score:t,tile:n});return s?(console.warn("Failed to save leaderboard entry to Supabase:",s),!1):(await Fo()).some(o=>o.score===t&&o.name===r)}catch(r){return console.warn("Failed to save leaderboard to Supabase:",r),!1}},Zw=async t=>{var n;const e=await Fo();return e.length<100||t>((n=e[e.length-1])==null?void 0:n.score)},ex=t=>{try{localStorage.setItem(Yt.SAVED_GAME,JSON.stringify(t))}catch(e){console.warn("Failed to save game state to localStorage:",e)}},Yn=()=>{try{const t=localStorage.getItem(Yt.SAVED_GAME);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read saved game state from localStorage:",t),null}},Fn=()=>{try{localStorage.removeItem(Yt.SAVED_GAME)}catch(t){console.warn("Failed to clear saved game state from localStorage:",t)}},Dp=()=>{const t=Yn();return t!==null&&!t.gameFinalized},lr=()=>{const t=Yn();return t!==null&&t.gameFinalized===!0},Or=()=>{const t=Yn();if(t){const e={...t,gameFinalized:!0,canUndoAfterGameOver:!1};try{localStorage.setItem(Yt.SAVED_GAME,JSON.stringify(e))}catch(n){console.warn("Failed to finalize game state:",n)}}},rs=()=>{const t=Yn();return(t==null?void 0:t.canUndoAfterGameOver)===!0},ss=t=>{const e=Yn();if(e){const n={...e,canUndoAfterGameOver:t};try{localStorage.setItem(Yt.SAVED_GAME,JSON.stringify(n))}catch(r){console.warn("Failed to update undo-after-game-over flag:",r)}}},Bp=()=>{try{const t=localStorage.getItem(Yt.MAX_DISCOVERED_RANK);if(!t)return 1;const e=parseInt(t,10);return isNaN(e)||e<1?(console.warn("Invalid max discovered rank in localStorage, resetting to 1"),Wp(1),1):e}catch(t){return console.warn("Failed to load max discovered rank from localStorage:",t),1}},Wp=t=>{try{if(!Number.isInteger(t)||t<1){console.warn("Invalid rank provided to saveMaxDiscoveredRank:",t);return}localStorage.setItem(Yt.MAX_DISCOVERED_RANK,t.toString())}catch(e){console.warn("Failed to save max discovered rank to localStorage:",e)}},Ot=t=>{try{if(!Number.isInteger(t)||t<1){console.warn("Invalid candidate rank provided:",t);return}const e=Bp();t>e&&(Wp(t),console.log(`🎉 New max discovered rank: ${t} (previous: ${e})`))}catch(e){console.warn("Failed to update max discovered rank:",e)}},tx=({onMove:t,onUndo:e,onRestart:n,onEscape:r,disabled:s=!1,canUndo:i=!1})=>{const o=z.useRef({isPressed:!1,startTime:0,timeoutId:null}),[a,l]=z.useState(0),[u,d]=z.useState(!1),c=z.useRef(null),f=z.useCallback(h=>{if(s)return;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d","W","A","S","D","u","U","r","R","Escape"].includes(h.key)&&h.preventDefault(),t)switch(h.key){case"ArrowUp":case"w":case"W":t("up");return;case"ArrowDown":case"s":case"S":t("down");return;case"ArrowLeft":case"a":case"A":t("left");return;case"ArrowRight":case"d":case"D":t("right");return}if((h.key==="u"||h.key==="U")&&e&&i){e();return}if(h.key==="Escape"&&r){r();return}h.key==="r"||h.key},[s,t,e,n,r,i]),g=z.useCallback(h=>{s||(h.key==="r"||h.key==="R")&&o.current.isPressed&&(o.current.isPressed=!1,d(!1),l(0),o.current.timeoutId&&(clearTimeout(o.current.timeoutId),o.current.timeoutId=null),c.current&&(clearInterval(c.current),c.current=null))},[s]);return z.useEffect(()=>(window.addEventListener("keydown",f),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",g),o.current.timeoutId&&clearTimeout(o.current.timeoutId),c.current&&clearInterval(c.current)}),[f,g]),{restartProgress:a,isRestartInProgress:u}},nx=({onSwipe:t,disabled:e=!1,minSwipeDistance:n=30,maxSwipeTime:r=1e3,element:s})=>{const i=z.useRef(null),o=z.useRef(!1);z.useEffect(()=>{o.current="ontouchstart"in window||navigator.maxTouchPoints>0},[]);const a=z.useCallback(c=>{const f=c;if(e||!t)return;if(f.touches.length!==1){i.current=null;return}const g=f.touches[0];i.current={x:g.clientX,y:g.clientY,timestamp:Date.now()},c.preventDefault()},[e,t]),l=z.useCallback(c=>{const f=c;if(e||!t||!i.current)return;if(f.changedTouches.length!==1){i.current=null;return}const g=f.changedTouches[0],h={x:g.clientX,y:g.clientY,timestamp:Date.now()},w=i.current;i.current=null;const C=h.timestamp-w.timestamp;if(C>r)return;const y=h.x-w.x,p=h.y-w.y,m=Math.abs(y),x=Math.abs(p),_=Math.max(m,x);if(_<n)return;let E;m>x?E=y>0?"right":"left":E=p>0?"down":"up",console.log(`📱 Touch swipe detected: ${E} (${_}px in ${C}ms)`),t(E),c.preventDefault()},[e,t,n,r]),u=z.useCallback(c=>{e||!i.current||i.current&&c.preventDefault()},[e]),d=z.useCallback(()=>{i.current=null},[]);return z.useEffect(()=>{if(e||!o.current)return;const c=(s==null?void 0:s.current)||document,f={passive:!1},g={passive:!1},h={passive:!1};return c.addEventListener("touchstart",a,f),c.addEventListener("touchmove",u,g),c.addEventListener("touchend",l,h),c.addEventListener("touchcancel",d,{passive:!0}),()=>{c.removeEventListener("touchstart",a),c.removeEventListener("touchmove",u),c.removeEventListener("touchend",l),c.removeEventListener("touchcancel",d)}},[e,a,u,l,d,s]),{isTouchDevice:o.current,isSwipeInProgress:i.current!==null}},Si=(t,e,n={})=>{if(t.merged||e.merged)return!1;const r=(s,i)=>i[s.toString()]>0;return r(t.id,n)||r(e.id,n)?!1:t.isJoker&&!e.isJoker||e.isJoker&&!t.isJoker?!0:t.isJoker&&e.isJoker?!1:t.level===e.level},Hp=(t,e)=>{for(let n=0;n<4;n++)for(let r=0;r<4;r++)if(!t[n][r])return!0;for(let n=0;n<4;n++)for(let r=0;r<4;r++){const s=t[n][r];if(s&&(r<3&&t[n][r+1]&&Si(s,t[n][r+1],e)||n<3&&t[n+1][r]&&Si(s,t[n+1][r],e)||r>0&&t[n][r-1]&&Si(s,t[n][r-1],e)||n>0&&t[n-1][r]&&Si(s,t[n-1][r],e)))return!0}return!1},rx=(t,e,n,r)=>{const s={...n,[e.toString()]:3};return Hp(t,s)?!1:r>0?(console.log("🚨 Freeze would cause deadlock: No moves possible and slowmo prevents new tiles"),!0):t.some(a=>a.some(l=>!l))?(console.log("⚠️ Freeze might be risky but allowing it: No moves now but new tiles could help"),!1):(console.log("🚨 Freeze would cause deadlock: No moves possible and board is full"),!0)},sx=()=>{const t=["freeze","swap","delete","undo","slowmo"],e=t[Math.floor(Math.random()*t.length)];return{id:`powerup_${Date.now()}_${Math.random()}`,type:e,createdAt:Date.now()}},ix=(t,e,n)=>{const r=n>e,s=t.length<4;return r&&s},xd=()=>({powerUps:[],frozenTiles:{},slowMotionTurns:0,extraUndos:0,spawnedUndos:0,activePowerUp:null,swapSelection:null,selectingPowerUp:null,inputLocked:!1,scoreMultiplier:1,scoreMultiplierTurns:0}),Rt=(t,e)=>t.filter(n=>n.id!==e),ox=t=>{const e={};return Object.entries(t).forEach(([n,r])=>{r>1&&(e[n]=r-1)}),e},ot=(t,e)=>e[t.toString()]>0,ax=(t,e)=>e[t.toString()]||0,Sd=(t,e,n=3)=>{const r=t[e.toString()]||0;return{...t,[e.toString()]:r+n}},lx=t=>["freeze","swap","delete","undo","slowmo","copy","upgrade3","bomb","scorex3","spawnJoker"].includes(t),ux=(t,e)=>{const n=[];switch(t){case"swap":return{type:"swap",required:2,picked:n,powerUpId:e};case"delete":return{type:"delete",required:1,picked:n,powerUpId:e};case"freeze":return{type:"freeze",required:1,picked:n,powerUpId:e};case"copy":return{type:"copy",required:1,picked:n,powerUpId:e};case"bomb":return{type:"bomb",required:1,picked:n,powerUpId:e}}},kd=(t,e,n,r,s)=>{var o;if(!r)return!1;const i=(o=n[t])==null?void 0:o[e];return!(!i||r.type==="swap"&&ot(i.id,s))},cx=(t,e)=>{if(!t)return null;if(t.picked.some(s=>s.row===e.row&&s.col===e.col))return t;const r=[...t.picked,e];return{...t,picked:r}},dx=t=>t?t.picked.length>=t.required:!1,fx=t=>({powerUps:Array.isArray(t.powerUps)?t.powerUps.slice(0,4):[],frozenTiles:typeof t.frozenTiles=="object"?t.frozenTiles:{},slowMotionTurns:Math.max(0,t.slowMotionTurns||0),extraUndos:Math.max(0,t.extraUndos||0),spawnedUndos:Math.max(0,t.spawnedUndos||0),activePowerUp:t.activePowerUp&&lx(t.activePowerUp)?t.activePowerUp:null,swapSelection:t.swapSelection||null,selectingPowerUp:t.selectingPowerUp||null,inputLocked:!!t.inputLocked,scoreMultiplier:Math.max(1,t.scoreMultiplier||1),scoreMultiplierTurns:Math.max(0,t.scoreMultiplierTurns||0)}),hx=(t,e,n,r)=>!rx(t,e,n,r),px=t=>{const e=Object.keys(t).filter(r=>t[r]>0);if(e.length===0)return null;const n=Math.floor(Math.random()*e.length);return e[n]},gx=(t,e)=>{const n={...t};return delete n[e],n},_d=t=>{const e=[];for(let r=0;r<4;r++)for(let s=0;s<4;s++)t[r][s]||e.push({row:r,col:s});if(e.length===0)return null;const n=Math.floor(Math.random()*e.length);return e[n]},mx=(t,e=3)=>{const n=[];for(let s=0;s<4;s++)for(let i=0;i<4;i++){const o=t[s][i];o&&!o.isJoker&&n.push({row:s,col:i,tile:o})}const r=[...n].sort(()=>Math.random()-.5);return r.slice(0,Math.min(e,r.length))},yx=(t,e)=>{const n=[],r=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}];for(const s of r){const i=t+s.row,o=e+s.col;i>=0&&i<4&&o>=0&&o<4&&n.push({row:i,col:o})}return n},Sa={FREEZE_WOULD_CAUSE_DEADLOCK:"Einfrieren würde eine Blockade verursachen.",FROZEN_TILE_FREED:"Ein gefrorenes Tile wurde automatisch befreit.",SLOWMO_DISABLED:"Sanduhr-Effekt beendet, um eine Blockade zu vermeiden."},Ll=t=>{const e=[];for(let n=0;n<4;n++)for(let r=0;r<4;r++)t[n][r]||e.push({row:n,col:r});return e},$n=(t,e,n={})=>t.merged||e.merged||ot(t.id,n)||ot(e.id,n)?!1:t.isJoker&&!e.isJoker||e.isJoker&&!t.isJoker||t.isJoker&&e.isJoker?!0:t.level===e.level,is=(t,e)=>t.isJoker&&e.isJoker?{level:-1,isJoker:!1,isJokerFusion:!0}:t.isJoker&&!e.isJoker?{level:e.level+1,isJoker:!1}:e.isJoker&&!t.isJoker?{level:t.level+1,isJoker:!1}:{level:t.level+1,isJoker:!1},Il=()=>{const t=Math.random();return t<.9?{level:1,isJoker:!1}:t<.99?{level:2,isJoker:!1}:{level:np,isJoker:!0}},bd=()=>{const t=Array(4).fill(null).map(()=>Array(4).fill(null)),e=Ll(t),n=Math.floor(Math.random()*e.length),r=e[n],s=Il();t[r.row][r.col]={id:1,level:s.level,row:r.row,col:r.col,justSpawned:!0,isJoker:s.isJoker},e.splice(n,1);const i=Math.floor(Math.random()*e.length),o=e[i],a=Il();return t[o.row][o.col]={id:2,level:a.level,row:o.row,col:o.col,justSpawned:!0,isJoker:a.isJoker},t},vx=({onBackToStart:t,shouldLoadSavedGame:e,onPendingScore:n})=>{const r=z.useRef(null),s=j=>{let U=1;for(let S=0;S<4;S++)for(let A=0;A<4;A++){const I=j[S][A];I&&I.level>U&&(U=I.level)}return U},o=(()=>{if(e){const j=Yn();if(j)return j.canUndoAfterGameOver&&ss(!0),{grid:j.grid,nextId:j.nextId,score:j.score,preRestartState:j.preRestartState||null,canUndo:j.canUndo||!1,wasRestartedViaHold:j.wasRestartedViaHold||!1,isGameOver:j.isGameOver||!1}}return{grid:bd(),nextId:3,score:0,preRestartState:null,canUndo:!1,wasRestartedViaHold:!1,isGameOver:!1}})(),[a,l]=z.useState(o.grid),[u,d]=z.useState(o.nextId),[c,f]=z.useState(o.isGameOver),[g,h]=z.useState(o.score),[w,C]=z.useState([]),[y,p]=z.useState([]),[m,x]=z.useState(o.canUndo),_=z.useRef(!1),E=z.useRef(new Set),[O,R]=z.useState(o.wasRestartedViaHold),[F,N]=z.useState(o.preRestartState),[V,ne]=z.useState(null),[ie,oe]=z.useState(!1),[Se,ve]=z.useState(s(o.grid)),[M,L]=z.useState(()=>{if(e){const j=Yn();if(j!=null&&j.powerUpState)return fx(j.powerUpState)}return xd()}),[H,G]=z.useState(!1),[Z,ae]=z.useState(!1),[it,Xe]=z.useState(null),[Xt,Tt]=z.useState(!1),[Pn,Au]=z.useState(null),jt=(j,U,S)=>{const A=S*(Pe+Q),I=U*(Pe+Q),B=`${Date.now()}-${Math.random()}`;C(b=>[...b,{id:B,score:j,x:A,y:I}])},Kp=j=>{C(U=>U.filter(S=>S.id!==j))},Do=j=>{Xe(j),setTimeout(()=>Xe(null),3e3)},Gr=j=>{Au(j),setTimeout(()=>Au(null),3e3)},Vr=j=>{let U=0;for(let S=0;S<4;S++)for(let A=0;A<4;A++){const I=j[S][A];I&&!I.isJoker&&I.level>U&&(U=I.level)}return U||1},ei=(j,U,S,A)=>{const I=j[U][S];if(!I.isJoker)return{moved:!1,merged:!1,jokerFusion:!1};const B={left:{dRow:0,dCol:-1},right:{dRow:0,dCol:1},up:{dRow:-1,dCol:0},down:{dRow:1,dCol:0}},{dRow:b,dCol:P}=B[A];let T=U,W=S;for(;;){const X=T+b,Y=W+P;if(X<0||X>=4||Y<0||Y>=4)break;const re=j[X][Y];if(!re)T=X,W=Y;else{if($n(I,re,M.frozenTiles)){const J=is(re,I);if(J.isJokerFusion){const le=Vr(j),{newGrid:tr,bonus:On}=Kr(j,le);for(let pt=0;pt<4;pt++)for(let Rn=0;Rn<4;Rn++)j[pt][Rn]=tr[pt][Rn];return h(pt=>pt+On),jt(On,X,Y),Ot(le),Gr(`Joker-Fusion! Alle Tiles auf Level ${le} umgewandelt`),cn(),{moved:!0,merged:!0,jokerFusion:!0}}else{const le=Math.pow(2,J.level);return j[X][Y]={...re,level:J.level,isJoker:J.isJoker,merged:!0,justMerged:!0},j[U][S]=null,h(tr=>tr+le),jt(le,X,Y),Ot(J.level),{moved:!0,merged:!0,jokerFusion:!1}}}break}}return T!==U||W!==S?(j[T][W]={...I,row:T,col:W},j[U][S]=null,{moved:!0,merged:!1,jokerFusion:!1}):{moved:!1,merged:!1,jokerFusion:!1}},Kr=(j,U)=>{const S=j.map(I=>[...I]);for(let I=0;I<4;I++)for(let B=0;B<4;B++){const b=S[I][B];b&&(S[I][B]={...b,level:U,isJoker:!1,frozenTurns:void 0,merged:!1,justMerged:!1,justSpawned:!1})}const A=U*uy;return{newGrid:S,bonus:A}},Jp=async j=>{if(!H){G(!0);try{await Zw(j)?(ne(j),n==null||n(j)):oe(!0)}catch(U){console.error("Error checking if score qualifies for leaderboard:",U),oe(!0)}finally{G(!1)}}},qp=async j=>{if(V!==null&&!Z){ae(!0);try{await Rl(V,j,Se)?(oe(!0),ne(null),n==null||n(null),Or(),p([]),x(!1),N(null),R(!1),ss(!1)):console.error("Failed to save score to leaderboard")}catch(U){console.error("Error saving score to leaderboard:",U)}finally{ae(!1)}}},Qp=()=>{ne(null),n==null||n(null),Or(),p([]),x(!1),N(null),R(!1),ss(!1)},Mu=()=>{var Y,re,J,le,tr;if(M.inputLocked){console.log("🔒 Undo blocked during power-up selection");return}if(y.length===0){console.log("🔴 No states available for undo");return}const j=lr(),U=rs(),S=m&&!ie&&!j,A=c&&U&&!ie&&!j,I=M.extraUndos>0&&!ie&&!j;if(!(S||A||I)){console.log("🔴 Undo not available");return}console.log("🔄 GameBoard: Undoing last move"),_.current=!0,console.log("🚫 Disabled power-up generation during undo");const b=I;console.log("🔄 Undo info:",{normalGameUndo:S,useExtraUndo:b,extraUndos:M.extraUndos,historyLength:y.length});const P=y[y.length-1];p(On=>On.slice(0,-1)),console.log("📚 Used state from history, remaining states:",y.length-1),console.log("🔄 Restoring state:",{gridTiles:P.grid.flat().filter(Boolean).length,score:P.score,nextId:P.nextId,powerUpSlots:((re=(Y=P.powerUpState)==null?void 0:Y.powerUps)==null?void 0:re.length)||0,frozenTiles:Object.keys(((J=P.powerUpState)==null?void 0:J.frozenTiles)||{}).length,slowMotionTurns:((le=P.powerUpState)==null?void 0:le.slowMotionTurns)||0,spawnedUndos:((tr=P.powerUpState)==null?void 0:tr.spawnedUndos)||0,currentScore:g});const T=rg(P.grid);if(l(T),h(P.score),d(P.nextId),P.generatedPowerUpLevels&&(E.current=new Set(P.generatedPowerUpLevels),console.log("🔄 Restored generated power-up levels:",P.generatedPowerUpLevels)),P.powerUpState){const On=M.powerUps;console.log("🔄 Undo - preserving power-up slots, restoring frozen/slowmo states"),console.log("   Power-up slots remain:",On.length),console.log("   ExtraUndos before:",M.extraUndos,"useExtraUndo:",b),console.log("   SpawnedUndos: current=",M.spawnedUndos),L(pt=>{var Rn,Uu;return{...pt,powerUps:On,frozenTiles:((Rn=P.powerUpState)==null?void 0:Rn.frozenTiles)||{},slowMotionTurns:((Uu=P.powerUpState)==null?void 0:Uu.slowMotionTurns)||0,extraUndos:b?Math.max(0,pt.extraUndos-1):pt.extraUndos,spawnedUndos:pt.spawnedUndos,activePowerUp:null,swapSelection:null,selectingPowerUp:null,inputLocked:!1}})}b||S&&x(!1),C([]),f(!1),ne(null),oe(!1);const W=Se,X=s(P.grid);console.log("🔄 Undo: Keeping highest tile at",W,"(grid has",X,") - no power-up generation"),n==null||n(null),b&&M.extraUndos<=1&&ss(!1),setTimeout(()=>{_.current=!1,console.log("✅ Re-enabled power-up generation")},100)},Yp=j=>{if(Ll(j).length>0)return!0;for(let U=0;U<4;U++)for(let S=0;S<4;S++){const A=j[U][S];if(A&&(S<3&&j[U][S+1]&&$n(A,j[U][S+1],M.frozenTiles)||U<3&&j[U+1][S]&&$n(A,j[U+1][S],M.frozenTiles)))return!0}return!1},Xp=j=>!Yp(j),Zp=()=>{Fn(),l(bd()),d(3),h(0),f(!1),C([]),p([]),p([]),x(!1),ne(null),oe(!1),ve(1),n==null||n(null),R(!1),N(null),L(xd())},eg=()=>{M.inputLocked||(Or(),Zp(),t())},tg=j=>{const U=M.powerUps.find(S=>S.id===j);if(!(!U||c))switch(U.type){case"undo":console.log("🎮 Undo power-up activated"),L(S=>(console.log("🎮 Incrementing UI extraUndos from",S.extraUndos,"to",S.extraUndos+1),{...S,powerUps:Rt(S.powerUps,j),extraUndos:S.extraUndos+1}));break;case"slowmo":L(S=>({...S,powerUps:Rt(S.powerUps,j),slowMotionTurns:S.slowMotionTurns+5}));break;case"scorex3":L(S=>({...S,powerUps:Rt(S.powerUps,j),scoreMultiplier:3,scoreMultiplierTurns:5}));break;case"upgrade3":{const S=mx(a,3);if(S.length>0){const A=a.map(I=>[...I]);S.forEach(({row:I,col:B,tile:b})=>{A[I][B]&&(A[I][B]={...b,level:b.level+1})}),l(A),L(I=>({...I,powerUps:Rt(I.powerUps,j)}))}}break;case"spawnJoker":{const S=_d(a);if(S){const A=a.map(I=>[...I]);A[S.row][S.col]={id:u,level:np,row:S.row,col:S.col,isJoker:!0,justSpawned:!0},l(A),d(u+1),L(I=>({...I,powerUps:Rt(I.powerUps,j)}))}}break;case"freeze":case"swap":case"delete":case"copy":case"bomb":L(S=>({...S,selectingPowerUp:ux(U.type,j),inputLocked:!0}));break}},ng=j=>({powerUps:[],frozenTiles:j.frozenTiles,slowMotionTurns:j.slowMotionTurns,extraUndos:j.extraUndos,spawnedUndos:j.spawnedUndos,activePowerUp:null,swapSelection:null,selectingPowerUp:null,inputLocked:!1,scoreMultiplier:j.scoreMultiplier,scoreMultiplierTurns:j.scoreMultiplierTurns}),rg=j=>j.map((U,S)=>U.map((A,I)=>A?{...A,row:S,col:I}:null)),Nu=()=>{L(j=>({...j,selectingPowerUp:null,inputLocked:!1}))},sg=(j,U,S)=>{const{selectingPowerUp:A}=M;if(!A)return;if(!kd(U,S,a,A,M.frozenTiles)){Sl();return}const I=cx(A,{row:U,col:S});L(B=>({...B,selectingPowerUp:I})),I&&dx(I)&&ig(I)},ig=j=>{if(!j)return;const{type:U,picked:S,powerUpId:A}=j;switch(U){case"freeze":if(S.length===1){const{row:I,col:B}=S[0],b=a[I][B];if(b){if(!hx(a,b.id,M.frozenTiles,M.slowMotionTurns)){Do(Sa.FREEZE_WOULD_CAUSE_DEADLOCK),L(P=>({...P,selectingPowerUp:null,inputLocked:!1}));return}L(P=>({...P,powerUps:Rt(P.powerUps,A),frozenTiles:Sd(P.frozenTiles,b.id,3),selectingPowerUp:null,inputLocked:!1}))}}break;case"delete":if(S.length===1){const{row:I,col:B}=S[0];if(a[I][B]){const b=a.map(P=>[...P]);b[I][B]=null,l(b),L(P=>({...P,powerUps:Rt(P.powerUps,A),selectingPowerUp:null,inputLocked:!1}))}}break;case"swap":if(S.length===2){const[I,B]=S,b=a[I.row][I.col],P=a[B.row][B.col];if(b&&P){const T=a.map(W=>[...W]);T[I.row][I.col]={...P,row:I.row,col:I.col},T[B.row][B.col]={...b,row:B.row,col:B.col},l(T),L(W=>({...W,powerUps:Rt(W.powerUps,A),selectingPowerUp:null,inputLocked:!1}))}}break;case"copy":if(S.length===1){const{row:I,col:B}=S[0],b=a[I][B];if(b){const P=_d(a);if(P){const T=a.map(W=>[...W]);T[P.row][P.col]={...b,id:u,row:P.row,col:P.col,frozenTurns:0,justSpawned:!0},l(T),d(u+1),L(W=>({...W,powerUps:Rt(W.powerUps,A),selectingPowerUp:null,inputLocked:!1}))}else L(T=>({...T,selectingPowerUp:null,inputLocked:!1}))}}break;case"bomb":if(S.length===1){const{row:I,col:B}=S[0];if(a[I][B]){const P=a.map(W=>[...W]);P[I][B]=null,yx(I,B).forEach(W=>{P[W.row]&&P[W.row][W.col]&&(P[W.row][W.col]=null)}),l(P),L(W=>({...W,powerUps:Rt(W.powerUps,A),selectingPowerUp:null,inputLocked:!1}))}}break}},og=(j,U,S)=>{if(M.selectingPowerUp){sg(j,U,S);return}if(!(c||!M.activePowerUp))switch(M.activePowerUp){case"freeze":L(A=>({...A,frozenTiles:Sd(A.frozenTiles,j.id,3),activePowerUp:null}));break;case"delete":l(A=>{const I=A.map(B=>[...B]);return I[U][S]=null,I}),L(A=>({...A,activePowerUp:null}));break;case"swap":if(M.swapSelection){const{tileId:A,position:I}=M.swapSelection;A!==j.id&&l(B=>{const b=B.map(W=>[...W]),P=b[I.row][I.col],T=b[U][S];return P&&(P.row=U),P&&(P.col=S),T&&(T.row=I.row),T&&(T.col=I.col),b[U][S]=P,b[I.row][I.col]=T,b}),L(B=>({...B,activePowerUp:null,swapSelection:null}))}else L(A=>({...A,swapSelection:{tileId:j.id,position:{row:U,col:S}}}));break}},ag=()=>{c||Fn(),t()},lg=j=>{const U=Ll(j);if(U.length===0)return j;const S=U[Math.floor(Math.random()*U.length)],A=j.map(B=>[...B]),I=Il();return A[S.row][S.col]={id:u,level:I.level,row:S.row,col:S.col,justSpawned:!0,isJoker:I.isJoker},I.isJoker&&(Tt(!0),setTimeout(()=>{Tt(!1)},500),setTimeout(()=>{_y()},50)),d(B=>B+1),A},Fu=j=>{if(M.inputLocked||Xt)return;Qs();const U=a.map(b=>[...b]),S=a.map(b=>[...b]);let A=!1,I=!1,B=!1;if(S.forEach(b=>b.forEach(P=>{P&&(P.merged=!1,P.justMerged=!1,P.justSpawned=!1)})),j==="left"){for(let b=0;b<4;b++){for(let P=1;P<4;P++)if(S[b][P]&&S[b][P].isJoker&&!ot(S[b][P].id,M.frozenTiles)){const T=ei(S,b,P,"left");if(T.moved&&(A=!0),T.merged&&(I=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let b=0;b<4;b++)for(let P=1;P<4;P++)if(S[b][P]&&!S[b][P].isJoker&&!ot(S[b][P].id,M.frozenTiles)){let T=P;for(;T>0;)if(!S[b][T-1])S[b][T-1]={...S[b][T],col:T-1},S[b][T]=null,T--,A=!0;else if($n(S[b][T-1],S[b][T],M.frozenTiles)){const W=is(S[b][T-1],S[b][T]);if(W.isJokerFusion){const X=Vr(S),{newGrid:Y,bonus:re}=Kr(S,X);for(let J=0;J<4;J++)for(let le=0;le<4;le++)S[J][le]=Y[J][le];h(J=>J+re),jt(re,b,T-1),Ot(X),Gr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),cn(),A=!0,I=!0,B=!0;break}else{const X=Math.pow(2,W.level);S[b][T-1]={...S[b][T-1],level:W.level,isJoker:W.isJoker,merged:!0,justMerged:!0},h(Y=>Y+X),jt(X,b,T-1),Ot(W.level),S[b][T]=null,A=!0,I=!0;break}}else break}}}else if(j==="right"){for(let b=0;b<4;b++){for(let P=2;P>=0;P--)if(S[b][P]&&S[b][P].isJoker&&!ot(S[b][P].id,M.frozenTiles)){const T=ei(S,b,P,"right");if(T.moved&&(A=!0),T.merged&&(I=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let b=0;b<4;b++)for(let P=2;P>=0;P--)if(S[b][P]&&!S[b][P].isJoker&&!ot(S[b][P].id,M.frozenTiles)){let T=P;for(;T<3;)if(!S[b][T+1])S[b][T+1]={...S[b][T],col:T+1},S[b][T]=null,T++,A=!0;else if($n(S[b][T+1],S[b][T],M.frozenTiles)){const W=is(S[b][T+1],S[b][T]);if(W.isJokerFusion){const X=Vr(S),{newGrid:Y,bonus:re}=Kr(S,X);for(let J=0;J<4;J++)for(let le=0;le<4;le++)S[J][le]=Y[J][le];h(J=>J+re),jt(re,b,T+1),Ot(X),Gr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),cn(),A=!0,I=!0,B=!0;break}else{const X=Math.pow(2,W.level);S[b][T+1]={...S[b][T+1],level:W.level,isJoker:W.isJoker,merged:!0,justMerged:!0},h(Y=>Y+X),jt(X,b,T+1),Ot(W.level),S[b][T]=null,A=!0,I=!0;break}}else break}}}else if(j==="up"){for(let b=0;b<4;b++){for(let P=1;P<4;P++)if(S[P][b]&&S[P][b].isJoker&&!ot(S[P][b].id,M.frozenTiles)){const T=ei(S,P,b,"up");if(T.moved&&(A=!0),T.merged&&(I=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let b=0;b<4;b++)for(let P=1;P<4;P++)if(S[P][b]&&!S[P][b].isJoker&&!ot(S[P][b].id,M.frozenTiles)){let T=P;for(;T>0;)if(!S[T-1][b])S[T-1][b]={...S[T][b],row:T-1},S[T][b]=null,T--,A=!0;else if($n(S[T-1][b],S[T][b],M.frozenTiles)){const W=is(S[T-1][b],S[T][b]);if(W.isJokerFusion){const X=Vr(S),{newGrid:Y,bonus:re}=Kr(S,X);for(let J=0;J<4;J++)for(let le=0;le<4;le++)S[J][le]=Y[J][le];h(J=>J+re),jt(re,T-1,b),Ot(X),Gr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),cn(),A=!0,I=!0,B=!0;break}else{const X=Math.pow(2,W.level);S[T-1][b]={...S[T-1][b],level:W.level,isJoker:W.isJoker,merged:!0,justMerged:!0},h(Y=>Y+X),jt(X,T-1,b),Ot(W.level),S[T][b]=null,A=!0,I=!0;break}}else break}}}else if(j==="down"){for(let b=0;b<4;b++){for(let P=2;P>=0;P--)if(S[P][b]&&S[P][b].isJoker&&!ot(S[P][b].id,M.frozenTiles)){const T=ei(S,P,b,"down");if(T.moved&&(A=!0),T.merged&&(I=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let b=0;b<4;b++)for(let P=2;P>=0;P--)if(S[P][b]&&!S[P][b].isJoker&&!ot(S[P][b].id,M.frozenTiles)){let T=P;for(;T<3;)if(!S[T+1][b])S[T+1][b]={...S[T][b],row:T+1},S[T][b]=null,T++,A=!0;else if($n(S[T+1][b],S[T][b],M.frozenTiles)){const W=is(S[T+1][b],S[T][b]);if(W.isJokerFusion){const X=Vr(S),{newGrid:Y,bonus:re}=Kr(S,X);for(let J=0;J<4;J++)for(let le=0;le<4;le++)S[J][le]=Y[J][le];h(J=>J+re),jt(re,T+1,b),Ot(X),Gr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),cn(),A=!0,I=!0,B=!0;break}else{const X=Math.pow(2,W.level);S[T+1][b]={...S[T+1][b],level:W.level,isJoker:W.isJoker,merged:!0,justMerged:!0},h(Y=>Y+X),jt(X,T+1,b),Ot(W.level),S[T][b]=null,A=!0,I=!0;break}}else break}}}if(A){const b={grid:U,score:g,nextId:u,powerUpState:ng(M),generatedPowerUpLevels:Array.from(E.current)};p(Y=>{const re=[...Y,b],J=1+M.spawnedUndos;return console.log("📚 Saving state to history. Total states:",re.length,"Max:",J),re.length>J?re.slice(-J):re});const P=M.slowMotionTurns>0||B?S:lg(S);l(P),x(!0),I?lp():ap();const T=s(P),W=T>Se,X=E.current.has(T);if(W&&!X){ve(T);const Y=ix(M.powerUps,Se,T);if(console.log("🎯 Power-up generation check:",{isUndoing:_.current,shouldGenerate:Y,alreadyGeneratedForThisLevel:X,highestTileReached:Se,currentHighest:T,isNewHighest:W,generatedLevels:Array.from(E.current)}),!_.current&&Y){const re=sx();E.current.add(T),console.log("🎯 Generated power-up for level",T,"type:",re.type),L(J=>({...J,powerUps:[...J.powerUps,re],spawnedUndos:re.type==="undo"?J.spawnedUndos+1:J.spawnedUndos})),re.type==="undo"&&(console.log("🎯 Undo power-up spawned, spawnedUndos increased to:",M.spawnedUndos+1),console.log("🎯 UI extraUndos remains at:",M.extraUndos))}}else W&&(ve(T),console.log("🎯 New highest tile",T,"but power-up already generated for this level"));if(L(Y=>({...Y,frozenTiles:ox(Y.frozenTiles),slowMotionTurns:Math.max(0,Y.slowMotionTurns-1)})),O&&(R(!1),N(null)),!Hp(P,M.frozenTiles)){console.log("🚨 Deadlock detected - attempting automatic resolution");const Y=px(M.frozenTiles);Y?(console.log("🧊 Unfreezing tile to resolve deadlock:",Y),L(re=>({...re,frozenTiles:gx(re.frozenTiles,Y)})),Do(Sa.FROZEN_TILE_FREED)):M.slowMotionTurns>0&&(console.log("⏳ Disabling slow motion to resolve deadlock"),L(re=>({...re,slowMotionTurns:0})),Do(Sa.SLOWMO_DISABLED))}if(Xp(P)){f(!0),up(),ss(!0);const Y=Yw();g>Y&&Xw(g),Jp(g)}}else Sl()};tx({onMove:Fu,onUndo:Mu,onRestart:void 0,onEscape:M.selectingPowerUp?Nu:void 0,disabled:c,canUndo:m}),nx({onSwipe:Fu,disabled:c,minSwipeDistance:30,maxSwipeTime:1e3,element:r});const ug=()=>{try{ex({grid:a,score:g,nextId:u,isPaused:!1,timestamp:Date.now(),preRestartState:F,canUndo:m,wasRestartedViaHold:O,isGameOver:c,powerUpState:M})}catch(j){console.warn("Failed to save current game state:",j)}};z.useEffect(()=>{c||ug()},[a,g,u,M]);const cg=()=>{const j=[];return a.forEach((U,S)=>{U.forEach((A,I)=>{A&&((A.row!==S||A.col!==I)&&(console.log(`Tile position mismatch: tile says (${A.row}, ${A.col}) but is at grid position (${S}, ${I})`),A.row=S,A.col=I),j.push(A))})}),j},dg=100,Zt=typeof window<"u"?window.innerWidth:800,fg=typeof window<"u"?window.innerHeight:600,hg=Math.max(Zt-100,320),pg=Math.max(fg-350,280),gg=Math.min(dg,Math.floor((hg-3*Q)/4),Math.floor((pg-3*Q)/4)),mg=Zt<480?50:Zt<768?65:75,Pe=Math.max(gg,mg);return k.jsxs(Ro,{allowScroll:!1,children:[k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:v.spacing.sm,width:"100%",flexShrink:0,position:"relative",paddingTop:Zt<480?v.spacing.sm:v.spacing.lg,marginTop:Zt<480?"25px":v.spacing.md},children:[k.jsx(Cy,{onGoHome:t,disabled:c,gridWidth:(Pe+Q)*4-Q}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:`${(Pe+Q)*4-Q}px`,minWidth:"280px",gap:v.spacing.md,marginBottom:v.spacing.xs,padding:v.spacing.lg,backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"2px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[k.jsxs("div",{style:{fontSize:Zt<480?v.fontSize.base:v.fontSize.lg,color:"#666",margin:"0",fontWeight:"600",whiteSpace:"nowrap"},children:["Score: ",g.toLocaleString()]}),k.jsxs("div",{style:{fontSize:Zt<480?v.fontSize.base:v.fontSize.lg,color:"#666",fontWeight:"600",whiteSpace:"nowrap"},children:["Power-Ups: ",M.powerUps.length,"/4"]})]})]}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",flex:1,justifyContent:"center",minHeight:0},children:[k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:v.spacing.md},children:[k.jsx(Ry,{powerUps:M.powerUps,onUsePowerUp:tg,disabled:c||M.inputLocked,gridWidth:(Pe+Q)*4-Q,slowMotionTurns:M.slowMotionTurns}),k.jsx(Iy,{selectingPowerUp:M.selectingPowerUp,onCancel:Nu,gridWidth:(Pe+Q)*4-Q}),k.jsx($y,{message:it,gridWidth:(Pe+Q)*4-Q}),Pn&&k.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(255, 215, 0, 0.95)",color:"#333",padding:"12px 24px",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",textAlign:"center",zIndex:1e3,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",border:"2px solid #ffd700",animation:"pulse 0.5s ease-in-out",minWidth:"250px"},children:Pn})]}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:v.spacing.lg},children:[k.jsxs("div",{ref:r,className:"game-container",style:{position:"relative",width:(Pe+Q)*4-Q,height:(Pe+Q)*4-Q,margin:"0",isolation:"isolate",minWidth:"280px",minHeight:"280px",maxWidth:"min(90vw, 500px)",maxHeight:"min(90vw, 500px)",flexShrink:0},children:[a.map((j,U)=>j.map((S,A)=>k.jsx("div",{style:{position:"absolute",left:A*(Pe+Q),top:U*(Pe+Q),width:Pe,height:Pe,border:`${hy}px solid ${py}`,borderRadius:Ai,backgroundColor:gy,boxSizing:"border-box",zIndex:1}},`${U}-${A}`))),cg().map(j=>{var A,I;const U=((A=M.selectingPowerUp)==null?void 0:A.picked.some(B=>B.row===j.row&&B.col===j.col))||!1,S=M.selectingPowerUp?kd(j.row,j.col,a,M.selectingPowerUp,M.frozenTiles):!1;return k.jsx(yy,{tile:j,cellSize:Pe,onTileClick:og,isFrozen:ot(j.id,M.frozenTiles),freezeTurns:ax(j.id,M.frozenTiles),isSelected:((I=M.swapSelection)==null?void 0:I.tileId)===j.id,canInteract:M.activePowerUp!==null&&!c,isSelectable:S,isPicked:U},j.id)}),w.map(j=>k.jsx(Ey,{score:j.score,x:j.x,y:j.y,cellSize:Pe,onComplete:()=>Kp(j.id)},j.id)),c&&k.jsx(by,{score:g,onRestart:eg,onMainMenu:ag,onBackToGame:()=>{f(!1),ne(null),oe(!1),x(!0)},canUndo:y.length>0&&!lr()&&(rs()||M.extraUndos>0),extraUndos:M.extraUndos,onNameSubmit:qp,onSkipHighScore:Qp,isCheckingScore:H,isSavingScore:Z,qualifiesForLeaderboard:V!==null,gridWidth:(Pe+Q)*4-Q})]}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:v.spacing.md,width:"100%",flexShrink:0,marginTop:Zt<480?v.spacing.xs:v.spacing.lg},children:[k.jsx(Ty,{onUndo:Mu,canUndo:m&&!ie&&!lr()||c&&rs()&&!ie&&!lr()||M.extraUndos>0,disabled:c&&!(rs()||M.extraUndos>0)||M.inputLocked,allowUndoWhenDisabled:c&&rs()&&!ie&&!lr()||c&&M.extraUndos>0&&y.length>0&&!ie&&!lr(),gridWidth:(Pe+Q)*4-Q,extraUndos:M.extraUndos}),k.jsx(jy,{style:{maxWidth:"90%",opacity:.8}})]})]})," "]})," "]})},wx=({style:t})=>{const{t:e}=Ct(),[n,r]=z.useState(null),[s,i]=z.useState(!0);z.useEffect(()=>{(async()=>{i(!0);try{const u=await Fo();r(u.length>0?u[0]:null)}catch(u){console.error("Failed to load high score:",u),r(null)}finally{i(!1)}})()},[]);const o=rp.md,a={width:"100%",minHeight:o.minHeight,padding:o.padding,fontSize:o.fontSize,fontWeight:"bold",borderRadius:o.borderRadius,background:"rgba(255, 215, 0, 0.7)",color:"#B8860B",border:"2px solid rgba(255, 215, 0, 0.6)",backdropFilter:"blur(5px)",boxShadow:v.boxShadow.base,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${v.transition.base}`,cursor:"default",userSelect:"none",...t};return s?k.jsx("div",{style:a,children:"⏳ Loading..."}):n?k.jsx("div",{style:a,children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[k.jsx("div",{style:{fontSize:"clamp(12px, 2.5vw, 14px)",fontWeight:"600",opacity:.9},children:e("startScreen.globalHighScoreTitle")}),k.jsx("div",{style:{fontSize:"clamp(14px, 3vw, 16px)",fontWeight:"bold"},children:n.score.toLocaleString()}),k.jsx("div",{style:{fontSize:"clamp(10px, 2vw, 12px)",fontWeight:"500",opacity:.8},children:e("startScreen.globalHighScoreBy",{name:n.name})})]})}):k.jsx("div",{style:a,children:e("startScreen.noScoresYet")})},zu=({containerWidth:t,containerHeight:e,maxEmojis:n=10})=>{const[r,s]=z.useState([]),{discoveredEmojis:i,weightedEmojiSelection:o}=z.useMemo(()=>{const a=Bp(),l=[];for(let c=1;c<=a;c++)l.push(c);const u=l.map(c=>ao.get(c)).filter(c=>c!==void 0),d=[];return l.forEach(c=>{const f=ao.get(c);if(f){const g=Math.min(c,3);for(let h=0;h<g;h++)d.push(f)}}),{discoveredEmojis:u,weightedEmojiSelection:d}},[]);return z.useEffect(()=>{if(i.length===0||t===0||e===0)return;const a=u=>{const d=Math.floor(Math.random()*3),c=d===0?.3:d===1?.6:1,f=Math.floor(Math.random()*4);let g,h,w,C;const y=Math.random()*Math.PI*2,p=2+Math.random()*2*c;switch(f){case 0:g=-100,h=Math.random()*e;const m=(Math.random()-.5)*Math.PI;w=Math.cos(m)*p,C=Math.sin(m)*p;break;case 1:g=t+100,h=Math.random()*e;const x=Math.PI+(Math.random()-.5)*Math.PI;w=Math.cos(x)*p,C=Math.sin(x)*p;break;case 2:g=Math.random()*t,h=-100;const _=Math.random()*Math.PI;w=Math.cos(_)*p,C=Math.sin(_)*p;break;case 3:g=Math.random()*t,h=e+100;const E=Math.PI+Math.random()*Math.PI;w=Math.cos(E)*p,C=Math.sin(E)*p;break;default:g=-100,h=Math.random()*e,w=Math.cos(y)*p,C=Math.sin(y)*p}return{id:u,emoji:o[Math.floor(Math.random()*o.length)],x:g,y:h,vx:w,vy:C,scale:.6+Math.random()*.8*c,opacity:1,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*.8*c,layer:d}},l=Array.from({length:n},(u,d)=>a(d));s(l)},[i,t,e,n]),z.useEffect(()=>{if(r.length===0)return;let a;const u=1e3/60;let d=0;const c=f=>{f-d>=u&&(d=f,s(g=>g.map(h=>{let w=h.x+h.vx,C=h.y+h.vy,y=h.rotation+h.rotationSpeed;const p=100;if(w>t+p||w<-p||C>e+p||C<-p){const m=Math.floor(Math.random()*4),x=h.layer===0?.3:h.layer===1?.6:1;let _,E,O,R;const F=2+Math.random()*2*x;switch(m){case 0:_=-100,E=Math.random()*e;const V=(Math.random()-.5)*Math.PI;O=Math.cos(V)*F,R=Math.sin(V)*F;break;case 1:_=t+100,E=Math.random()*e;const ne=Math.PI+(Math.random()-.5)*Math.PI;O=Math.cos(ne)*F,R=Math.sin(ne)*F;break;case 2:_=Math.random()*t,E=-100;const ie=Math.random()*Math.PI;O=Math.cos(ie)*F,R=Math.sin(ie)*F;break;case 3:_=Math.random()*t,E=e+100;const oe=Math.PI+Math.random()*Math.PI;O=Math.cos(oe)*F,R=Math.sin(oe)*F;break;default:_=-100,E=Math.random()*e;const Se=Math.random()*Math.PI*2;O=Math.cos(Se)*F,R=Math.sin(Se)*F}const N=o[Math.floor(Math.random()*o.length)];return{...h,emoji:N,x:_,y:E,vx:O,vy:R,scale:.6+Math.random()*.8*x,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*.8*x}}return{...h,x:w,y:C,rotation:y}}))),a=requestAnimationFrame(c)};return a=requestAnimationFrame(c),()=>{a&&cancelAnimationFrame(a)}},[r.length,t,e]),i.length===0?null:k.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",overflow:"hidden",zIndex:0},children:r.map(a=>k.jsx("div",{style:{position:"absolute",left:a.x,top:a.y,fontSize:`${40+a.scale*20}px`,opacity:a.opacity,transform:`scale(${a.scale}) rotate(${a.rotation}deg)`,filter:"blur(0.3px)",userSelect:"none",zIndex:a.layer+1},children:a.emoji},a.id))})},ki=(t,e)=>()=>{e(),t()},xx=({onStartGame:t,onContinueGame:e,onShowLeaderboard:n,onShowSettings:r})=>{const{t:s}=Ct(),i=Dp(),o=ki(t,lo),a=ki(e,cp),l=ki(n,Je),u=ki(r,Je),c=(()=>{const g=typeof window<"u"?window.innerWidth:800,h=typeof window<"u"?window.innerHeight:600,w=Math.max(g-100,320),C=Math.max(h-350,280),y=Math.min(100,Math.floor((w-3*Q)/4),Math.floor((C-3*Q)/4)),p=g<480?50:g<768?65:75;return(Math.max(y,p)+Q)*4-Q})();return k.jsxs(Ro,{children:[k.jsx(zu,{containerWidth:typeof window<"u"?window.innerWidth:800,containerHeight:typeof window<"u"?window.innerHeight:600,maxEmojis:20}),k.jsx("div",{style:{fontSize:v.fontSize["4xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",position:"relative",zIndex:1},children:s("app.title")}),k.jsx("div",{style:{fontSize:v.fontSize.base,color:"#666",textAlign:"center",maxWidth:"90%",lineHeight:"1.5",margin:"0",position:"relative",zIndex:1},children:s("app.description")}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:v.spacing.lg,alignItems:"center",width:"100%",maxWidth:`${c}px`,position:"relative",zIndex:1},children:[k.jsx(wx,{}),k.jsx(be,{onClick:o,variant:"primary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.startNewGame")}),k.jsx(be,{onClick:a,disabled:!i,variant:"secondary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.continueGame")}),k.jsx(be,{onClick:l,variant:"secondary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.leaderboard")}),k.jsx(be,{onClick:u,variant:"secondary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.settings")})]})]})},Sx=t=>t||"Anonymous",kx=({onBackToHome:t})=>{const{t:e}=Ct(),[n,r]=z.useState([]),[s,i]=z.useState(!0),{isMobile:o}=pp(),a=()=>{Je(),t()},u=(()=>{const f=typeof window<"u"?window.innerWidth:800,g=typeof window<"u"?window.innerHeight:600,h=Math.max(f-100,320),w=Math.max(g-350,280),C=Math.min(100,Math.floor((h-3*Q)/4),Math.floor((w-3*Q)/4)),y=f<480?50:f<768?65:75;return(Math.max(C,y)+Q)*4-Q})();z.useEffect(()=>{(async()=>{i(!0);try{const f=await Fo();r(f)}catch(f){console.error("Failed to load leaderboard:",f)}finally{i(!1)}})()},[]);const d=n.slice(0,100);return k.jsxs(Ro,{children:[k.jsx(zu,{containerWidth:typeof window<"u"?window.innerWidth:800,containerHeight:typeof window<"u"?window.innerHeight:600,maxEmojis:20}),k.jsx("div",{style:{fontSize:v.fontSize["3xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",position:"relative",zIndex:1},children:e("leaderboard.title")}),k.jsx("div",{style:{width:"100%",maxWidth:o?"100%":"500px",backgroundColor:"white",borderRadius:v.borderRadius.xl,boxShadow:v.boxShadow.overlay,padding:o?`${v.spacing.lg} ${v.spacing.md}`:`clamp(${v.spacing.xl}, 4vh, ${v.spacing["3xl"]})`,minHeight:"clamp(300px, 50vh, 400px)",maxHeight:"60vh",display:"flex",flexDirection:"column",overflowY:"auto",margin:"0",position:"relative",zIndex:1},children:s?k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[k.jsx("div",{style:{fontSize:v.fontSize["4xl"],marginBottom:v.spacing.lg},children:"⏳"}),k.jsx("div",{style:{fontSize:v.fontSize.lg,fontWeight:"bold",color:"#333"},children:e("leaderboard.loading")})]}):d.length>0?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{fontSize:v.fontSize.xl,fontWeight:"bold",color:"#333",textAlign:"center",marginBottom:v.spacing.xl},children:e("leaderboard.topScores")}),k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:v.spacing.md,flex:1},children:d.map((c,f)=>{const g=f===0,h=f<3;return k.jsxs("div",{style:{position:"relative",display:"grid",gridTemplateColumns:o?"32px 1fr 60px 80px":"40px 1fr 80px 100px",alignItems:"center",gap:o?v.spacing.sm:v.spacing.md,padding:o?`${v.spacing.md} ${v.spacing.sm}`:`${v.spacing.lg} ${v.spacing.xl}`,backgroundColor:g?"rgba(255, 215, 0, 0.12)":h?"rgba(76, 175, 80, 0.06)":"rgba(248, 249, 250, 0.8)",borderRadius:v.borderRadius.lg,border:g?"1px solid rgba(255, 215, 0, 0.3)":h?"1px solid rgba(76, 175, 80, 0.15)":"1px solid rgba(0, 0, 0, 0.06)",transition:`transform ${v.transition.base}`},onMouseOver:w=>{w.currentTarget.style.transform="translateY(-2px)"},onMouseOut:w=>{w.currentTarget.style.transform="translateY(0)"},children:[k.jsx("div",{style:{fontSize:o?v.fontSize.base:v.fontSize.lg,fontWeight:"bold",textAlign:"center",color:g?"#FFD700":f===1?"#C0C0C0":f===2?"#CD7F32":"#666",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:g?"🥇":f===1?"🥈":f===2?"🥉":`#${c.rank}`}),k.jsx("div",{style:{fontSize:o?v.fontSize.sm:v.fontSize.base,fontWeight:"500",color:"#333",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:"0"},children:k.jsx("span",{lang:"und",suppressHydrationWarning:!0,children:Sx(c.name)})}),k.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:v.spacing.xs,color:"#666",fontWeight:"500",fontSize:o?v.fontSize.xs:v.fontSize.sm,textAlign:"center",width:"100%",position:"relative"},children:[k.jsx("span",{style:{fontSize:o?v.fontSize.sm:v.fontSize.base,lineHeight:"1"},children:ao.get(c.highestTile||1)||"❓"}),k.jsx("span",{style:{fontSize:o?v.fontSize.xs:v.fontSize.sm,lineHeight:"1",minWidth:o?"16px":"20px",textAlign:"left"},children:c.highestTile||1})]}),k.jsx("div",{style:{fontSize:o?v.fontSize.sm:v.fontSize.base,fontWeight:"600",color:"#333",textAlign:"right",whiteSpace:"nowrap",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:c.score.toLocaleString()})]},`${c.score}-${c.name}-${f}`)})})]}):k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[k.jsx("div",{style:{fontSize:v.fontSize["4xl"],marginBottom:v.spacing.lg},children:"🎮"}),k.jsx("div",{style:{fontSize:v.fontSize.xl,fontWeight:"bold",marginBottom:v.spacing.sm,color:"#333"},children:e("leaderboard.noScores")}),k.jsx("div",{style:{fontSize:v.fontSize.base,lineHeight:"1.5"},children:e("leaderboard.noScoresDescription")})]})}),k.jsx("div",{style:{width:"100%",maxWidth:`${u}px`,position:"relative",zIndex:1},children:k.jsx(be,{onClick:a,variant:"secondary",style:{width:`${u}px`,minWidth:"280px",maxWidth:"500px"},children:e("leaderboard.home")})})]})};let yt={},fs=8;try{yt=require("../constants/design-system").DESIGN_TOKENS||{}}catch{console.warn("Could not import DESIGN_TOKENS, using fallbacks")}try{fs=require("../constants/styles").CELL_GAP||8}catch{console.warn("Could not import CELL_GAP, using fallback")}const _x=({onBackToMenu:t})=>{var f,g,h,w,C,y,p,m,x,_;const{t:e}=Ct(),[n,r]=z.useState(!0);z.useEffect(()=>{const E=()=>{try{Xc()&&r(!ky())}catch(O){console.warn("Error reading sound state:",O),r(!0)}};if(E(),!Xc()){const O=setTimeout(E,100);return()=>clearTimeout(O)}},[]);const s=()=>{try{Qs();const E=!n;r(E),Pu(!E),E&&setTimeout(()=>{try{Je()}catch(O){console.warn("Error playing sound:",O)}},100)}catch(E){console.warn("Error toggling sound:",E)}},i=()=>{try{Je()}catch(E){console.warn("Error playing sound:",E)}t()},a=(()=>{try{const O=typeof window<"u"?window.innerWidth:800,R=typeof window<"u"?window.innerHeight:600,F=Math.max(O-100,320),N=Math.max(R-350,280),V=Math.min(100,Math.floor((F-3*fs)/4),Math.floor((N-3*fs)/4)),ne=O<480?50:O<768?65:75;return(Math.max(V,ne)+fs)*4-fs}catch(E){return console.warn("Error calculating grid button width:",E),320}})(),l={"3xl":((f=yt.fontSize)==null?void 0:f["3xl"])||"1.875rem",base:((g=yt.fontSize)==null?void 0:g.base)||"1rem",lg:((h=yt.fontSize)==null?void 0:h.lg)||"1.125rem",sm:((w=yt.fontSize)==null?void 0:w.sm)||"0.875rem"},u={lg:((C=yt.spacing)==null?void 0:C.lg)||"24px",md:((y=yt.spacing)==null?void 0:y.md)||"16px",sm:((p=yt.spacing)==null?void 0:p.sm)||"8px"},d={primary:((m=yt.color)==null?void 0:m.primary)||"#4CAF50",secondary:((x=yt.color)==null?void 0:x.secondary)||"#f5f5f5"},c={lg:((_=yt.borderRadius)==null?void 0:_.lg)||"12px"};return k.jsxs(Ro,{children:[k.jsx(zu,{containerWidth:typeof window<"u"?window.innerWidth:800,containerHeight:typeof window<"u"?window.innerHeight:600,maxEmojis:15}),k.jsx("div",{style:{fontSize:l["3xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",position:"relative",zIndex:1},children:e("settings.title",{defaultValue:"Einstellungen"})}),k.jsx("div",{style:{fontSize:l.base,color:"#666",textAlign:"center",maxWidth:"90%",lineHeight:"1.5",margin:"0",position:"relative",zIndex:1},children:e("settings.subtitle",{defaultValue:"Passe dein Spielerlebnis an"})}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:u.lg,alignItems:"center",width:"100%",maxWidth:`${a}px`,position:"relative",zIndex:1},children:[k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:u.md,alignItems:"center",width:"100%",padding:u.lg,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:c.lg,border:`2px solid ${n?d.primary:"#ccc"}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[k.jsx("div",{style:{fontSize:l.lg,fontWeight:"600",color:"#333",textAlign:"center",marginBottom:u.sm},children:"Audio-Einstellungen"}),k.jsx(be,{onClick:s,variant:n?"primary":"secondary",style:{width:"100%",minHeight:"60px",fontSize:l.lg,fontWeight:"bold",backgroundColor:n?d.primary:d.secondary,color:n?"white":"#666",border:`2px solid ${n?d.primary:"#ccc"}`,transition:"all 0.3s ease"},children:n?e("settings.soundOn",{defaultValue:"🔊 Sound: An"}):e("settings.soundOff",{defaultValue:"🔇 Sound: Aus"})}),k.jsx("div",{style:{fontSize:l.sm,color:"#666",textAlign:"center",fontStyle:"italic"},children:n?"Alle Spielsounds sind aktiviert":"Alle Spielsounds sind deaktiviert"})]}),k.jsxs(be,{onClick:i,variant:"secondary",style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px"},children:["🏠 ",e("settings.backToMenu",{defaultValue:"Start"})]})]})]})},Ed=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:s,confirmText:i,cancelText:o,gridWidth:a=320,confirmVariant:l="primary"})=>{const{t:u}=Ct(),d=()=>{Je(),r()},c=()=>{Je(),s()};return t?k.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,fontFamily:"Arial, sans-serif"},children:k.jsxs("div",{style:{backgroundColor:"white",borderRadius:v.borderRadius.xl,padding:v.layout.popupPadding,boxShadow:v.boxShadow.xl,width:"fit-content",minWidth:`${Math.max(a+48,328)}px`,maxWidth:"548px",textAlign:"center",border:"2px solid rgba(0, 0, 0, 0.1)",boxSizing:"border-box"},children:[k.jsx("h3",{style:{fontSize:v.fontSize.xl,fontWeight:"bold",color:"#333",marginBottom:v.spacing.lg,marginTop:0},children:e}),k.jsx("p",{style:{fontSize:v.fontSize.base,color:"#666",lineHeight:"1.5",marginBottom:v.spacing["3xl"],marginTop:0},children:n}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:v.spacing.md,alignItems:"center",width:"100%",padding:`0 ${v.layout.popupContentPadding}`,boxSizing:"border-box"},children:[k.jsx(be,{onClick:c,variant:"primary",size:"md",fullWidth:!1,style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:v.fontSize.base,fontWeight:"bold",borderRadius:v.borderRadius.lg,padding:`${v.spacing.md} ${v.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},children:o||u("confirmDialog.cancel")}),k.jsx(be,{onClick:d,variant:l==="warning"?"warning":"primary",size:"md",fullWidth:!1,style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:v.fontSize.base,fontWeight:"bold",borderRadius:v.borderRadius.lg,padding:`${v.spacing.md} ${v.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},children:i||u("confirmDialog.confirm")})]})]})}):null},bx=({isVisible:t,score:e,onSubmit:n,onCancel:r})=>{const{t:s}=Ct(),[i,o]=z.useState(""),[a,l]=z.useState(!1),d=(()=>{const w=typeof window<"u"?window.innerWidth:800,C=typeof window<"u"?window.innerHeight:600,y=Math.max(w-100,320),p=Math.max(C-350,280),m=Math.min(100,Math.floor((y-3*Q)/4),Math.floor((p-3*Q)/4)),x=w<480?50:w<768?65:75;return(Math.max(m,x)+Q)*4-Q})();z.useEffect(()=>{if(t){const h=setTimeout(()=>{l(!0)},50);return()=>clearTimeout(h)}else l(!1)},[t]),z.useEffect(()=>{t&&o("")},[t]);const c=h=>{h.preventDefault(),cn();const w=i.trim();n(w||s("common.anonymous"))},f=()=>{Je(),r()},g=h=>{const w=h.target.value;w.length<=12&&o(w)};return t?k.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,opacity:a?1:0,transition:"opacity 0.3s ease-in-out"},children:k.jsxs("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:v.borderRadius.xl,padding:v.layout.popupPadding,width:"fit-content",minWidth:`${d}px`,maxWidth:`max(${d}px, min(90vw, 500px))`,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",border:"2px solid rgba(255, 255, 255, 0.15)",color:"white",textAlign:"center"},children:[k.jsxs("div",{style:{textAlign:"center",marginBottom:v.spacing.xl},children:[k.jsx("h2",{style:{color:"white",fontSize:`clamp(${v.fontSize.lg}, 4vw, ${v.fontSize.xl})`,fontWeight:"bold",margin:`0 0 ${v.spacing.lg} 0`},children:s("nameEntry.newHighScore")}),k.jsx("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:`clamp(${v.fontSize.sm}, 3vw, ${v.fontSize.base})`,margin:`0 0 ${v.spacing.sm} 0`},children:s("nameEntry.score",{score:e.toLocaleString()})}),k.jsx("p",{style:{color:"#FFD700",fontSize:v.fontSize.sm,fontWeight:"bold",margin:"0"},children:s("nameEntry.enterNamePrompt")})]}),k.jsxs("form",{onSubmit:c,children:[k.jsx("input",{type:"text",value:i,onChange:g,placeholder:s("nameEntry.namePlaceholder"),autoFocus:!0,style:{width:"100%",padding:"12px 16px",fontSize:"16px",border:`2px solid ${on.border.light}`,borderRadius:"8px",marginBottom:"20px",boxSizing:"border-box",backgroundColor:on.background,color:on.textPrimary,outline:"none",transition:"border-color 0.2s ease"},onFocus:h=>{h.target.style.borderColor=on.primary},onBlur:h=>{h.target.style.borderColor=on.border.light}}),k.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[k.jsx(be,{variant:"secondary",size:"sm",fullWidth:!1,type:"button",onClick:f,style:{minWidth:"100px"},children:s("nameEntry.skip")}),k.jsx(be,{variant:"primary",size:"sm",fullWidth:!1,type:"submit",style:{minWidth:"100px"},children:s("nameEntry.saveScore")})]})]}),k.jsx("div",{style:{textAlign:"center",marginTop:"16px",fontSize:"12px",color:on.textSecondary},children:s("nameEntry.charactersRemaining",{current:i.length,max:12})})]})}):null};function Ex(){const{t}=Ct(),[e,n]=z.useState("start"),[r,s]=z.useState(!1),[i,o]=z.useState(!1),[a,l]=z.useState(!1);z.useEffect(()=>{Sy()},[]);const d=(()=>{const ne=typeof window<"u"?window.innerWidth:800,ie=typeof window<"u"?window.innerHeight:600,oe=Math.max(ne-100,320),Se=Math.max(ie-350,280),ve=Math.min(100,Math.floor((oe-3*Q)/4),Math.floor((Se-3*Q)/4)),M=ne<480?50:ne<768?65:75;return(Math.max(ve,M)+Q)*4-Q})(),[c,f]=z.useState(null),[g,h]=z.useState(!1),w=()=>{if(c!==null){o(!0);return}Dp()?s(!0):(Fn(),l(!1),n("playing"))},C=()=>{l(!0),n("playing")},y=()=>{n("leaderboard")},p=()=>{n("settings")},m=()=>{n("start")},x=()=>{Or(),Fn(),l(!1),s(!1),n("playing")},_=V=>{f(V)},E=async V=>{if(c!==null)try{await Rl(c,V)}catch(ne){console.error("Failed to save score to leaderboard:",ne)}f(null),h(!1),Or(),Fn(),l(!1),n("start")},O=async()=>{if(c!==null)try{await Rl(c,t("common.anonymous"))}catch(V){console.error("Failed to save score to leaderboard:",V)}f(null),h(!1),Or(),Fn(),l(!1),n("start")},R=()=>{s(!1)},F=()=>{f(null),o(!1),Fn(),l(!1),n("playing")},N=()=>{o(!1),h(!0)};return k.jsxs("div",{children:[e==="start"&&k.jsx(xx,{onStartGame:w,onContinueGame:C,onShowLeaderboard:y,onShowSettings:p}),e==="playing"&&k.jsx(vx,{onBackToStart:m,shouldLoadSavedGame:a,onPendingScore:_}),e==="leaderboard"&&k.jsx(kx,{onBackToHome:m}),e==="settings"&&k.jsx(_x,{onBackToMenu:m}),k.jsx(Ed,{isOpen:r,title:t("confirmDialog.startNewGameTitle"),message:t("confirmDialog.startNewGameMessage"),onConfirm:x,onCancel:R,confirmText:t("confirmDialog.startNewGame"),cancelText:t("confirmDialog.cancel"),gridWidth:d}),k.jsx(Ed,{isOpen:i,title:t("confirmDialog.skipHighScoreTitle"),message:t("confirmDialog.skipHighScoreMessage"),onConfirm:F,onCancel:N,confirmText:t("confirmDialog.skipHighScoreConfirm"),cancelText:t("confirmDialog.skipHighScoreCancel"),gridWidth:d,confirmVariant:"warning"}),k.jsx(bx,{isVisible:g,score:c||0,onSubmit:E,onCancel:O})]})}const K=t=>typeof t=="string",os=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},Cd=t=>t==null?"":""+t,Cx=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Tx=/###/g,Td=t=>t&&t.indexOf("###")>-1?t.replace(Tx,"."):t,jd=t=>!t||K(t),bs=(t,e,n)=>{const r=K(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(jd(t))return{};const i=Td(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return jd(t)?{}:{obj:t,k:Td(r[s])}},Pd=(t,e,n)=>{const{obj:r,k:s}=bs(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=bs(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=bs(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},jx=(t,e,n,r)=>{const{obj:s,k:i}=bs(t,e,Object);s[i]=s[i]||[],s[i].push(n)},fo=(t,e)=>{const{obj:n,k:r}=bs(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Px=(t,e,n)=>{const r=fo(t,n);return r!==void 0?r:fo(e,n)},Gp=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?K(t[r])||t[r]instanceof String||K(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Gp(t[r],e[r],n):t[r]=e[r]);return t},ur=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ox={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Rx=t=>K(t)?t.replace(/[&<>"'\/]/g,e=>Ox[e]):t;class Lx{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Ix=[" ",",","?","!",";"],$x=new Lx(20),zx=(t,e,n)=>{e=e||"",n=n||"";const r=Ix.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=$x.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},$l=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},Ws=t=>t==null?void 0:t.replace("_","-"),Ax={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class ho{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Ax,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(K(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ho(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ho(this.logger,e)}}var $t=new ho;class Uo{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...n])})}}class Od extends Uo{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var u,d;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):K(r)&&i?a.push(...r.split(i)):a.push(r)));const l=fo(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!K(r)?l:$l((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),Pd(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(K(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=fo(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Gp(l,r,i):l={...l,...r},Pd(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Vp={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,n,r,s))??e}),e}};const Rd={},Ld=t=>!K(t)&&typeof t!="boolean"&&typeof t!="number";class po extends Uo{constructor(e,n={}){super(),Cx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$t.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!zx(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:K(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:K(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const c=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode")return f?i?{res:`${u}${d}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${d}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:a;const g=this.resolve(e,s);let h=g==null?void 0:g.res;const w=(g==null?void 0:g.usedKey)||a,C=(g==null?void 0:g.exactUsedKey)||a,y=["[object Number]","[object Function]","[object RegExp]"],p=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,x=s.count!==void 0&&!K(s.count),_=po.hasDefaultValue(s),E=x?this.pluralResolver.getSuffix(c,s.count,s):"",O=s.ordinal&&x?this.pluralResolver.getSuffix(c,s.count,{ordinal:!1}):"",R=x&&!s.ordinal&&s.count===0,F=R&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${O}`]||s.defaultValue;let N=h;m&&!h&&_&&(N=F);const V=Ld(N),ne=Object.prototype.toString.apply(N);if(m&&N&&V&&y.indexOf(ne)<0&&!(K(p)&&Array.isArray(N))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ie=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,N,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(g.res=ie,g.usedParams=this.getUsedParamsDetails(s),g):ie}if(o){const ie=Array.isArray(N),oe=ie?[]:{},Se=ie?C:w;for(const ve in N)if(Object.prototype.hasOwnProperty.call(N,ve)){const M=`${Se}${o}${ve}`;_&&!h?oe[ve]=this.translate(M,{...s,defaultValue:Ld(F)?F[ve]:void 0,joinArrays:!1,ns:l}):oe[ve]=this.translate(M,{...s,joinArrays:!1,ns:l}),oe[ve]===M&&(oe[ve]=N[ve])}h=oe}}else if(m&&K(p)&&Array.isArray(h))h=h.join(p),h&&(h=this.extendTranslation(h,e,s,r));else{let ie=!1,oe=!1;!this.isValidLookup(h)&&_&&(ie=!0,h=F),this.isValidLookup(h)||(oe=!0,h=a);const ve=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&oe?void 0:h,M=_&&F!==h&&this.options.updateMissing;if(oe||ie||M){if(this.logger.log(M?"updateKey":"missingKey",c,u,a,M?F:h),o){const Z=this.resolve(a,{...s,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&H&&H[0])for(let Z=0;Z<H.length;Z++)L.push(H[Z]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(s.lng||this.language):L.push(s.lng||this.language);const G=(Z,ae,it)=>{var Xt;const Xe=_&&it!==h?it:ve;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,ae,Xe,M,s):(Xt=this.backendConnector)!=null&&Xt.saveMissing&&this.backendConnector.saveMissing(Z,u,ae,Xe,M,s),this.emit("missingKey",Z,u,ae,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?L.forEach(Z=>{const ae=this.pluralResolver.getSuffixes(Z,s);R&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(it=>{G([Z],a+it,s[`defaultValue${it}`]||F)})}):G(L,a,F))}h=this.extendTranslation(h,e,s,g,r),oe&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${u}${d}${a}`),(oe||ie)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${a}`:a,ie?h:void 0,s))}return i?(g.res=h,g.usedParams=this.getUsedParamsDetails(s),g):h}extendTranslation(e,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=K(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(d){const g=e.match(this.interpolator.nestingRegexp);c=g&&g.length}let f=r.replace&&!K(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||s.usedLng,r),d){const g=e.match(this.interpolator.nestingRegexp),h=g&&g.length;c<h&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>(i==null?void 0:i[0])===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=K(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=Vp.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,o,a;return K(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;s=d;let c=u.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const f=n.count!==void 0&&!K(n.count),g=f&&!n.ordinal&&n.count===0,h=n.context!==void 0&&(K(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);c.forEach(C=>{var y,p;this.isValidLookup(r)||(a=C,!Rd[`${w[0]}-${C}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((p=this.utils)!=null&&p.hasLoadedNamespace(a))&&(Rd[`${w[0]}-${C}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(m=>{var E;if(this.isValidLookup(r))return;o=m;const x=[d];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(x,d,m,C,n);else{let O;f&&(O=this.pluralResolver.getSuffix(m,n.count,n));const R=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(x.push(d+O),n.ordinal&&O.indexOf(F)===0&&x.push(d+O.replace(F,this.options.pluralSeparator)),g&&x.push(d+R)),h){const N=`${d}${this.options.contextSeparator}${n.context}`;x.push(N),f&&(x.push(N+O),n.ordinal&&O.indexOf(F)===0&&x.push(N+O.replace(F,this.options.pluralSeparator)),g&&x.push(N+R))}}let _;for(;_=x.pop();)this.isValidLookup(r)||(i=_,r=this.getResource(m,C,_,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!K(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Id{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$t.create("languageUtils")}getScriptPartFromCode(e){if(e=Ws(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ws(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(K(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),K(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return K(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):K(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const $d={zero:0,one:1,two:2,few:3,many:4,other:5},zd={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Mx{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=$t.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Ws(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),zd;if(!e.match(/-|_/))return zd;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>$d[s]-$d[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Ad=(t,e,n,r=".",s=!0)=>{let i=Px(t,e,n);return!i&&s&&K(n)&&(i=$l(t,n,r),i===void 0&&(i=$l(e,n,r))),i},ka=t=>t.replace(/\$/g,"$$$$");class Nx{constructor(e={}){var n;this.logger=$t.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:c,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:h,nestingSuffixEscaped:w,nestingOptionsSeparator:C,maxReplaces:y,alwaysFormat:p}=e.interpolation;this.escape=n!==void 0?n:Rx,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?ur(i):o||"{{",this.suffix=a?ur(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?ur(f):g||ur("$t("),this.nestingSuffix=h?ur(h):w||ur(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=y||1e3,this.alwaysFormat=p!==void 0?p:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var g;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const p=Ad(n,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,r,{...s,...n,interpolationkey:h}):p}const w=h.split(this.formatSeparator),C=w.shift().trim(),y=w.join(this.formatSeparator).trim();return this.format(Ad(n,l,C,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...n,interpolationkey:C})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,c=((g=s==null?void 0:s.interpolation)==null?void 0:g.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>ka(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?ka(this.escape(h)):ka(h)}].forEach(h=>{for(a=0;i=h.regex.exec(e);){const w=i[1].trim();if(o=u(w),o===void 0)if(typeof d=="function"){const y=d(e,i,s);o=K(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))o="";else if(c){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),o="";else!K(o)&&!this.useRawValueToEscape&&(o=Cd(o));const C=h.safeValue(o);if(e=e.replace(i[0],C),c?(h.regex.lastIndex+=o.length,h.regex.lastIndex-=i[0].length):h.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,o;const a=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const c=l.split(new RegExp(`${d}[ ]*{`));let f=`{${c[1]}`;l=c[0],f=this.interpolate(f,o);const g=f.match(/'/g),h=f.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!h||h.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${d}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!K(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!K(i))return i;K(i)||(i=Cd(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((d,c)=>this.format(d,c,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const Fx=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Md=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(Ws(r),s),e[o]=a),a(n)}},Ux=t=>(e,n,r)=>t(Ws(n),r)(e);class Dx{constructor(e={}){this.logger=$t.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Md:Ux;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Md(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var c;const{formatName:u,formatOptions:d}=Fx(l);if(this.formats[u]){let f=a;try{const g=((c=s==null?void 0:s.formatParams)==null?void 0:c[s.interpolationkey])||{},h=g.locale||g.lng||s.locale||s.lng||r;f=this.formats[u](a,h,{...d,...s,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const Bx=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Wx extends Uo{constructor(e,n,r,s={}){var i,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=$t.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let d=!0;n.forEach(c=>{const f=`${u}|${c}`;!r.reload&&this.store.hasResourceBundle(u,c)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,d=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),l[c]===void 0&&(l[c]=!0)))}),d||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{jx(l.loaded,[i],o),Bx(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const d=l.loaded[u];d.length&&d.forEach(c=>{a[u][c]===void 0&&(a[u][c]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();K(e)&&(e=this.languageUtils.toResolveHierarchy(e)),K(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i,o={},a=()=>{}){var l,u,d,c,f;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((c=(d=this.services)==null?void 0:d.utils)!=null&&c.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const g={...o,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let w;h.length===5?w=h(e,n,r,s,g):w=h(e,n,r,s),w&&typeof w.then=="function"?w.then(C=>a(null,C)).catch(a):a(null,w)}catch(w){a(w)}else h(e,n,r,s,a,g)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const Nd=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),K(t[1])&&(e.defaultValue=t[1]),K(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Fd=t=>{var e,n;return K(t.ns)&&(t.ns=[t.ns]),K(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),K(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},_i=()=>{},Hx=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Hs extends Uo{constructor(e={},n){if(super(),this.options=Fd(e),this.services={},this.logger=$t,this.modules={external:[]},Hx(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(K(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Nd();this.options={...r,...this.options,...Fd(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?$t.init(s(this.modules.logger),this.options):$t.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Dx;const d=new Id(this.options);this.store=new Od(this.options.resources,this.options);const c=this.services;c.logger=$t,c.resourceStore=this.store,c.languageUtils=d,c.pluralResolver=new Mx(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(c.formatter=s(u),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new Nx(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new Wx(s(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(g,...h)=>{this.emit(g,...h)}),this.modules.languageDetector&&(c.languageDetector=s(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=s(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new po(this.services,this.options),this.translator.on("*",(g,...h)=>{this.emit(g,...h)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=_i),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const a=os(),l=()=>{const u=(d,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(c),n(d,c)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=_i){var i,o;let r=n;const s=K(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const s=os();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=_i),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Vp.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=os();this.emit("languageChanging",e);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var d,c;!e&&!a&&this.services.languageDetector&&(a=[]);const l=K(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(K(a)?[a]:a);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(c=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||c.call(d,u)),this.loadResources(u,f=>{i(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(i)?d=i.map(c=>`${l.keyPrefix}${u}${c}`):d=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i,this.t(d,l)};return K(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=os();return this.options.ns?(K(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=os();K(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new Id(Nd());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Hs(e,n)}cloneInstance(e={},n=_i){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Hs(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((d,c)=>(d[c]={...l[u][c]},d),l[u]),l),{});i.store=new Od(a,s),i.services.resourceStore=i.store}return i.translator=new po(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ne=Hs.createInstance();Ne.createInstance=Hs.createInstance;Ne.createInstance;Ne.dir;Ne.init;Ne.loadResources;Ne.reloadResources;Ne.use;Ne.changeLanguage;Ne.getFixedT;Ne.t;Ne.exists;Ne.setDefaultNamespace;Ne.hasLoadedNamespace;Ne.loadNamespaces;Ne.loadLanguages;const Gx=()=>{var n;return(navigator.language||((n=navigator.languages)==null?void 0:n[0])||"en").toLowerCase().substring(0,2)==="de"?"de":"en"},Vx={title:"🎮 Emoji Fusion",description:"Merge tiles with the same emoji to create new ones! Use arrow keys to move tiles and reach the highest score possible."},Kx={highScore:"🏆 High Score: {{score}}",globalHighScore:"🏆 Global High Score: {{score}}",globalHighScoreTitle:"🏆 Global Record",globalHighScoreBy:"by {{name}}",noScoresYet:"🎮 No scores yet!",startNewGame:"✅ Start New Game",continueGame:"▶️ Continue Game",leaderboard:"🏆 Leaderboard",settings:"⚙️ Settings"},Jx={home:"🏠 Home",undo:"↩️ Undo Last Move",undoShortcut:"↩️ Undo Last Move (U)"},qx={title:"Game Over!",finalScore:"Final Score: {{score}}",undo:"Undo Last Move",backToGame:"Back to Game",checkingLeaderboard:"⏳ Checking leaderboard...",savingScore:"💾 Saving score...",topScore:"🎉 Top 100 Score! Enter your name:",enterName:"Enter name (max 12 chars)",saveScore:"💾 Save Score",saving:"⏳ Saving...",scoreSaved:"✅ Score saved to leaderboard!",newGame:"✅ New Game",mainMenu:"🏠 Main Menu",pleaseWait:"⏳ Please wait...",skipHighScore:"You reached a high score! Are you sure you want to skip submitting it?",skipConfirm:"⚠️ Start New Game!",skipCancel:"Enter Name"},Qx={title:"🏆 Leaderboard",topScores:"Top Scores",loading:"Loading leaderboard...",noScores:"No Scores Yet",noScoresDescription:"Play your first game to start building your leaderboard!",home:"🏠 Home"},Yx={newHighScore:"🎉 New High Score!",score:"Score: {{score}}",enterNamePrompt:"Enter your name for the leaderboard:",namePlaceholder:"Your name (max 12 chars)",skip:"Skip",saveScore:"Save Score",charactersRemaining:"{{current}}/{{max}} characters"},Xx={confirm:"Confirm",cancel:"Cancel",startNewGame:"Start New Game",startNewGameTitle:"Start New Game?",startNewGameMessage:"You already have a game in progress. Are you sure you want to start over?",skipHighScoreTitle:"Skip High Score?",skipHighScoreMessage:"You reached a high score! Are you sure you don't want to submit it?",skipHighScoreConfirm:"⚠️ Start New Game!",skipHighScoreCancel:"Enter Name"},Zx={keyboardInstructions:"Use WASD or arrow keys to move",touchInstructions:"Swipe to move",keyboardShortcuts:"Press U to undo, R to reset",restartGame:"Restart Game"},eS={anonymous:"Anonymous",player:"Player"},tS={title:"Settings",subtitle:"Customize your experience",soundLabel:"Audio Settings",soundOn:"🔊 Sound: On",soundOff:"🔇 Sound: Off",soundOnDescription:"All game sounds are enabled",soundOffDescription:"All game sounds are disabled",backToMenu:"Start"},nS={app:Vx,startScreen:Kx,gameControls:Jx,gameOver:qx,leaderboard:Qx,nameEntry:Yx,confirmDialog:Xx,controls:Zx,common:eS,settings:tS},rS={title:"🎮 Emoji Fusion",description:"Verbinde Kacheln mit demselben Emoji, um neue zu erstellen! Verwende die Pfeiltasten, um Kacheln zu bewegen und die höchste Punktzahl zu erreichen."},sS={highScore:"🏆 Rekord: {{score}}",globalHighScore:"🏆 Globaler Rekord: {{score}}",globalHighScoreTitle:"🏆 Globaler Rekord",globalHighScoreBy:"von {{name}}",noScoresYet:"🎮 Noch keine Ergebnisse!",startNewGame:"✅ Neues Spiel",continueGame:"▶️ Spiel fortsetzen",leaderboard:"🏆 Bestenliste",settings:"⚙️ Einstellungen"},iS={home:"🏠 Start",undo:"↩️ Letzten Zug rückgängig",undoShortcut:"↩️ Letzten Zug rückgängig (U)"},oS={title:"Spiel beendet!",finalScore:"Endpunktzahl: {{score}}",undo:"Letzter Zug rückgängig",backToGame:"Zurück zum Spiel",checkingLeaderboard:"⏳ Prüfe Bestenliste...",savingScore:"💾 Speichere Punktzahl...",topScore:"🎉 Top 100 Punktzahl! Gib deinen Namen ein:",enterName:"Namen eingeben (max. 12 Zeichen)",saveScore:"💾 Punktzahl speichern",saving:"⏳ Speichern...",scoreSaved:"✅ Punktzahl in Bestenliste gespeichert!",newGame:"✅ Neues Spiel",mainMenu:"🏠 Hauptmenü",pleaseWait:"⏳ Bitte warten...",skipHighScore:"Du hast einen Rekord erreicht! Bist du sicher, dass du ihn nicht einreichen möchtest?",skipConfirm:"⚠️ Neues Spiel starten!",skipCancel:"Namen eingeben"},aS={title:"🏆 Bestenliste",topScores:"Beste Ergebnisse",loading:"Lade Bestenliste...",noScores:"Noch keine Ergebnisse",noScoresDescription:"Spiele dein erstes Spiel, um deine Bestenliste aufzubauen!",home:"🏠 Start"},lS={newHighScore:"🎉 Neuer Rekord!",score:"Punktzahl: {{score}}",enterNamePrompt:"Gib deinen Namen für die Bestenliste ein:",namePlaceholder:"Dein Name (max. 12 Zeichen)",skip:"Überspringen",saveScore:"Punktzahl speichern",charactersRemaining:"{{current}}/{{max}} Zeichen"},uS={confirm:"Bestätigen",cancel:"Abbrechen",startNewGame:"Neues Spiel starten",startNewGameTitle:"Neues Spiel starten?",startNewGameMessage:"Du hast bereits ein Spiel in Bearbeitung. Bist du sicher, dass du von vorne anfangen möchtest?",skipHighScoreTitle:"Rekord überspringen?",skipHighScoreMessage:"Du hast einen Rekord erreicht! Bist du sicher, dass du ihn nicht einreichen möchtest?",skipHighScoreConfirm:"⚠️ Neues Spiel starten!",skipHighScoreCancel:"Namen eingeben"},cS={keyboardInstructions:"Verwende WASD oder Pfeiltasten zum Bewegen",touchInstructions:"Wischen zum Bewegen",keyboardShortcuts:"Drücke U für Rückgängig, R zum Zurücksetzen",restartGame:"Spiel neu starten"},dS={anonymous:"Anonym",player:"Spieler"},fS={title:"Einstellungen",subtitle:"Passe dein Spielerlebnis an",soundLabel:"Audio-Einstellungen",soundOn:"🔊 Sound: An",soundOff:"🔇 Sound: Aus",soundOnDescription:"Alle Spielsounds sind aktiviert",soundOffDescription:"Alle Spielsounds sind deaktiviert",backToMenu:"Start"},hS={app:rS,startScreen:sS,gameControls:iS,gameOver:oS,leaderboard:aS,nameEntry:lS,confirmDialog:uS,controls:cS,common:dS,settings:fS},pS={en:{translation:nS},de:{translation:hS}};Ne.use(ry).init({resources:pS,lng:Gx(),fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,keySeparator:".",nsSeparator:!1,returnEmptyString:!1,returnNull:!1,returnObjects:!1,parseMissingKeyHandler:t=>t,missingKeyHandler:!1,saveMissing:!1});_a.createRoot(document.getElementById("root")).render(k.jsx($g.StrictMode,{children:k.jsx(Ex,{})}));
