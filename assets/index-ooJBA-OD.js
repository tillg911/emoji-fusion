(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Uc={exports:{}},Rs={},Mc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=Symbol.for("react.element"),qh=Symbol.for("react.portal"),Jh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.memo"),rp=Symbol.for("react.lazy"),ql=Symbol.iterator;function ip(t){return t===null||typeof t!="object"?null:(t=ql&&t[ql]||t["@@iterator"],typeof t=="function"?t:null)}var Bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hc=Object.assign,Wc={};function pr(t,e,n){this.props=t,this.context=e,this.refs=Wc,this.updater=n||Bc}pr.prototype.isReactComponent={};pr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vc(){}Vc.prototype=pr.prototype;function Ka(t,e,n){this.props=t,this.context=e,this.refs=Wc,this.updater=n||Bc}var qa=Ka.prototype=new Vc;qa.constructor=Ka;Hc(qa,pr.prototype);qa.isPureReactComponent=!0;var Jl=Array.isArray,Gc=Object.prototype.hasOwnProperty,Ja={current:null},Kc={key:!0,ref:!0,__self:!0,__source:!0};function qc(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gc.call(e,r)&&!Kc.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hi,type:t,key:s,ref:o,props:i,_owner:Ja.current}}function sp(t,e){return{$$typeof:hi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qa(t){return typeof t=="object"&&t!==null&&t.$$typeof===hi}function op(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ql=/\/+/g;function ro(t,e){return typeof t=="object"&&t!==null&&t.key!=null?op(""+t.key):e.toString(36)}function Wi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hi:case qh:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ro(o,0):r,Jl(i)?(n="",t!=null&&(n=t.replace(Ql,"$&/")+"/"),Wi(i,e,n,"",function(u){return u})):i!=null&&(Qa(i)&&(i=sp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ql,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Jl(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ro(s,a);o+=Wi(s,e,n,l,i)}else if(l=ip(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ro(s,a++),o+=Wi(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _i(t,e,n){if(t==null)return t;var r=[],i=0;return Wi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ap(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},Vi={transition:null},lp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Vi,ReactCurrentOwner:Ja};function Jc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:_i,forEach:function(t,e,n){_i(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _i(t,function(){e++}),e},toArray:function(t){return _i(t,function(e){return e})||[]},only:function(t){if(!Qa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=pr;W.Fragment=Jh;W.Profiler=Yh;W.PureComponent=Ka;W.StrictMode=Qh;W.Suspense=tp;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp;W.act=Jc;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hc({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ja.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gc.call(e,l)&&!Kc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hi,type:t.type,key:i,ref:s,props:r,_owner:o}};W.createContext=function(t){return t={$$typeof:Zh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xh,_context:t},t.Consumer=t};W.createElement=qc;W.createFactory=function(t){var e=qc.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:ep,render:t}};W.isValidElement=Qa;W.lazy=function(t){return{$$typeof:rp,_payload:{_status:-1,_result:t},_init:ap}};W.memo=function(t,e){return{$$typeof:np,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Vi.transition;Vi.transition={};try{t()}finally{Vi.transition=e}};W.unstable_act=Jc;W.useCallback=function(t,e){return Pe.current.useCallback(t,e)};W.useContext=function(t){return Pe.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};W.useEffect=function(t,e){return Pe.current.useEffect(t,e)};W.useId=function(){return Pe.current.useId()};W.useImperativeHandle=function(t,e,n){return Pe.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Pe.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Pe.current.useReducer(t,e,n)};W.useRef=function(t){return Pe.current.useRef(t)};W.useState=function(t){return Pe.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Pe.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Pe.current.useTransition()};W.version="18.3.1";Mc.exports=W;var $=Mc.exports;const up=Gh($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=$,dp=Symbol.for("react.element"),fp=Symbol.for("react.fragment"),hp=Object.prototype.hasOwnProperty,pp=cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gp={key:!0,ref:!0,__self:!0,__source:!0};function Qc(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hp.call(e,r)&&!gp.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dp,type:t,key:s,ref:o,props:i,_owner:pp.current}}Rs.Fragment=fp;Rs.jsx=Qc;Rs.jsxs=Qc;Uc.exports=Rs;var k=Uc.exports,Do={},Yc={exports:{}},Ve={},Xc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var U=L.length;L.push(z);e:for(;0<U;){var B=U-1>>>1,Q=L[B];if(0<i(Q,z))L[B]=z,L[U]=Q,U=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],U=L.pop();if(U!==z){L[0]=U;e:for(var B=0,Q=L.length,Ke=Q>>>1;B<Ke;){var qe=2*(B+1)-1,St=L[qe],_t=qe+1,Pn=L[_t];if(0>i(St,U))_t<Q&&0>i(Pn,St)?(L[B]=Pn,L[_t]=U,B=_t):(L[B]=St,L[qe]=U,B=qe);else if(_t<Q&&0>i(Pn,U))L[B]=Pn,L[_t]=U,B=_t;else break e}}return z}function i(L,z){var U=L.sortIndex-z.sortIndex;return U!==0?U:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function y(L){if(w=!1,g(L),!m)if(n(l)!==null)m=!0,ce(x);else{var z=n(u);z!==null&&me(y,z.startTime-L)}}function x(L,z){m=!1,w&&(w=!1,v(T),T=-1),p=!0;var U=f;try{for(g(z),d=n(l);d!==null&&(!(d.expirationTime>z)||L&&!V());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var Q=B(d.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),g(z)}else r(l);d=n(l)}if(d!==null)var Ke=!0;else{var qe=n(u);qe!==null&&me(y,qe.startTime-z),Ke=!1}return Ke}finally{d=null,f=U,p=!1}}var C=!1,b=null,T=-1,N=5,P=-1;function V(){return!(t.unstable_now()-P<N)}function Se(){if(b!==null){var L=t.unstable_now();P=L;var z=!0;try{z=b(!0,L)}finally{z?oe():(C=!1,b=null)}}else C=!1}var oe;if(typeof h=="function")oe=function(){h(Se)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,wt=ae.port2;ae.port1.onmessage=Se,oe=function(){wt.postMessage(null)}}else oe=function(){_(Se,0)};function ce(L){b=L,C||(C=!0,oe())}function me(L,z){T=_(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,ce(x))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return z()}finally{f=U}},t.unstable_scheduleCallback=function(L,z,U){var B=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?B+U:B):U=B,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,L={id:c++,callback:z,priorityLevel:L,startTime:U,expirationTime:Q,sortIndex:-1},U>B?(L.sortIndex=U,e(u,L),n(l)===null&&L===n(u)&&(w?(v(T),T=-1):w=!0,me(y,U-B))):(L.sortIndex=Q,e(l,L),m||p||(m=!0,ce(x))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var z=f;return function(){var U=f;f=z;try{return L.apply(this,arguments)}finally{f=U}}}})(Zc);Xc.exports=Zc;var mp=Xc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=$,We=mp;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ed=new Set,Kr={};function bn(t,e){or(t,e),or(t+"Capture",e)}function or(t,e){for(Kr[t]=e,t=0;t<e.length;t++)ed.add(e[t])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=Object.prototype.hasOwnProperty,yp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yl={},Xl={};function wp(t){return Fo.call(Xl,t)?!0:Fo.call(Yl,t)?!1:yp.test(t)?Xl[t]=!0:(Yl[t]=!0,!1)}function Sp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _p(t,e,n,r){if(e===null||typeof e>"u"||Sp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Re(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new Re(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new Re(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new Re(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new Re(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new Re(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new Re(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new Re(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new Re(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new Re(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ya=/[\-:]([a-z])/g;function Xa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ya,Xa);we[e]=new Re(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ya,Xa);we[e]=new Re(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ya,Xa);we[e]=new Re(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new Re(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new Re(t,1,!1,t.toLowerCase(),null,!0,!0)});function Za(t,e,n,r){var i=we.hasOwnProperty(e)?we[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_p(e,n,i,r)&&(n=null),r||i===null?wp(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lt=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),Uo=Symbol.for("react.profiler"),td=Symbol.for("react.provider"),nd=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Mo=Symbol.for("react.suspense"),Bo=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),rd=Symbol.for("react.offscreen"),Zl=Symbol.iterator;function Sr(t){return t===null||typeof t!="object"?null:(t=Zl&&t[Zl]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,io;function Pr(t){if(io===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);io=e&&e[1]||""}return`
`+io+t}var so=!1;function oo(t,e){if(!t||so)return"";so=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{so=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pr(t):""}function xp(t){switch(t.tag){case 5:return Pr(t.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 2:case 15:return t=oo(t.type,!1),t;case 11:return t=oo(t.type.render,!1),t;case 1:return t=oo(t.type,!0),t;default:return""}}function Ho(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bn:return"Fragment";case Mn:return"Portal";case Uo:return"Profiler";case el:return"StrictMode";case Mo:return"Suspense";case Bo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nd:return(t.displayName||"Context")+".Consumer";case td:return(t._context.displayName||"Context")+".Provider";case tl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nl:return e=t.displayName||null,e!==null?e:Ho(t.type)||"Memo";case zt:e=t._payload,t=t._init;try{return Ho(t(e))}catch{}}return null}function kp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ho(e);case 8:return e===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function en(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function id(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ep(t){var e=id(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ki(t){t._valueTracker||(t._valueTracker=Ep(t))}function sd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=id(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wo(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=en(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function od(t,e){e=e.checked,e!=null&&Za(t,"checked",e,!1)}function Vo(t,e){od(t,e);var n=en(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Go(t,e.type,n):e.hasOwnProperty("defaultValue")&&Go(t,e.type,en(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Go(t,e,n){(e!=="number"||ns(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rr=Array.isArray;function Zn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+en(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Rr(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:en(n)}}function ad(t,e){var n=en(e.value),r=en(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ru(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ld(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ld(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ei,ud=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ei.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cp=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(t){Cp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nr[e]=Nr[t]})});function cd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nr.hasOwnProperty(t)&&Nr[t]?(""+e).trim():e+"px"}function dd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bp=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(t,e){if(e){if(bp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Qo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function rl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xo=null,er=null,tr=null;function iu(t){if(t=mi(t)){if(typeof Xo!="function")throw Error(O(280));var e=t.stateNode;e&&(e=As(e),Xo(t.stateNode,t.type,e))}}function fd(t){er?tr?tr.push(t):tr=[t]:er=t}function hd(){if(er){var t=er,e=tr;if(tr=er=null,iu(t),e)for(t=0;t<e.length;t++)iu(e[t])}}function pd(t,e){return t(e)}function gd(){}var ao=!1;function md(t,e,n){if(ao)return t(e,n);ao=!0;try{return pd(t,e,n)}finally{ao=!1,(er!==null||tr!==null)&&(gd(),hd())}}function Jr(t,e){var n=t.stateNode;if(n===null)return null;var r=As(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Zo=!1;if(jt)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Zo=!1}function Op(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ar=!1,rs=null,is=!1,ea=null,Tp={onError:function(t){Ar=!0,rs=t}};function jp(t,e,n,r,i,s,o,a,l){Ar=!1,rs=null,Op.apply(Tp,arguments)}function Pp(t,e,n,r,i,s,o,a,l){if(jp.apply(this,arguments),Ar){if(Ar){var u=rs;Ar=!1,rs=null}else throw Error(O(198));is||(is=!0,ea=u)}}function On(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function su(t){if(On(t)!==t)throw Error(O(188))}function Rp(t){var e=t.alternate;if(!e){if(e=On(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return su(i),t;if(s===r)return su(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function yd(t){return t=Rp(t),t!==null?wd(t):null}function wd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wd(t);if(e!==null)return e;t=t.sibling}return null}var Sd=We.unstable_scheduleCallback,ou=We.unstable_cancelCallback,$p=We.unstable_shouldYield,Lp=We.unstable_requestPaint,le=We.unstable_now,Ip=We.unstable_getCurrentPriorityLevel,il=We.unstable_ImmediatePriority,_d=We.unstable_UserBlockingPriority,ss=We.unstable_NormalPriority,Np=We.unstable_LowPriority,xd=We.unstable_IdlePriority,$s=null,mt=null;function Ap(t){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot($s,t,void 0,(t.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Fp,zp=Math.log,Dp=Math.LN2;function Fp(t){return t>>>=0,t===0?32:31-(zp(t)/Dp|0)|0}var Ci=64,bi=4194304;function $r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function os(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=$r(a):(s&=o,s!==0&&(r=$r(s)))}else o=n&~i,o!==0?r=$r(o):s!==0&&(r=$r(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ut(e),i=1<<n,r|=t[n],e&=~i;return r}function Up(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ut(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Up(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ta(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kd(){var t=Ci;return Ci<<=1,!(Ci&4194240)&&(Ci=64),t}function lo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ut(e),t[e]=n}function Bp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ut(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var J=0;function Ed(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cd,ol,bd,Od,Td,na=!1,Oi=[],Gt=null,Kt=null,qt=null,Qr=new Map,Yr=new Map,Mt=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(t,e){switch(t){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Qr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(e.pointerId)}}function xr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mi(e),e!==null&&ol(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Wp(t,e,n,r,i){switch(e){case"focusin":return Gt=xr(Gt,t,e,n,r,i),!0;case"dragenter":return Kt=xr(Kt,t,e,n,r,i),!0;case"mouseover":return qt=xr(qt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qr.set(s,xr(Qr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yr.set(s,xr(Yr.get(s)||null,t,e,n,r,i)),!0}return!1}function jd(t){var e=gn(t.target);if(e!==null){var n=On(e);if(n!==null){if(e=n.tag,e===13){if(e=vd(n),e!==null){t.blockedOn=e,Td(t.priority,function(){bd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ra(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yo=r,n.target.dispatchEvent(r),Yo=null}else return e=mi(n),e!==null&&ol(e),t.blockedOn=n,!1;e.shift()}return!0}function lu(t,e,n){Gi(t)&&n.delete(e)}function Vp(){na=!1,Gt!==null&&Gi(Gt)&&(Gt=null),Kt!==null&&Gi(Kt)&&(Kt=null),qt!==null&&Gi(qt)&&(qt=null),Qr.forEach(lu),Yr.forEach(lu)}function kr(t,e){t.blockedOn===e&&(t.blockedOn=null,na||(na=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Vp)))}function Xr(t){function e(i){return kr(i,t)}if(0<Oi.length){kr(Oi[0],t);for(var n=1;n<Oi.length;n++){var r=Oi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gt!==null&&kr(Gt,t),Kt!==null&&kr(Kt,t),qt!==null&&kr(qt,t),Qr.forEach(e),Yr.forEach(e),n=0;n<Mt.length;n++)r=Mt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&Mt.shift()}var nr=Lt.ReactCurrentBatchConfig,as=!0;function Gp(t,e,n,r){var i=J,s=nr.transition;nr.transition=null;try{J=1,al(t,e,n,r)}finally{J=i,nr.transition=s}}function Kp(t,e,n,r){var i=J,s=nr.transition;nr.transition=null;try{J=4,al(t,e,n,r)}finally{J=i,nr.transition=s}}function al(t,e,n,r){if(as){var i=ra(t,e,n,r);if(i===null)wo(t,e,r,ls,n),au(t,r);else if(Wp(i,t,e,n,r))r.stopPropagation();else if(au(t,r),e&4&&-1<Hp.indexOf(t)){for(;i!==null;){var s=mi(i);if(s!==null&&Cd(s),s=ra(t,e,n,r),s===null&&wo(t,e,r,ls,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wo(t,e,r,null,n)}}var ls=null;function ra(t,e,n,r){if(ls=null,t=rl(r),t=gn(t),t!==null)if(e=On(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ls=t,null}function Pd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ip()){case il:return 1;case _d:return 4;case ss:case Np:return 16;case xd:return 536870912;default:return 16}default:return 16}}var Wt=null,ll=null,Ki=null;function Rd(){if(Ki)return Ki;var t,e=ll,n=e.length,r,i="value"in Wt?Wt.value:Wt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ki=i.slice(t,1<r?1-r:void 0)}function qi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function uu(){return!1}function Ge(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ti:uu,this.isPropagationStopped=uu,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),e}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Ge(gr),gi=ie({},gr,{view:0,detail:0}),qp=Ge(gi),uo,co,Er,Ls=ie({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Er&&(Er&&t.type==="mousemove"?(uo=t.screenX-Er.screenX,co=t.screenY-Er.screenY):co=uo=0,Er=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),cu=Ge(Ls),Jp=ie({},Ls,{dataTransfer:0}),Qp=Ge(Jp),Yp=ie({},gi,{relatedTarget:0}),fo=Ge(Yp),Xp=ie({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zp=Ge(Xp),eg=ie({},gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tg=Ge(eg),ng=ie({},gr,{data:0}),du=Ge(ng),rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function og(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sg[t])?!!e[t]:!1}function cl(){return og}var ag=ie({},gi,{key:function(t){if(t.key){var e=rg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ig[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(t){return t.type==="keypress"?qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lg=Ge(ag),ug=ie({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=Ge(ug),cg=ie({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),dg=Ge(cg),fg=ie({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hg=Ge(fg),pg=ie({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=Ge(pg),mg=[9,13,27,32],dl=jt&&"CompositionEvent"in window,zr=null;jt&&"documentMode"in document&&(zr=document.documentMode);var vg=jt&&"TextEvent"in window&&!zr,$d=jt&&(!dl||zr&&8<zr&&11>=zr),hu=" ",pu=!1;function Ld(t,e){switch(t){case"keyup":return mg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function yg(t,e){switch(t){case"compositionend":return Id(e);case"keypress":return e.which!==32?null:(pu=!0,hu);case"textInput":return t=e.data,t===hu&&pu?null:t;default:return null}}function wg(t,e){if(Hn)return t==="compositionend"||!dl&&Ld(t,e)?(t=Rd(),Ki=ll=Wt=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $d&&e.locale!=="ko"?null:e.data;default:return null}}var Sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sg[t.type]:e==="textarea"}function Nd(t,e,n,r){fd(r),e=us(e,"onChange"),0<e.length&&(n=new ul("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dr=null,Zr=null;function _g(t){Gd(t,0)}function Is(t){var e=Gn(t);if(sd(e))return t}function xg(t,e){if(t==="change")return e}var Ad=!1;if(jt){var ho;if(jt){var po="oninput"in document;if(!po){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),po=typeof mu.oninput=="function"}ho=po}else ho=!1;Ad=ho&&(!document.documentMode||9<document.documentMode)}function vu(){Dr&&(Dr.detachEvent("onpropertychange",zd),Zr=Dr=null)}function zd(t){if(t.propertyName==="value"&&Is(Zr)){var e=[];Nd(e,Zr,t,rl(t)),md(_g,e)}}function kg(t,e,n){t==="focusin"?(vu(),Dr=e,Zr=n,Dr.attachEvent("onpropertychange",zd)):t==="focusout"&&vu()}function Eg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Is(Zr)}function Cg(t,e){if(t==="click")return Is(e)}function bg(t,e){if(t==="input"||t==="change")return Is(e)}function Og(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dt=typeof Object.is=="function"?Object.is:Og;function ei(t,e){if(dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fo.call(e,i)||!dt(t[i],e[i]))return!1}return!0}function yu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wu(t,e){var n=yu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yu(n)}}function Dd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fd(){for(var t=window,e=ns();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ns(t.document)}return e}function fl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tg(t){var e=Fd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dd(n.ownerDocument.documentElement,n)){if(r!==null&&fl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wu(n,s);var o=wu(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jg=jt&&"documentMode"in document&&11>=document.documentMode,Wn=null,ia=null,Fr=null,sa=!1;function Su(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sa||Wn==null||Wn!==ns(r)||(r=Wn,"selectionStart"in r&&fl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&ei(Fr,r)||(Fr=r,r=us(ia,"onSelect"),0<r.length&&(e=new ul("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wn)))}function ji(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vn={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},go={},Ud={};jt&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Ns(t){if(go[t])return go[t];if(!Vn[t])return t;var e=Vn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ud)return go[t]=e[n];return t}var Md=Ns("animationend"),Bd=Ns("animationiteration"),Hd=Ns("animationstart"),Wd=Ns("transitionend"),Vd=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(t,e){Vd.set(t,e),bn(e,[t])}for(var mo=0;mo<_u.length;mo++){var vo=_u[mo],Pg=vo.toLowerCase(),Rg=vo[0].toUpperCase()+vo.slice(1);nn(Pg,"on"+Rg)}nn(Md,"onAnimationEnd");nn(Bd,"onAnimationIteration");nn(Hd,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Wd,"onTransitionEnd");or("onMouseEnter",["mouseout","mouseover"]);or("onMouseLeave",["mouseout","mouseover"]);or("onPointerEnter",["pointerout","pointerover"]);or("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$g=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function xu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pp(r,e,void 0,t),t.currentTarget=null}function Gd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xu(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xu(i,a,u),s=l}}}if(is)throw t=ea,is=!1,ea=null,t}function Z(t,e){var n=e[ca];n===void 0&&(n=e[ca]=new Set);var r=t+"__bubble";n.has(r)||(Kd(e,t,2,!1),n.add(r))}function yo(t,e,n){var r=0;e&&(r|=4),Kd(n,t,r,e)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function ti(t){if(!t[Pi]){t[Pi]=!0,ed.forEach(function(n){n!=="selectionchange"&&($g.has(n)||yo(n,!1,t),yo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pi]||(e[Pi]=!0,yo("selectionchange",!1,e))}}function Kd(t,e,n,r){switch(Pd(e)){case 1:var i=Gp;break;case 4:i=Kp;break;default:i=al}n=i.bind(null,e,n,t),i=void 0,!Zo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wo(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}md(function(){var u=s,c=rl(n),d=[];e:{var f=Vd.get(t);if(f!==void 0){var p=ul,m=t;switch(t){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":p=lg;break;case"focusin":m="focus",p=fo;break;case"focusout":m="blur",p=fo;break;case"beforeblur":case"afterblur":p=fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dg;break;case Md:case Bd:case Hd:p=Zp;break;case Wd:p=hg;break;case"scroll":p=qp;break;case"wheel":p=gg;break;case"copy":case"cut":case"paste":p=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fu}var w=(e&4)!==0,_=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,g;h!==null;){g=h;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,v!==null&&(y=Jr(h,v),y!=null&&w.push(ni(h,y,g)))),_)break;h=h.return}0<w.length&&(f=new p(f,m,null,n,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Yo&&(m=n.relatedTarget||n.fromElement)&&(gn(m)||m[Pt]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?gn(m):null,m!==null&&(_=On(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(w=cu,y="onMouseLeave",v="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=fu,y="onPointerLeave",v="onPointerEnter",h="pointer"),_=p==null?f:Gn(p),g=m==null?f:Gn(m),f=new w(y,h+"leave",p,n,c),f.target=_,f.relatedTarget=g,y=null,gn(c)===u&&(w=new w(v,h+"enter",m,n,c),w.target=g,w.relatedTarget=_,y=w),_=y,p&&m)t:{for(w=p,v=m,h=0,g=w;g;g=Rn(g))h++;for(g=0,y=v;y;y=Rn(y))g++;for(;0<h-g;)w=Rn(w),h--;for(;0<g-h;)v=Rn(v),g--;for(;h--;){if(w===v||v!==null&&w===v.alternate)break t;w=Rn(w),v=Rn(v)}w=null}else w=null;p!==null&&ku(d,f,p,w,!1),m!==null&&_!==null&&ku(d,_,m,w,!0)}}e:{if(f=u?Gn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=xg;else if(gu(f))if(Ad)x=bg;else{x=Eg;var C=kg}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=Cg);if(x&&(x=x(t,u))){Nd(d,x,n,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Go(f,"number",f.value)}switch(C=u?Gn(u):window,t){case"focusin":(gu(C)||C.contentEditable==="true")&&(Wn=C,ia=u,Fr=null);break;case"focusout":Fr=ia=Wn=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,Su(d,n,c);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":Su(d,n,c)}var b;if(dl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Hn?Ld(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($d&&n.locale!=="ko"&&(Hn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Hn&&(b=Rd()):(Wt=c,ll="value"in Wt?Wt.value:Wt.textContent,Hn=!0)),C=us(u,T),0<C.length&&(T=new du(T,t,null,n,c),d.push({event:T,listeners:C}),b?T.data=b:(b=Id(n),b!==null&&(T.data=b)))),(b=vg?yg(t,n):wg(t,n))&&(u=us(u,"onBeforeInput"),0<u.length&&(c=new du("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}Gd(d,e)})}function ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function us(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jr(t,n),s!=null&&r.unshift(ni(t,s,i)),s=Jr(t,e),s!=null&&r.push(ni(t,s,i))),t=t.return}return r}function Rn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ku(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Jr(n,s),l!=null&&o.unshift(ni(n,l,a))):i||(l=Jr(n,s),l!=null&&o.push(ni(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Lg=/\r\n?/g,Ig=/\u0000|\uFFFD/g;function Eu(t){return(typeof t=="string"?t:""+t).replace(Lg,`
`).replace(Ig,"")}function Ri(t,e,n){if(e=Eu(e),Eu(t)!==e&&n)throw Error(O(425))}function cs(){}var oa=null,aa=null;function la(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ua=typeof setTimeout=="function"?setTimeout:void 0,Ng=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,Ag=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(t){return Cu.resolve(null).then(t).catch(zg)}:ua;function zg(t){setTimeout(function(){throw t})}function So(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xr(e)}function Jt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mr=Math.random().toString(36).slice(2),pt="__reactFiber$"+mr,ri="__reactProps$"+mr,Pt="__reactContainer$"+mr,ca="__reactEvents$"+mr,Dg="__reactListeners$"+mr,Fg="__reactHandles$"+mr;function gn(t){var e=t[pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pt]||n[pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bu(t);t!==null;){if(n=t[pt])return n;t=bu(t)}return e}t=n,n=t.parentNode}return null}function mi(t){return t=t[pt]||t[Pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function As(t){return t[ri]||null}var da=[],Kn=-1;function rn(t){return{current:t}}function ee(t){0>Kn||(t.current=da[Kn],da[Kn]=null,Kn--)}function X(t,e){Kn++,da[Kn]=t.current,t.current=e}var tn={},Ce=rn(tn),Ae=rn(!1),_n=tn;function ar(t,e){var n=t.type.contextTypes;if(!n)return tn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ze(t){return t=t.childContextTypes,t!=null}function ds(){ee(Ae),ee(Ce)}function Ou(t,e,n){if(Ce.current!==tn)throw Error(O(168));X(Ce,e),X(Ae,n)}function qd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,kp(t)||"Unknown",i));return ie({},n,r)}function fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tn,_n=Ce.current,X(Ce,t),X(Ae,Ae.current),!0}function Tu(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=qd(t,e,_n),r.__reactInternalMemoizedMergedChildContext=t,ee(Ae),ee(Ce),X(Ce,t)):ee(Ae),X(Ae,n)}var Ct=null,zs=!1,_o=!1;function Jd(t){Ct===null?Ct=[t]:Ct.push(t)}function Ug(t){zs=!0,Jd(t)}function sn(){if(!_o&&Ct!==null){_o=!0;var t=0,e=J;try{var n=Ct;for(J=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ct=null,zs=!1}catch(i){throw Ct!==null&&(Ct=Ct.slice(t+1)),Sd(il,sn),i}finally{J=e,_o=!1}}return null}var qn=[],Jn=0,hs=null,ps=0,Je=[],Qe=0,xn=null,bt=1,Ot="";function cn(t,e){qn[Jn++]=ps,qn[Jn++]=hs,hs=t,ps=e}function Qd(t,e,n){Je[Qe++]=bt,Je[Qe++]=Ot,Je[Qe++]=xn,xn=t;var r=bt;t=Ot;var i=32-ut(r)-1;r&=~(1<<i),n+=1;var s=32-ut(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bt=1<<32-ut(e)+i|n<<i|r,Ot=s+t}else bt=1<<s|n<<i|r,Ot=t}function hl(t){t.return!==null&&(cn(t,1),Qd(t,1,0))}function pl(t){for(;t===hs;)hs=qn[--Jn],qn[Jn]=null,ps=qn[--Jn],qn[Jn]=null;for(;t===xn;)xn=Je[--Qe],Je[Qe]=null,Ot=Je[--Qe],Je[Qe]=null,bt=Je[--Qe],Je[Qe]=null}var He=null,Be=null,te=!1,lt=null;function Yd(t,e){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ju(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,Be=Jt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,Be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xn!==null?{id:bt,overflow:Ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,He=t,Be=null,!0):!1;default:return!1}}function fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ha(t){if(te){var e=Be;if(e){var n=e;if(!ju(t,e)){if(fa(t))throw Error(O(418));e=Jt(n.nextSibling);var r=He;e&&ju(t,e)?Yd(r,n):(t.flags=t.flags&-4097|2,te=!1,He=t)}}else{if(fa(t))throw Error(O(418));t.flags=t.flags&-4097|2,te=!1,He=t}}}function Pu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function $i(t){if(t!==He)return!1;if(!te)return Pu(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!la(t.type,t.memoizedProps)),e&&(e=Be)){if(fa(t))throw Xd(),Error(O(418));for(;e;)Yd(t,e),e=Jt(e.nextSibling)}if(Pu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Be=Jt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Be=null}}else Be=He?Jt(t.stateNode.nextSibling):null;return!0}function Xd(){for(var t=Be;t;)t=Jt(t.nextSibling)}function lr(){Be=He=null,te=!1}function gl(t){lt===null?lt=[t]:lt.push(t)}var Mg=Lt.ReactCurrentBatchConfig;function Cr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Li(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ru(t){var e=t._init;return e(t._payload)}function Zd(t){function e(v,h){if(t){var g=v.deletions;g===null?(v.deletions=[h],v.flags|=16):g.push(h)}}function n(v,h){if(!t)return null;for(;h!==null;)e(v,h),h=h.sibling;return null}function r(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function i(v,h){return v=Zt(v,h),v.index=0,v.sibling=null,v}function s(v,h,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<h?(v.flags|=2,h):g):(v.flags|=2,h)):(v.flags|=1048576,h)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,h,g,y){return h===null||h.tag!==6?(h=To(g,v.mode,y),h.return=v,h):(h=i(h,g),h.return=v,h)}function l(v,h,g,y){var x=g.type;return x===Bn?c(v,h,g.props.children,y,g.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===zt&&Ru(x)===h.type)?(y=i(h,g.props),y.ref=Cr(v,h,g),y.return=v,y):(y=ts(g.type,g.key,g.props,null,v.mode,y),y.ref=Cr(v,h,g),y.return=v,y)}function u(v,h,g,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=jo(g,v.mode,y),h.return=v,h):(h=i(h,g.children||[]),h.return=v,h)}function c(v,h,g,y,x){return h===null||h.tag!==7?(h=wn(g,v.mode,y,x),h.return=v,h):(h=i(h,g),h.return=v,h)}function d(v,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=To(""+h,v.mode,g),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xi:return g=ts(h.type,h.key,h.props,null,v.mode,g),g.ref=Cr(v,null,h),g.return=v,g;case Mn:return h=jo(h,v.mode,g),h.return=v,h;case zt:var y=h._init;return d(v,y(h._payload),g)}if(Rr(h)||Sr(h))return h=wn(h,v.mode,g,null),h.return=v,h;Li(v,h)}return null}function f(v,h,g,y){var x=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(v,h,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xi:return g.key===x?l(v,h,g,y):null;case Mn:return g.key===x?u(v,h,g,y):null;case zt:return x=g._init,f(v,h,x(g._payload),y)}if(Rr(g)||Sr(g))return x!==null?null:c(v,h,g,y,null);Li(v,g)}return null}function p(v,h,g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return v=v.get(g)||null,a(h,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:return v=v.get(y.key===null?g:y.key)||null,l(h,v,y,x);case Mn:return v=v.get(y.key===null?g:y.key)||null,u(h,v,y,x);case zt:var C=y._init;return p(v,h,g,C(y._payload),x)}if(Rr(y)||Sr(y))return v=v.get(g)||null,c(h,v,y,x,null);Li(h,y)}return null}function m(v,h,g,y){for(var x=null,C=null,b=h,T=h=0,N=null;b!==null&&T<g.length;T++){b.index>T?(N=b,b=null):N=b.sibling;var P=f(v,b,g[T],y);if(P===null){b===null&&(b=N);break}t&&b&&P.alternate===null&&e(v,b),h=s(P,h,T),C===null?x=P:C.sibling=P,C=P,b=N}if(T===g.length)return n(v,b),te&&cn(v,T),x;if(b===null){for(;T<g.length;T++)b=d(v,g[T],y),b!==null&&(h=s(b,h,T),C===null?x=b:C.sibling=b,C=b);return te&&cn(v,T),x}for(b=r(v,b);T<g.length;T++)N=p(b,v,T,g[T],y),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?T:N.key),h=s(N,h,T),C===null?x=N:C.sibling=N,C=N);return t&&b.forEach(function(V){return e(v,V)}),te&&cn(v,T),x}function w(v,h,g,y){var x=Sr(g);if(typeof x!="function")throw Error(O(150));if(g=x.call(g),g==null)throw Error(O(151));for(var C=x=null,b=h,T=h=0,N=null,P=g.next();b!==null&&!P.done;T++,P=g.next()){b.index>T?(N=b,b=null):N=b.sibling;var V=f(v,b,P.value,y);if(V===null){b===null&&(b=N);break}t&&b&&V.alternate===null&&e(v,b),h=s(V,h,T),C===null?x=V:C.sibling=V,C=V,b=N}if(P.done)return n(v,b),te&&cn(v,T),x;if(b===null){for(;!P.done;T++,P=g.next())P=d(v,P.value,y),P!==null&&(h=s(P,h,T),C===null?x=P:C.sibling=P,C=P);return te&&cn(v,T),x}for(b=r(v,b);!P.done;T++,P=g.next())P=p(b,v,T,P.value,y),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),h=s(P,h,T),C===null?x=P:C.sibling=P,C=P);return t&&b.forEach(function(Se){return e(v,Se)}),te&&cn(v,T),x}function _(v,h,g,y){if(typeof g=="object"&&g!==null&&g.type===Bn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case xi:e:{for(var x=g.key,C=h;C!==null;){if(C.key===x){if(x=g.type,x===Bn){if(C.tag===7){n(v,C.sibling),h=i(C,g.props.children),h.return=v,v=h;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===zt&&Ru(x)===C.type){n(v,C.sibling),h=i(C,g.props),h.ref=Cr(v,C,g),h.return=v,v=h;break e}n(v,C);break}else e(v,C);C=C.sibling}g.type===Bn?(h=wn(g.props.children,v.mode,y,g.key),h.return=v,v=h):(y=ts(g.type,g.key,g.props,null,v.mode,y),y.ref=Cr(v,h,g),y.return=v,v=y)}return o(v);case Mn:e:{for(C=g.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(v,h.sibling),h=i(h,g.children||[]),h.return=v,v=h;break e}else{n(v,h);break}else e(v,h);h=h.sibling}h=jo(g,v.mode,y),h.return=v,v=h}return o(v);case zt:return C=g._init,_(v,h,C(g._payload),y)}if(Rr(g))return m(v,h,g,y);if(Sr(g))return w(v,h,g,y);Li(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(v,h.sibling),h=i(h,g),h.return=v,v=h):(n(v,h),h=To(g,v.mode,y),h.return=v,v=h),o(v)):n(v,h)}return _}var ur=Zd(!0),ef=Zd(!1),gs=rn(null),ms=null,Qn=null,ml=null;function vl(){ml=Qn=ms=null}function yl(t){var e=gs.current;ee(gs),t._currentValue=e}function pa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rr(t,e){ms=t,ml=Qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(ml!==t)if(t={context:t,memoizedValue:e,next:null},Qn===null){if(ms===null)throw Error(O(308));Qn=t,ms.dependencies={lanes:0,firstContext:t}}else Qn=Qn.next=t;return e}var mn=null;function wl(t){mn===null?mn=[t]:mn.push(t)}function tf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wl(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rt(t,r)}function Rt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dt=!1;function Sl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rt(t,n)}return i=r.interleaved,i===null?(e.next=e,wl(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rt(t,n)}function Ji(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sl(t,n)}}function $u(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vs(t,e,n,r){var i=t.updateQueue;Dt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(f=e,p=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=ie({},d,f);break e;case 2:Dt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);En|=o,t.lanes=o,t.memoizedState=d}}function Lu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var vi={},vt=rn(vi),ii=rn(vi),si=rn(vi);function vn(t){if(t===vi)throw Error(O(174));return t}function _l(t,e){switch(X(si,e),X(ii,t),X(vt,vi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qo(e,t)}ee(vt),X(vt,e)}function cr(){ee(vt),ee(ii),ee(si)}function rf(t){vn(si.current);var e=vn(vt.current),n=qo(e,t.type);e!==n&&(X(ii,t),X(vt,n))}function xl(t){ii.current===t&&(ee(vt),ee(ii))}var ne=rn(0);function ys(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xo=[];function kl(){for(var t=0;t<xo.length;t++)xo[t]._workInProgressVersionPrimary=null;xo.length=0}var Qi=Lt.ReactCurrentDispatcher,ko=Lt.ReactCurrentBatchConfig,kn=0,re=null,de=null,pe=null,ws=!1,Ur=!1,oi=0,Bg=0;function _e(){throw Error(O(321))}function El(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dt(t[n],e[n]))return!1;return!0}function Cl(t,e,n,r,i,s){if(kn=s,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qi.current=t===null||t.memoizedState===null?Gg:Kg,t=n(r,i),Ur){s=0;do{if(Ur=!1,oi=0,25<=s)throw Error(O(301));s+=1,pe=de=null,e.updateQueue=null,Qi.current=qg,t=n(r,i)}while(Ur)}if(Qi.current=Ss,e=de!==null&&de.next!==null,kn=0,pe=de=re=null,ws=!1,e)throw Error(O(300));return t}function bl(){var t=oi!==0;return oi=0,t}function ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=t:pe=pe.next=t,pe}function tt(){if(de===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=pe===null?re.memoizedState:pe.next;if(e!==null)pe=e,de=t;else{if(t===null)throw Error(O(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?re.memoizedState=pe=t:pe=pe.next=t}return pe}function ai(t,e){return typeof e=="function"?e(t):e}function Eo(t){var e=tt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=de,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((kn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,re.lanes|=c,En|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,dt(r,e.memoizedState)||(Ne=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,re.lanes|=s,En|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Co(t){var e=tt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dt(s,e.memoizedState)||(Ne=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sf(){}function of(t,e){var n=re,r=tt(),i=e(),s=!dt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ne=!0),r=r.queue,Ol(uf.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,li(9,lf.bind(null,n,r,i,e),void 0,null),ge===null)throw Error(O(349));kn&30||af(n,e,i)}return i}function af(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lf(t,e,n,r){e.value=n,e.getSnapshot=r,cf(e)&&df(t)}function uf(t,e,n){return n(function(){cf(e)&&df(t)})}function cf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dt(t,n)}catch{return!0}}function df(t){var e=Rt(t,1);e!==null&&ct(e,t,1,-1)}function Iu(t){var e=ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:t},e.queue=t,t=t.dispatch=Vg.bind(null,re,t),[e.memoizedState,t]}function li(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ff(){return tt().memoizedState}function Yi(t,e,n,r){var i=ht();re.flags|=t,i.memoizedState=li(1|e,n,void 0,r===void 0?null:r)}function Ds(t,e,n,r){var i=tt();r=r===void 0?null:r;var s=void 0;if(de!==null){var o=de.memoizedState;if(s=o.destroy,r!==null&&El(r,o.deps)){i.memoizedState=li(e,n,s,r);return}}re.flags|=t,i.memoizedState=li(1|e,n,s,r)}function Nu(t,e){return Yi(8390656,8,t,e)}function Ol(t,e){return Ds(2048,8,t,e)}function hf(t,e){return Ds(4,2,t,e)}function pf(t,e){return Ds(4,4,t,e)}function gf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mf(t,e,n){return n=n!=null?n.concat([t]):null,Ds(4,4,gf.bind(null,e,t),n)}function Tl(){}function vf(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&El(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yf(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&El(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wf(t,e,n){return kn&21?(dt(n,e)||(n=kd(),re.lanes|=n,En|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=n)}function Hg(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var r=ko.transition;ko.transition={};try{t(!1),e()}finally{J=n,ko.transition=r}}function Sf(){return tt().memoizedState}function Wg(t,e,n){var r=Xt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_f(t))xf(e,n);else if(n=tf(t,e,n,r),n!==null){var i=je();ct(n,t,r,i),kf(n,e,r)}}function Vg(t,e,n){var r=Xt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_f(t))xf(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dt(a,o)){var l=e.interleaved;l===null?(i.next=i,wl(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=tf(t,e,i,r),n!==null&&(i=je(),ct(n,t,r,i),kf(n,e,r))}}function _f(t){var e=t.alternate;return t===re||e!==null&&e===re}function xf(t,e){Ur=ws=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sl(t,n)}}var Ss={readContext:et,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Gg={readContext:et,useCallback:function(t,e){return ht().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:Nu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yi(4194308,4,gf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yi(4,2,t,e)},useMemo:function(t,e){var n=ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wg.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=ht();return t={current:t},e.memoizedState=t},useState:Iu,useDebugValue:Tl,useDeferredValue:function(t){return ht().memoizedState=t},useTransition:function(){var t=Iu(!1),e=t[0];return t=Hg.bind(null,t[1]),ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=re,i=ht();if(te){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),ge===null)throw Error(O(349));kn&30||af(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Nu(uf.bind(null,r,s,t),[t]),r.flags|=2048,li(9,lf.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ht(),e=ge.identifierPrefix;if(te){var n=Ot,r=bt;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kg={readContext:et,useCallback:vf,useContext:et,useEffect:Ol,useImperativeHandle:mf,useInsertionEffect:hf,useLayoutEffect:pf,useMemo:yf,useReducer:Eo,useRef:ff,useState:function(){return Eo(ai)},useDebugValue:Tl,useDeferredValue:function(t){var e=tt();return wf(e,de.memoizedState,t)},useTransition:function(){var t=Eo(ai)[0],e=tt().memoizedState;return[t,e]},useMutableSource:sf,useSyncExternalStore:of,useId:Sf,unstable_isNewReconciler:!1},qg={readContext:et,useCallback:vf,useContext:et,useEffect:Ol,useImperativeHandle:mf,useInsertionEffect:hf,useLayoutEffect:pf,useMemo:yf,useReducer:Co,useRef:ff,useState:function(){return Co(ai)},useDebugValue:Tl,useDeferredValue:function(t){var e=tt();return de===null?e.memoizedState=t:wf(e,de.memoizedState,t)},useTransition:function(){var t=Co(ai)[0],e=tt().memoizedState;return[t,e]},useMutableSource:sf,useSyncExternalStore:of,useId:Sf,unstable_isNewReconciler:!1};function st(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ga(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fs={isMounted:function(t){return(t=t._reactInternals)?On(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=je(),i=Xt(t),s=Tt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qt(t,s,i),e!==null&&(ct(e,t,i,r),Ji(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=je(),i=Xt(t),s=Tt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qt(t,s,i),e!==null&&(ct(e,t,i,r),Ji(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=je(),r=Xt(t),i=Tt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qt(t,i,r),e!==null&&(ct(e,t,r,n),Ji(e,t,r))}};function Au(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ei(n,r)||!ei(i,s):!0}function Ef(t,e,n){var r=!1,i=tn,s=e.contextType;return typeof s=="object"&&s!==null?s=et(s):(i=ze(e)?_n:Ce.current,r=e.contextTypes,s=(r=r!=null)?ar(t,i):tn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function zu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fs.enqueueReplaceState(e,e.state,null)}function ma(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sl(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=et(s):(s=ze(e)?_n:Ce.current,i.context=ar(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ga(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fs.enqueueReplaceState(i,i.state,null),vs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dr(t,e){try{var n="",r=e;do n+=xp(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function va(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jg=typeof WeakMap=="function"?WeakMap:Map;function Cf(t,e,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xs||(xs=!0,Oa=r),va(t,e)},n}function bf(t,e,n){n=Tt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){va(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){va(t,e),typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Du(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jg;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=um.bind(null,t,e,n),e.then(t,t))}function Fu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uu(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tt(-1,1),e.tag=2,Qt(n,e,1))),n.lanes|=1),t)}var Qg=Lt.ReactCurrentOwner,Ne=!1;function Oe(t,e,n,r){e.child=t===null?ef(e,null,n,r):ur(e,t.child,n,r)}function Mu(t,e,n,r,i){n=n.render;var s=e.ref;return rr(e,i),r=Cl(t,e,n,r,s,i),n=bl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$t(t,e,i)):(te&&n&&hl(e),e.flags|=1,Oe(t,e,r,i),e.child)}function Bu(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Al(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Of(t,e,s,r,i)):(t=ts(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(o,r)&&t.ref===e.ref)return $t(t,e,i)}return e.flags|=1,t=Zt(s,r),t.ref=e.ref,t.return=e,e.child=t}function Of(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ei(s,r)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,$t(t,e,i)}return ya(t,e,n,r,i)}function Tf(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Xn,Me),Me|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Xn,Me),Me|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,X(Xn,Me),Me|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,X(Xn,Me),Me|=r;return Oe(t,e,i,n),e.child}function jf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ya(t,e,n,r,i){var s=ze(n)?_n:Ce.current;return s=ar(e,s),rr(e,i),n=Cl(t,e,n,r,s,i),r=bl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$t(t,e,i)):(te&&r&&hl(e),e.flags|=1,Oe(t,e,n,i),e.child)}function Hu(t,e,n,r,i){if(ze(n)){var s=!0;fs(e)}else s=!1;if(rr(e,i),e.stateNode===null)Xi(t,e),Ef(e,n,r),ma(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=et(u):(u=ze(n)?_n:Ce.current,u=ar(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zu(e,o,r,u),Dt=!1;var f=e.memoizedState;o.state=f,vs(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ae.current||Dt?(typeof c=="function"&&(ga(e,n,c,r),l=e.memoizedState),(a=Dt||Au(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nf(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:st(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=et(l):(l=ze(n)?_n:Ce.current,l=ar(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&zu(e,o,r,l),Dt=!1,f=e.memoizedState,o.state=f,vs(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||Ae.current||Dt?(typeof p=="function"&&(ga(e,n,p,r),m=e.memoizedState),(u=Dt||Au(e,n,u,r,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return wa(t,e,n,r,s,i)}function wa(t,e,n,r,i,s){jf(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Tu(e,n,!1),$t(t,e,s);r=e.stateNode,Qg.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ur(e,t.child,null,s),e.child=ur(e,null,a,s)):Oe(t,e,a,s),e.memoizedState=r.state,i&&Tu(e,n,!0),e.child}function Pf(t){var e=t.stateNode;e.pendingContext?Ou(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ou(t,e.context,!1),_l(t,e.containerInfo)}function Wu(t,e,n,r,i){return lr(),gl(i),e.flags|=256,Oe(t,e,n,r),e.child}var Sa={dehydrated:null,treeContext:null,retryLane:0};function _a(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rf(t,e,n){var r=e.pendingProps,i=ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),X(ne,i&1),t===null)return ha(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bs(o,r,0,null),t=wn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_a(n),e.memoizedState=Sa,t):jl(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Yg(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zt(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zt(a,s):(s=wn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?_a(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Sa,r}return s=t.child,t=s.sibling,r=Zt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jl(t,e){return e=Bs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ii(t,e,n,r){return r!==null&&gl(r),ur(e,t.child,null,n),t=jl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yg(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bo(Error(O(422))),Ii(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bs({mode:"visible",children:r.children},i,0,null),s=wn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ur(e,t.child,null,o),e.child.memoizedState=_a(o),e.memoizedState=Sa,s);if(!(e.mode&1))return Ii(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=bo(s,r,void 0),Ii(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ne||a){if(r=ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rt(t,i),ct(r,t,i,-1))}return Nl(),r=bo(Error(O(421))),Ii(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cm.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Be=Jt(i.nextSibling),He=e,te=!0,lt=null,t!==null&&(Je[Qe++]=bt,Je[Qe++]=Ot,Je[Qe++]=xn,bt=t.id,Ot=t.overflow,xn=e),e=jl(e,r.children),e.flags|=4096,e)}function Vu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pa(t.return,e,n)}function Oo(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $f(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Oe(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vu(t,n,e);else if(t.tag===19)Vu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ys(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Oo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ys(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Oo(e,!0,n,null,s);break;case"together":Oo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),En|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Zt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xg(t,e,n){switch(e.tag){case 3:Pf(e),lr();break;case 5:rf(e);break;case 1:ze(e.type)&&fs(e);break;case 4:_l(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;X(gs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?Rf(t,e,n):(X(ne,ne.current&1),t=$t(t,e,n),t!==null?t.sibling:null);X(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $f(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Tf(t,e,n)}return $t(t,e,n)}var Lf,xa,If,Nf;Lf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xa=function(){};If=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vn(vt.current);var s=null;switch(n){case"input":i=Wo(t,i),r=Wo(t,r),s=[];break;case"select":i=ie({},i,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":i=Ko(t,i),r=Ko(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cs)}Jo(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Nf=function(t,e,n,r){n!==r&&(e.flags|=4)};function br(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zg(t,e,n){var r=e.pendingProps;switch(pl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return ze(e.type)&&ds(),xe(e),null;case 3:return r=e.stateNode,cr(),ee(Ae),ee(Ce),kl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($i(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(Pa(lt),lt=null))),xa(t,e),xe(e),null;case 5:xl(e);var i=vn(si.current);if(n=e.type,t!==null&&e.stateNode!=null)If(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return xe(e),null}if(t=vn(vt.current),$i(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pt]=e,r[ri]=s,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Z(Lr[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":eu(r,s),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Z("invalid",r);break;case"textarea":nu(r,s),Z("invalid",r)}Jo(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ri(r.textContent,a,t),i=["children",""+a]):Kr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":ki(r),tu(r,s,!0);break;case"textarea":ki(r),ru(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ld(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pt]=e,t[ri]=r,Lf(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qo(n,r),n){case"dialog":Z("cancel",t),Z("close",t),i=r;break;case"iframe":case"object":case"embed":Z("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Z(Lr[i],t);i=r;break;case"source":Z("error",t),i=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),i=r;break;case"details":Z("toggle",t),i=r;break;case"input":eu(t,r),i=Wo(t,r),Z("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ie({},r,{value:void 0}),Z("invalid",t);break;case"textarea":nu(t,r),i=Ko(t,r),Z("invalid",t);break;default:i=r}Jo(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dd(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ud(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qr(t,l):typeof l=="number"&&qr(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kr.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Z("scroll",t):l!=null&&Za(t,s,l,o))}switch(n){case"input":ki(t),tu(t,r,!1);break;case"textarea":ki(t),ru(t);break;case"option":r.value!=null&&t.setAttribute("value",""+en(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Nf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=vn(si.current),vn(vt.current),$i(e)){if(r=e.stateNode,n=e.memoizedProps,r[pt]=e,(s=r.nodeValue!==n)&&(t=He,t!==null))switch(t.tag){case 3:Ri(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pt]=e,e.stateNode=r}return xe(e),null;case 13:if(ee(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Be!==null&&e.mode&1&&!(e.flags&128))Xd(),lr(),e.flags|=98560,s=!1;else if(s=$i(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[pt]=e}else lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),s=!1}else lt!==null&&(Pa(lt),lt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?fe===0&&(fe=3):Nl())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return cr(),xa(t,e),t===null&&ti(e.stateNode.containerInfo),xe(e),null;case 10:return yl(e.type._context),xe(e),null;case 17:return ze(e.type)&&ds(),xe(e),null;case 19:if(ee(ne),s=e.memoizedState,s===null)return xe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)br(s,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ys(t),o!==null){for(e.flags|=128,br(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(ne,ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&le()>fr&&(e.flags|=128,r=!0,br(s,!1),e.lanes=4194304)}else{if(!r)if(t=ys(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),br(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!te)return xe(e),null}else 2*le()-s.renderingStartTime>fr&&n!==1073741824&&(e.flags|=128,r=!0,br(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=le(),e.sibling=null,n=ne.current,X(ne,r?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return Il(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Me&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function em(t,e){switch(pl(e),e.tag){case 1:return ze(e.type)&&ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cr(),ee(Ae),ee(Ce),kl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xl(e),null;case 13:if(ee(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(ne),null;case 4:return cr(),null;case 10:return yl(e.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var Ni=!1,Ee=!1,tm=typeof WeakSet=="function"?WeakSet:Set,I=null;function Yn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function ka(t,e,n){try{n()}catch(r){se(t,e,r)}}var Gu=!1;function nm(t,e){if(oa=as,t=Fd(),fl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(aa={focusedElem:t,selectionRange:n},as=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,_=m.memoizedState,v=e.stateNode,h=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:st(e.type,w),_);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(y){se(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return m=Gu,Gu=!1,m}function Mr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ka(e,n,s)}i=i.next}while(i!==r)}}function Us(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ea(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Af(t){var e=t.alternate;e!==null&&(t.alternate=null,Af(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pt],delete e[ri],delete e[ca],delete e[Dg],delete e[Fg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zf(t){return t.tag===5||t.tag===3||t.tag===4}function Ku(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ca(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cs));else if(r!==4&&(t=t.child,t!==null))for(Ca(t,e,n),t=t.sibling;t!==null;)Ca(t,e,n),t=t.sibling}function ba(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ba(t,e,n),t=t.sibling;t!==null;)ba(t,e,n),t=t.sibling}var ve=null,ot=!1;function It(t,e,n){for(n=n.child;n!==null;)Df(t,e,n),n=n.sibling}function Df(t,e,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount($s,n)}catch{}switch(n.tag){case 5:Ee||Yn(n,e);case 6:var r=ve,i=ot;ve=null,It(t,e,n),ve=r,ot=i,ve!==null&&(ot?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(ot?(t=ve,n=n.stateNode,t.nodeType===8?So(t.parentNode,n):t.nodeType===1&&So(t,n),Xr(t)):So(ve,n.stateNode));break;case 4:r=ve,i=ot,ve=n.stateNode.containerInfo,ot=!0,It(t,e,n),ve=r,ot=i;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ka(n,e,o),i=i.next}while(i!==r)}It(t,e,n);break;case 1:if(!Ee&&(Yn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){se(n,e,a)}It(t,e,n);break;case 21:It(t,e,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,It(t,e,n),Ee=r):It(t,e,n);break;default:It(t,e,n)}}function qu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tm),e.forEach(function(r){var i=dm.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,ot=!1;break e;case 3:ve=a.stateNode.containerInfo,ot=!0;break e;case 4:ve=a.stateNode.containerInfo,ot=!0;break e}a=a.return}if(ve===null)throw Error(O(160));Df(s,o,i),ve=null,ot=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){se(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ff(e,t),e=e.sibling}function Ff(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rt(e,t),ft(t),r&4){try{Mr(3,t,t.return),Us(3,t)}catch(w){se(t,t.return,w)}try{Mr(5,t,t.return)}catch(w){se(t,t.return,w)}}break;case 1:rt(e,t),ft(t),r&512&&n!==null&&Yn(n,n.return);break;case 5:if(rt(e,t),ft(t),r&512&&n!==null&&Yn(n,n.return),t.flags&32){var i=t.stateNode;try{qr(i,"")}catch(w){se(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&od(i,s),Qo(a,o);var u=Qo(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?dd(i,d):c==="dangerouslySetInnerHTML"?ud(i,d):c==="children"?qr(i,d):Za(i,c,d,u)}switch(a){case"input":Vo(i,s);break;case"textarea":ad(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Zn(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zn(i,!!s.multiple,s.defaultValue,!0):Zn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ri]=s}catch(w){se(t,t.return,w)}}break;case 6:if(rt(e,t),ft(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){se(t,t.return,w)}}break;case 3:if(rt(e,t),ft(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xr(e.containerInfo)}catch(w){se(t,t.return,w)}break;case 4:rt(e,t),ft(t);break;case 13:rt(e,t),ft(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($l=le())),r&4&&qu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ee=(u=Ee)||c,rt(e,t),Ee=u):rt(e,t),ft(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(d=I=c;I!==null;){switch(f=I,p=f.child,f.tag){case 0:case 11:case 14:case 15:Mr(4,f,f.return);break;case 1:Yn(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){se(r,n,w)}}break;case 5:Yn(f,f.return);break;case 22:if(f.memoizedState!==null){Qu(d);continue}}p!==null?(p.return=f,I=p):Qu(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cd("display",o))}catch(w){se(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){se(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rt(e,t),ft(t),r&4&&qu(t);break;case 21:break;default:rt(e,t),ft(t)}}function ft(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zf(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qr(i,""),r.flags&=-33);var s=Ku(t);ba(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ku(t);Ca(t,a,o);break;default:throw Error(O(161))}}catch(l){se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rm(t,e,n){I=t,Uf(t)}function Uf(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ni;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ee;a=Ni;var u=Ee;if(Ni=o,(Ee=l)&&!u)for(I=i;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?Yu(i):l!==null?(l.return=o,I=l):Yu(i);for(;s!==null;)I=s,Uf(s),s=s.sibling;I=i,Ni=a,Ee=u}Ju(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):Ju(t)}}function Ju(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||Us(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:st(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Lu(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ee||e.flags&512&&Ea(e)}catch(f){se(e,e.return,f)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Qu(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Yu(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Us(4,e)}catch(l){se(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){se(e,i,l)}}var s=e.return;try{Ea(e)}catch(l){se(e,s,l)}break;case 5:var o=e.return;try{Ea(e)}catch(l){se(e,o,l)}}}catch(l){se(e,e.return,l)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var im=Math.ceil,_s=Lt.ReactCurrentDispatcher,Pl=Lt.ReactCurrentOwner,Xe=Lt.ReactCurrentBatchConfig,K=0,ge=null,ue=null,ye=0,Me=0,Xn=rn(0),fe=0,ui=null,En=0,Ms=0,Rl=0,Br=null,Le=null,$l=0,fr=1/0,kt=null,xs=!1,Oa=null,Yt=null,Ai=!1,Vt=null,ks=0,Hr=0,Ta=null,Zi=-1,es=0;function je(){return K&6?le():Zi!==-1?Zi:Zi=le()}function Xt(t){return t.mode&1?K&2&&ye!==0?ye&-ye:Mg.transition!==null?(es===0&&(es=kd()),es):(t=J,t!==0||(t=window.event,t=t===void 0?16:Pd(t.type)),t):1}function ct(t,e,n,r){if(50<Hr)throw Hr=0,Ta=null,Error(O(185));pi(t,n,r),(!(K&2)||t!==ge)&&(t===ge&&(!(K&2)&&(Ms|=n),fe===4&&Bt(t,ye)),De(t,r),n===1&&K===0&&!(e.mode&1)&&(fr=le()+500,zs&&sn()))}function De(t,e){var n=t.callbackNode;Mp(t,e);var r=os(t,t===ge?ye:0);if(r===0)n!==null&&ou(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ou(n),e===1)t.tag===0?Ug(Xu.bind(null,t)):Jd(Xu.bind(null,t)),Ag(function(){!(K&6)&&sn()}),n=null;else{switch(Ed(r)){case 1:n=il;break;case 4:n=_d;break;case 16:n=ss;break;case 536870912:n=xd;break;default:n=ss}n=qf(n,Mf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mf(t,e){if(Zi=-1,es=0,K&6)throw Error(O(327));var n=t.callbackNode;if(ir()&&t.callbackNode!==n)return null;var r=os(t,t===ge?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Es(t,r);else{e=r;var i=K;K|=2;var s=Hf();(ge!==t||ye!==e)&&(kt=null,fr=le()+500,yn(t,e));do try{am();break}catch(a){Bf(t,a)}while(!0);vl(),_s.current=s,K=i,ue!==null?e=0:(ge=null,ye=0,e=fe)}if(e!==0){if(e===2&&(i=ta(t),i!==0&&(r=i,e=ja(t,i))),e===1)throw n=ui,yn(t,0),Bt(t,r),De(t,le()),n;if(e===6)Bt(t,r);else{if(i=t.current.alternate,!(r&30)&&!sm(i)&&(e=Es(t,r),e===2&&(s=ta(t),s!==0&&(r=s,e=ja(t,s))),e===1))throw n=ui,yn(t,0),Bt(t,r),De(t,le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:dn(t,Le,kt);break;case 3:if(Bt(t,r),(r&130023424)===r&&(e=$l+500-le(),10<e)){if(os(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ua(dn.bind(null,t,Le,kt),e);break}dn(t,Le,kt);break;case 4:if(Bt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ut(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*im(r/1960))-r,10<r){t.timeoutHandle=ua(dn.bind(null,t,Le,kt),r);break}dn(t,Le,kt);break;case 5:dn(t,Le,kt);break;default:throw Error(O(329))}}}return De(t,le()),t.callbackNode===n?Mf.bind(null,t):null}function ja(t,e){var n=Br;return t.current.memoizedState.isDehydrated&&(yn(t,e).flags|=256),t=Es(t,e),t!==2&&(e=Le,Le=n,e!==null&&Pa(e)),t}function Pa(t){Le===null?Le=t:Le.push.apply(Le,t)}function sm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bt(t,e){for(e&=~Rl,e&=~Ms,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ut(e),r=1<<n;t[n]=-1,e&=~r}}function Xu(t){if(K&6)throw Error(O(327));ir();var e=os(t,0);if(!(e&1))return De(t,le()),null;var n=Es(t,e);if(t.tag!==0&&n===2){var r=ta(t);r!==0&&(e=r,n=ja(t,r))}if(n===1)throw n=ui,yn(t,0),Bt(t,e),De(t,le()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dn(t,Le,kt),De(t,le()),null}function Ll(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(fr=le()+500,zs&&sn())}}function Cn(t){Vt!==null&&Vt.tag===0&&!(K&6)&&ir();var e=K;K|=1;var n=Xe.transition,r=J;try{if(Xe.transition=null,J=1,t)return t()}finally{J=r,Xe.transition=n,K=e,!(K&6)&&sn()}}function Il(){Me=Xn.current,ee(Xn)}function yn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ng(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(pl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ds();break;case 3:cr(),ee(Ae),ee(Ce),kl();break;case 5:xl(r);break;case 4:cr();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:yl(r.type._context);break;case 22:case 23:Il()}n=n.return}if(ge=t,ue=t=Zt(t.current,null),ye=Me=e,fe=0,ui=null,Rl=Ms=En=0,Le=Br=null,mn!==null){for(e=0;e<mn.length;e++)if(n=mn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mn=null}return t}function Bf(t,e){do{var n=ue;try{if(vl(),Qi.current=Ss,ws){for(var r=re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ws=!1}if(kn=0,pe=de=re=null,Ur=!1,oi=0,Pl.current=null,n===null||n.return===null){fe=1,ui=e,ue=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Fu(o);if(p!==null){p.flags&=-257,Uu(p,o,a,s,e),p.mode&1&&Du(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){Du(s,u,e),Nl();break e}l=Error(O(426))}}else if(te&&a.mode&1){var _=Fu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Uu(_,o,a,s,e),gl(dr(l,a));break e}}s=l=dr(l,a),fe!==4&&(fe=2),Br===null?Br=[s]:Br.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Cf(s,l,e);$u(s,v);break e;case 1:a=l;var h=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yt===null||!Yt.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=bf(s,a,e);$u(s,y);break e}}s=s.return}while(s!==null)}Vf(n)}catch(x){e=x,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Hf(){var t=_s.current;return _s.current=Ss,t===null?Ss:t}function Nl(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(En&268435455)&&!(Ms&268435455)||Bt(ge,ye)}function Es(t,e){var n=K;K|=2;var r=Hf();(ge!==t||ye!==e)&&(kt=null,yn(t,e));do try{om();break}catch(i){Bf(t,i)}while(!0);if(vl(),K=n,_s.current=r,ue!==null)throw Error(O(261));return ge=null,ye=0,fe}function om(){for(;ue!==null;)Wf(ue)}function am(){for(;ue!==null&&!$p();)Wf(ue)}function Wf(t){var e=Kf(t.alternate,t,Me);t.memoizedProps=t.pendingProps,e===null?Vf(t):ue=e,Pl.current=null}function Vf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=em(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ue=null;return}}else if(n=Zg(n,e,Me),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);fe===0&&(fe=5)}function dn(t,e,n){var r=J,i=Xe.transition;try{Xe.transition=null,J=1,lm(t,e,n,r)}finally{Xe.transition=i,J=r}return null}function lm(t,e,n,r){do ir();while(Vt!==null);if(K&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Bp(t,s),t===ge&&(ue=ge=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ai||(Ai=!0,qf(ss,function(){return ir(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xe.transition,Xe.transition=null;var o=J;J=1;var a=K;K|=4,Pl.current=null,nm(t,n),Ff(n,t),Tg(aa),as=!!oa,aa=oa=null,t.current=n,rm(n),Lp(),K=a,J=o,Xe.transition=s}else t.current=n;if(Ai&&(Ai=!1,Vt=t,ks=i),s=t.pendingLanes,s===0&&(Yt=null),Ap(n.stateNode),De(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xs)throw xs=!1,t=Oa,Oa=null,t;return ks&1&&t.tag!==0&&ir(),s=t.pendingLanes,s&1?t===Ta?Hr++:(Hr=0,Ta=t):Hr=0,sn(),null}function ir(){if(Vt!==null){var t=Ed(ks),e=Xe.transition,n=J;try{if(Xe.transition=null,J=16>t?16:t,Vt===null)var r=!1;else{if(t=Vt,Vt=null,ks=0,K&6)throw Error(O(331));var i=K;for(K|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Mr(8,c,s)}var d=c.child;if(d!==null)d.return=c,I=d;else for(;I!==null;){c=I;var f=c.sibling,p=c.return;if(Af(c),c===u){I=null;break}if(f!==null){f.return=p,I=f;break}I=p}}}var m=s.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mr(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,I=v;break e}I=s.return}}var h=t.current;for(I=h;I!==null;){o=I;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,I=g;else e:for(o=h;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Us(9,a)}}catch(x){se(a,a.return,x)}if(a===o){I=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,I=y;break e}I=a.return}}if(K=i,sn(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot($s,t)}catch{}r=!0}return r}finally{J=n,Xe.transition=e}}return!1}function Zu(t,e,n){e=dr(n,e),e=Cf(t,e,1),t=Qt(t,e,1),e=je(),t!==null&&(pi(t,1,e),De(t,e))}function se(t,e,n){if(t.tag===3)Zu(t,t,n);else for(;e!==null;){if(e.tag===3){Zu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){t=dr(n,t),t=bf(e,t,1),e=Qt(e,t,1),t=je(),e!==null&&(pi(e,1,t),De(e,t));break}}e=e.return}}function um(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(ye&n)===n&&(fe===4||fe===3&&(ye&130023424)===ye&&500>le()-$l?yn(t,0):Rl|=n),De(t,e)}function Gf(t,e){e===0&&(t.mode&1?(e=bi,bi<<=1,!(bi&130023424)&&(bi=4194304)):e=1);var n=je();t=Rt(t,e),t!==null&&(pi(t,e,n),De(t,n))}function cm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gf(t,n)}function dm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Gf(t,n)}var Kf;Kf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Ne=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ne=!1,Xg(t,e,n);Ne=!!(t.flags&131072)}else Ne=!1,te&&e.flags&1048576&&Qd(e,ps,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xi(t,e),t=e.pendingProps;var i=ar(e,Ce.current);rr(e,n),i=Cl(null,e,r,t,i,n);var s=bl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(r)?(s=!0,fs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sl(e),i.updater=Fs,e.stateNode=i,i._reactInternals=e,ma(e,r,t,n),e=wa(null,e,r,!0,s,n)):(e.tag=0,te&&s&&hl(e),Oe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xi(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hm(r),t=st(r,t),i){case 0:e=ya(null,e,r,t,n);break e;case 1:e=Hu(null,e,r,t,n);break e;case 11:e=Mu(null,e,r,t,n);break e;case 14:e=Bu(null,e,r,st(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:st(r,i),ya(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:st(r,i),Hu(t,e,r,i,n);case 3:e:{if(Pf(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nf(t,e),vs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dr(Error(O(423)),e),e=Wu(t,e,r,n,i);break e}else if(r!==i){i=dr(Error(O(424)),e),e=Wu(t,e,r,n,i);break e}else for(Be=Jt(e.stateNode.containerInfo.firstChild),He=e,te=!0,lt=null,n=ef(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===i){e=$t(t,e,n);break e}Oe(t,e,r,n)}e=e.child}return e;case 5:return rf(e),t===null&&ha(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,la(r,i)?o=null:s!==null&&la(r,s)&&(e.flags|=32),jf(t,e),Oe(t,e,o,n),e.child;case 6:return t===null&&ha(e),null;case 13:return Rf(t,e,n);case 4:return _l(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ur(e,null,r,n):Oe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:st(r,i),Mu(t,e,r,i,n);case 7:return Oe(t,e,e.pendingProps,n),e.child;case 8:return Oe(t,e,e.pendingProps.children,n),e.child;case 12:return Oe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,X(gs,r._currentValue),r._currentValue=o,s!==null)if(dt(s.value,o)){if(s.children===i.children&&!Ae.current){e=$t(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Tt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pa(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pa(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Oe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rr(e,n),i=et(i),r=r(i),e.flags|=1,Oe(t,e,r,n),e.child;case 14:return r=e.type,i=st(r,e.pendingProps),i=st(r.type,i),Bu(t,e,r,i,n);case 15:return Of(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:st(r,i),Xi(t,e),e.tag=1,ze(r)?(t=!0,fs(e)):t=!1,rr(e,n),Ef(e,r,i),ma(e,r,i,n),wa(null,e,r,!0,t,n);case 19:return $f(t,e,n);case 22:return Tf(t,e,n)}throw Error(O(156,e.tag))};function qf(t,e){return Sd(t,e)}function fm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(t,e,n,r){return new fm(t,e,n,r)}function Al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hm(t){if(typeof t=="function")return Al(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tl)return 11;if(t===nl)return 14}return 2}function Zt(t,e){var n=t.alternate;return n===null?(n=Ye(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ts(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Al(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bn:return wn(n.children,i,s,e);case el:o=8,i|=8;break;case Uo:return t=Ye(12,n,e,i|2),t.elementType=Uo,t.lanes=s,t;case Mo:return t=Ye(13,n,e,i),t.elementType=Mo,t.lanes=s,t;case Bo:return t=Ye(19,n,e,i),t.elementType=Bo,t.lanes=s,t;case rd:return Bs(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case td:o=10;break e;case nd:o=9;break e;case tl:o=11;break e;case nl:o=14;break e;case zt:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Ye(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wn(t,e,n,r){return t=Ye(7,t,r,e),t.lanes=n,t}function Bs(t,e,n,r){return t=Ye(22,t,r,e),t.elementType=rd,t.lanes=n,t.stateNode={isHidden:!1},t}function To(t,e,n){return t=Ye(6,t,null,e),t.lanes=n,t}function jo(t,e,n){return e=Ye(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(t,e,n,r,i,s,o,a,l){return t=new pm(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ye(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sl(s),t}function gm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Jf(t){if(!t)return tn;t=t._reactInternals;e:{if(On(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(ze(n))return qd(t,n,e)}return e}function Qf(t,e,n,r,i,s,o,a,l){return t=zl(n,r,!0,t,i,s,o,a,l),t.context=Jf(null),n=t.current,r=je(),i=Xt(n),s=Tt(r,i),s.callback=e??null,Qt(n,s,i),t.current.lanes=i,pi(t,i,r),De(t,r),t}function Hs(t,e,n,r){var i=e.current,s=je(),o=Xt(i);return n=Jf(n),e.context===null?e.context=n:e.pendingContext=n,e=Tt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qt(i,e,o),t!==null&&(ct(t,i,o,s),Ji(t,i,o)),o}function Cs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ec(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dl(t,e){ec(t,e),(t=t.alternate)&&ec(t,e)}function mm(){return null}var Yf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fl(t){this._internalRoot=t}Ws.prototype.render=Fl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Hs(t,e,null,null)};Ws.prototype.unmount=Fl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cn(function(){Hs(null,t,null,null)}),e[Pt]=null}};function Ws(t){this._internalRoot=t}Ws.prototype.unstable_scheduleHydration=function(t){if(t){var e=Od();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mt.length&&e!==0&&e<Mt[n].priority;n++);Mt.splice(n,0,t),n===0&&jd(t)}};function Ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tc(){}function vm(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Cs(o);s.call(u)}}var o=Qf(e,r,t,0,null,!1,!1,"",tc);return t._reactRootContainer=o,t[Pt]=o.current,ti(t.nodeType===8?t.parentNode:t),Cn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Cs(l);a.call(u)}}var l=zl(t,0,!1,null,null,!1,!1,"",tc);return t._reactRootContainer=l,t[Pt]=l.current,ti(t.nodeType===8?t.parentNode:t),Cn(function(){Hs(e,l,n,r)}),l}function Gs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cs(o);a.call(l)}}Hs(e,o,t,i)}else o=vm(n,e,t,i,r);return Cs(o)}Cd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$r(e.pendingLanes);n!==0&&(sl(e,n|1),De(e,le()),!(K&6)&&(fr=le()+500,sn()))}break;case 13:Cn(function(){var r=Rt(t,1);if(r!==null){var i=je();ct(r,t,1,i)}}),Dl(t,1)}};ol=function(t){if(t.tag===13){var e=Rt(t,134217728);if(e!==null){var n=je();ct(e,t,134217728,n)}Dl(t,134217728)}};bd=function(t){if(t.tag===13){var e=Xt(t),n=Rt(t,e);if(n!==null){var r=je();ct(n,t,e,r)}Dl(t,e)}};Od=function(){return J};Td=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};Xo=function(t,e,n){switch(e){case"input":if(Vo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=As(r);if(!i)throw Error(O(90));sd(r),Vo(r,i)}}}break;case"textarea":ad(t,n);break;case"select":e=n.value,e!=null&&Zn(t,!!n.multiple,e,!1)}};pd=Ll;gd=Cn;var ym={usingClientEntryPoint:!1,Events:[mi,Gn,As,fd,hd,Ll]},Or={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wm={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yd(t),t===null?null:t.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zi.isDisabled&&zi.supportsFiber)try{$s=zi.inject(wm),mt=zi}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ym;Ve.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ul(e))throw Error(O(200));return gm(t,e,null,n)};Ve.createRoot=function(t,e){if(!Ul(t))throw Error(O(299));var n=!1,r="",i=Yf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zl(t,1,!1,null,null,n,!1,r,i),t[Pt]=e.current,ti(t.nodeType===8?t.parentNode:t),new Fl(e)};Ve.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=yd(e),t=t===null?null:t.stateNode,t};Ve.flushSync=function(t){return Cn(t)};Ve.hydrate=function(t,e,n){if(!Vs(e))throw Error(O(200));return Gs(null,t,e,!0,n)};Ve.hydrateRoot=function(t,e,n){if(!Ul(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Yf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Qf(e,null,t,1,n??null,i,!1,s,o),t[Pt]=e.current,ti(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ws(e)};Ve.render=function(t,e,n){if(!Vs(e))throw Error(O(200));return Gs(null,t,e,!1,n)};Ve.unmountComponentAtNode=function(t){if(!Vs(t))throw Error(O(40));return t._reactRootContainer?(Cn(function(){Gs(null,null,t,!1,function(){t._reactRootContainer=null,t[Pt]=null})}),!0):!1};Ve.unstable_batchedUpdates=Ll;Ve.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vs(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Gs(t,e,n,!1,r)};Ve.version="18.3.1-next-f1338f8080-20240426";function Xf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xf)}catch(t){console.error(t)}}Xf(),Yc.exports=Ve;var Sm=Yc.exports,nc=Sm;Do.createRoot=nc.createRoot,Do.hydrateRoot=nc.hydrateRoot;const _m=(t,e,n,r)=>{var s,o,a,l;const i=[n,{code:e,...r||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Sn(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},rc={},Ra=(t,e,n,r)=>{Sn(n)&&rc[n]||(Sn(n)&&(rc[n]=new Date),_m(t,e,n,r))},Zf=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},$a=(t,e,n)=>{t.loadNamespaces(e,Zf(t,n))},ic=(t,e,n,r)=>{if(Sn(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return $a(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Zf(t,r))},xm=(t,e,n={})=>!e.languages||!e.languages.length?(Ra(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Sn=t=>typeof t=="string",km=t=>typeof t=="object"&&t!==null,Em=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Cm={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},bm=t=>Cm[t],Om=t=>t.replace(Em,bm);let La={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Om};const Tm=(t={})=>{La={...La,...t}},jm=()=>La;let eh;const Pm=t=>{eh=t},Rm=()=>eh,$m={type:"3rdParty",init(t){Tm(t.options.react),Pm(t)}},Lm=$.createContext();class Im{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Nm=(t,e)=>{const n=$.useRef();return $.useEffect(()=>{n.current=t},[t,e]),n.current},th=(t,e,n,r)=>t.getFixedT(e,n,r),Am=(t,e,n,r)=>$.useCallback(th(t,e,n,r),[t,e,n,r]),yt=(t,e={})=>{var y,x,C,b;const{i18n:n}=e,{i18n:r,defaultNS:i}=$.useContext(Lm)||{},s=n||r||Rm();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Im),!s){Ra(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const T=(P,V)=>Sn(V)?V:km(V)&&Sn(V.defaultValue)?V.defaultValue:Array.isArray(P)?P[P.length-1]:P,N=[T,{},!1];return N.t=T,N.i18n={},N.ready=!1,N}(y=s.options.react)!=null&&y.wait&&Ra(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...jm(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=i||((x=s.options)==null?void 0:x.defaultNS);u=Sn(u)?[u]:u||["translation"],(b=(C=s.reportNamespaces).addUsedNamespaces)==null||b.call(C,u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(T=>xm(T,s,o)),d=Am(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),f=()=>d,p=()=>th(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[m,w]=$.useState(f);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const v=Nm(_),h=$.useRef(!0);$.useEffect(()=>{const{bindI18n:T,bindI18nStore:N}=o;h.current=!0,!c&&!a&&(e.lng?ic(s,e.lng,u,()=>{h.current&&w(p)}):$a(s,u,()=>{h.current&&w(p)})),c&&v&&v!==_&&h.current&&w(p);const P=()=>{h.current&&w(p)};return T&&(s==null||s.on(T,P)),N&&(s==null||s.store.on(N,P)),()=>{h.current=!1,s&&T&&(T==null||T.split(" ").forEach(V=>s.off(V,P))),N&&s&&N.split(" ").forEach(V=>s.store.off(V,P))}},[s,_]),$.useEffect(()=>{h.current&&c&&w(f)},[s,l,c]);const g=[m,s,c];if(g.t=m,g.i18n=s,g.ready=c,c||!c&&!a)return g;throw new Promise(T=>{e.lng?ic(s,e.lng,u,()=>T()):$a(s,u,()=>T())})},nh=new Map([[1,""],[2,""],[3,""],[4,""],[5,""],[6,""],[7,""],[8,""],[9,""],[10,""],[11,""],[12,""],[13,""],[14,""],[15,""],[16,""],[17,""],[18,""]]),Ft={primary:"#4CAF50",background:"#FAFAFA",tileBackground:"#ECEFF1",tileBorder:"#CFD8DC",textPrimary:"#212121",textSecondary:"#666666",border:{light:"#e9ecef"}},zm=new Map([[1,"#FFF3E0"],[2,"#E3F2FD"],[3,"#E8F5E8"],[4,"#F1F8E9"],[5,"#FFEBEE"],[6,"#E0F2F1"],[7,"#FFF8E1"],[8,"#F3E5F5"],[9,"#E8EAF6"],[10,"#E1F5FE"],[11,"#E0F7FA"],[12,"#F9FBE7"],[13,"#FCE4EC"],[14,"#E4C441"],[15,"#FFECB3"],[16,"#F0F4C3"],[17,"#E1BEE7"],[18,"#FFFFFF"]]),Dm=t=>zm.get(t)||"#F5F5F5",Fm=t=>t===14?"#2D2D2D":"#424242",rh="8px",Um=1,Mm=Ft.tileBorder,Bm=Ft.tileBackground,G=10,Hm=4,Wm=({tile:t,cellSize:e})=>{const[n,r]=$.useState(t.justSpawned?.7:1),[i,s]=$.useState(t.justSpawned?.5:1);$.useEffect(()=>{t.justSpawned&&setTimeout(()=>{r(1),s(1)},10)},[t.justSpawned]),$.useEffect(()=>{t.justMerged&&(r(1.3),setTimeout(()=>r(1),150))},[t.justMerged]);const o=nh.get(t.level)||"",a=t.col*(e+G),l=t.row*(e+G),u=Dm(t.level),c=Fm(t.level);return k.jsxs("div",{style:{position:"absolute",left:a,top:l,width:e,height:e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:t.justMerged?"rgba(255, 215, 0, 0.8)":u,borderRadius:rh,border:"1px solid rgba(255, 255, 255, 0.3)",transform:`scale(${n})`,opacity:i,transition:"left 0.2s ease, top 0.2s ease, transform 0.15s ease, opacity 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease",boxSizing:"border-box",boxShadow:t.justMerged?"0 4px 16px rgba(255, 215, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:t.justMerged?100:10,padding:Hm},children:[k.jsx("div",{style:{fontSize:Math.max(16,e*.35),lineHeight:"1",marginBottom:Math.max(1,e*.025),display:"flex",alignItems:"center",justifyContent:"center"},children:o}),k.jsx("div",{style:{fontSize:Math.max(8,e*.15),fontWeight:"600",color:c,lineHeight:"1",fontFamily:"Arial, sans-serif",textShadow:"0 1px 2px rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.level})]})},S={spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.25rem","2xl":"1.5rem","3xl":"2rem","4xl":"3rem"},fontSize:{xs:"clamp(0.75rem, 1.5vh, 0.875rem)",sm:"clamp(0.875rem, 2vh, 1rem)",base:"clamp(1rem, 2.5vh, 1.125rem)",lg:"clamp(1.125rem, 3vh, 1.25rem)",xl:"clamp(1.25rem, 3.5vh, 1.5rem)","2xl":"clamp(1.5rem, 4vh, 1.875rem)","3xl":"clamp(1.875rem, 5vh, 2.25rem)","4xl":"clamp(2.25rem, 6vh, 3rem)"},borderRadius:{md:"0.5rem",lg:"0.75rem",xl:"1rem"},boxShadow:{base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",button:"0 6px 20px rgba(76, 175, 80, 0.3)",buttonHover:"0 8px 25px rgba(76, 175, 80, 0.4)",overlay:"0 8px 32px rgba(0, 0, 0, 0.1)"},transition:{base:"0.2s ease",smooth:"0.3s cubic-bezier(0.4, 0, 0.2, 1)"},layout:{maxContainerWidth:"600px",buttonMaxWidth:"320px",buttonMinHeight:"clamp(56px, 8vh, 64px)",popupPadding:"clamp(24px, 4vh, 48px)",popupContentPadding:"clamp(20px, 3vh, 32px)"}},ih={sm:{fontSize:S.fontSize.sm,padding:`${S.spacing.sm} ${S.spacing.lg}`,minHeight:"clamp(40px, 6vh, 48px)",borderRadius:S.borderRadius.md},md:{fontSize:S.fontSize.base,padding:`${S.spacing.md} ${S.spacing.xl}`,minHeight:S.layout.buttonMinHeight,borderRadius:S.borderRadius.lg},lg:{fontSize:S.fontSize.lg,padding:`${S.spacing.lg} ${S.spacing["2xl"]}`,minHeight:"clamp(64px, 10vh, 72px)",borderRadius:S.borderRadius.xl}},Vm={primary:{background:"#4CAF50",backgroundHover:"#45a049",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:S.boxShadow.button,shadowHover:S.boxShadow.buttonHover,border:"none"},secondary:{background:"rgba(255, 255, 255, 0.9)",backgroundHover:"#f8f9fa",color:"#666666",colorHover:"#333333",shadow:S.boxShadow.base,shadowHover:S.boxShadow.md,border:"2px solid #e9ecef"},danger:{background:"#F44336",backgroundHover:"#E04949",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:"0 6px 20px rgba(244, 67, 54, 0.3)",shadowHover:"0 8px 25px rgba(244, 67, 54, 0.4)",border:"none"},warning:{background:"#FFEB3B",backgroundHover:"#E6B800",color:"#333333",colorHover:"#333333",shadow:"0 6px 20px rgba(255, 235, 59, 0.3)",shadowHover:"0 8px 25px rgba(255, 235, 59, 0.4)",border:"none"}},Te=({children:t,variant:e="primary",size:n="md",disabled:r=!1,fullWidth:i=!0,style:s,onMouseOver:o,onMouseOut:a,onMouseDown:l,onMouseUp:u,...c})=>{const d=Vm[e],f=ih[n],p={width:i?"100%":"auto",maxWidth:i?S.layout.buttonMaxWidth:"none",minHeight:f.minHeight,fontSize:f.fontSize,fontWeight:"bold",fontFamily:"inherit",color:r?"rgba(255, 255, 255, 0.6)":d.color,backgroundColor:r?"rgba(76, 175, 80, 0.4)":d.background,border:r?"none":d.border,borderRadius:f.borderRadius,padding:f.padding,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",gap:S.spacing.sm,cursor:r?"not-allowed":"pointer",opacity:r?.6:1,boxShadow:r?"none":d.shadow,transition:`all ${S.transition.smooth}`,transform:"translateY(0)",outline:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"},m=y=>{if(!r){const x=y.currentTarget;x.style.backgroundColor=d.backgroundHover,x.style.color=d.colorHover,x.style.transform="translateY(-2px)",x.style.boxShadow=d.shadowHover,e==="secondary"&&(x.style.borderColor="#6c757d")}o==null||o(y)},w=y=>{if(!r){const x=y.currentTarget;x.style.backgroundColor=d.background,x.style.color=d.color,x.style.transform="translateY(0)",x.style.boxShadow=d.shadow,e==="secondary"&&(x.style.borderColor="#e9ecef")}a==null||a(y)},_=y=>{r||(y.currentTarget.style.transform="translateY(0) scale(0.98)"),l==null||l(y)},v=y=>{r||(y.currentTarget.style.transform="translateY(-2px) scale(1)"),u==null||u(y)},h=y=>{r||(y.currentTarget.style.outline="2px solid rgba(76, 175, 80, 0.5)",y.currentTarget.style.outlineOffset="2px")},g=y=>{y.currentTarget.style.outline="none"};return k.jsx("button",{style:{...p,...s},disabled:r,onMouseOver:m,onMouseOut:w,onMouseDown:_,onMouseUp:v,onFocus:h,onBlur:g,...c,children:t})},Gm=({score:t,onRestart:e,onMainMenu:n,onNameSubmit:r,onSkipHighScore:i,isCheckingScore:s=!1,isSavingScore:o=!1,qualifiesForLeaderboard:a=!1,gridWidth:l})=>{const{t:u}=yt(),[c,d]=$.useState(!1),[f,p]=$.useState(u("common.player")),[m,w]=$.useState(!1),[_,v]=$.useState(!1),h={width:`${l}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:S.fontSize.base,fontWeight:"bold",borderRadius:S.borderRadius.lg,padding:`${S.spacing.md} ${S.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"};$.useEffect(()=>{const N=setTimeout(()=>{d(!0)},50);return()=>clearTimeout(N)},[]);const g=()=>{r&&f.trim()&&!o&&(w(!0),r(f.trim()))};$.useEffect(()=>{},[o,m]);const y=N=>{N.key==="Enter"&&a&&!m&&g()},x=()=>{a&&!m&&!o?v(!0):e()},C=()=>{n()},b=()=>{v(!1),w(!0),i&&i(),e()},T=()=>{v(!1),setTimeout(()=>{const N=document.querySelector('input[type="text"]');N&&a&&!m&&N.focus()},100)};return k.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",color:"white",fontSize:S.fontSize.xl,fontWeight:"bold",zIndex:1e3,backdropFilter:"blur(3px)",padding:`clamp(${S.spacing.lg}, 4vh, ${S.spacing["3xl"]}) clamp(${S.spacing.md}, 3vw, ${S.spacing["2xl"]})`,paddingBottom:_?"clamp(140px, 25vh, 200px)":"clamp(80px, 15vh, 120px)",boxSizing:"border-box",opacity:c?1:0,transition:"opacity 1s ease-in-out",overflow:_?"hidden":"auto"},children:k.jsxs("div",{style:{width:"fit-content",minWidth:`${l}px`,maxWidth:`max(${l}px, min(90vw, 500px))`,backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:S.borderRadius.xl,padding:_?`clamp(${S.spacing["3xl"]}, 8vh, ${S.spacing["4xl"]})`:`clamp(${S.spacing.xl}, 5vh, ${S.spacing["4xl"]})`,border:"2px solid rgba(255, 255, 255, 0.15)",display:"flex",flexDirection:"column",alignItems:"center",gap:`clamp(${S.spacing.md}, 2vh, ${S.spacing.lg})`,marginTop:_?"clamp(10px, 4vh, 30px)":"clamp(20px, 8vh, 60px)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",minHeight:_?"auto":void 0,maxHeight:_?"calc(100vh - 200px)":"calc(100vh - 140px)"},children:[k.jsx("div",{style:{fontSize:`clamp(${S.fontSize.lg}, 4vw, ${S.fontSize.xl})`,textAlign:"center",margin:0},children:u("gameOver.title")}),k.jsx("div",{style:{fontSize:`clamp(${S.fontSize.sm}, 3vw, ${S.fontSize.base})`,opacity:.9,textAlign:"center",margin:0},children:u("gameOver.finalScore",{score:t.toLocaleString()})}),s&&k.jsx("div",{style:{textAlign:"center",color:"#FFD700",fontSize:S.fontSize.base,fontWeight:"bold"},children:u("gameOver.checkingLeaderboard")}),o&&k.jsx("div",{style:{textAlign:"center",color:"#FFD700",fontSize:S.fontSize.base,fontWeight:"bold"},children:u("gameOver.savingScore")}),!s&&!o&&a&&!m&&k.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:`clamp(${S.spacing.sm}, 2vh, ${S.spacing.md})`},children:[k.jsx("div",{style:{fontSize:S.fontSize.sm,color:"#FFD700",fontWeight:"bold",textAlign:"center"},children:u("gameOver.topScore")}),k.jsx("input",{type:"text",value:f,onChange:N=>p(N.target.value.slice(0,12)),onKeyPress:y,placeholder:u("gameOver.enterName"),autoFocus:!0,style:{...h,border:"2px solid #FFD700",textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",outline:"none"}}),k.jsx(Te,{onClick:g,variant:"primary",size:"md",disabled:o||!f.trim(),style:h,children:u(o?"gameOver.saving":"gameOver.saveScore")})]}),a&&m&&k.jsx("div",{style:{fontSize:S.fontSize.base,color:"#4CAF50",fontWeight:"bold",textAlign:"center"},children:u("gameOver.scoreSaved")}),_&&k.jsxs("div",{style:{textAlign:"center",backgroundColor:"rgba(255, 215, 0, 0.1)",padding:S.layout.popupPadding,borderRadius:S.borderRadius.lg,border:"2px solid rgba(255, 215, 0, 0.4)",width:`${l}px`,minWidth:"280px",maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",gap:S.spacing.lg,boxSizing:"border-box",margin:`${S.spacing["2xl"]} 0 ${S.spacing["3xl"]} 0`,position:"relative",zIndex:1,opacity:1,transition:"opacity 0.3s ease-in-out"},children:[k.jsx("div",{style:{fontSize:S.fontSize.base,color:"#FFD700",fontWeight:"bold",textAlign:"center"},children:u("gameOver.skipHighScore")}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,alignItems:"center",width:"100%",padding:`0 ${S.layout.popupContentPadding}`,boxSizing:"border-box"},children:[k.jsx(Te,{onClick:T,variant:"primary",size:"md",style:{...h,width:`calc(${l}px - ${S.layout.popupContentPadding} * 2)`},children:u("gameOver.skipCancel")}),k.jsx(Te,{onClick:b,variant:"warning",size:"md",style:{...h,width:`calc(${l}px - ${S.layout.popupContentPadding} * 2)`},children:u("gameOver.skipConfirm")})]})]}),!_&&k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,alignItems:"center",width:"100%"},children:[k.jsx(Te,{onClick:x,disabled:s||o,variant:"primary",size:"md",style:h,children:u(s||o?"gameOver.pleaseWait":"gameOver.newGame")}),k.jsx(Te,{onClick:C,disabled:s||o,variant:"secondary",size:"md",style:h,children:u(s||o?"gameOver.pleaseWait":"gameOver.mainMenu")})]})]})})},Km=({score:t,x:e,y:n,cellSize:r,onComplete:i})=>{const[s,o]=$.useState(!0);return $.useEffect(()=>{const a=setTimeout(()=>{o(!1),setTimeout(i,50)},700);return()=>clearTimeout(a)},[i]),s?k.jsxs("div",{style:{position:"absolute",left:e+r/2,top:n+r/2,transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1e3,fontSize:"20px",fontWeight:"bold",color:"#FFFFFF",fontFamily:"Arial, sans-serif",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.8), -1px -1px 2px rgba(0, 0, 0, 0.5)",animation:"mergeScoreFloat 0.7s ease-out forwards"},children:["+",t,k.jsx("style",{children:`
        @keyframes mergeScoreFloat {
          0% {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
          }
          20% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.2);
          }
          40% {
            opacity: 1;
            transform: translate(-50%, -60%) scale(1);
          }
          100% {
            opacity: 0;
            transform: translate(-50%, -80%) scale(0.9);
          }
        }
      `})]}):null},sh=()=>{const[t,e]=$.useState(typeof window<"u"?window.innerWidth:768);$.useEffect(()=>{const s=()=>{e(window.innerWidth)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const n=t<768,r=t>=768&&t<1024,i=t>=1024;return{windowWidth:t,isMobile:n,isTablet:r,isDesktop:i}},Ml=({children:t,className:e,allowScroll:n=!0})=>{const{isMobile:r}=sh();return k.jsx("div",{className:e,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100dvh",maxHeight:"100dvh",height:"100dvh",width:"100vw",overflowY:n?"auto":"hidden",overflowX:"hidden",backgroundColor:"#f5f5f5",fontFamily:'system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:r?`clamp(${S.spacing.sm}, 2vh, ${S.spacing.lg})`:`clamp(${S.spacing.md}, 3vh, ${S.spacing.xl})`,boxSizing:"border-box",scrollBehavior:"smooth",position:"relative"},children:k.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:r?"center":"flex-start",width:"100%",maxWidth:S.layout.maxContainerWidth,minHeight:r?"100%":"fit-content",maxHeight:"100%",height:r?"100%":"auto",gap:r?`clamp(${S.spacing.sm}, 1.5vh, ${S.spacing.md})`:`clamp(${S.spacing.md}, 2vh, ${S.spacing.xl})`,position:"relative",zIndex:1},children:t})})},qm=({onGoHome:t,disabled:e=!1,gridWidth:n})=>{const{t:r}=yt();return k.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:S.spacing.lg,width:"100%"},children:k.jsx(Te,{variant:"secondary",size:"sm",fullWidth:!1,onClick:t,disabled:e,style:{width:`${n}px`,minWidth:"280px",maxWidth:"500px",minHeight:S.layout.buttonMinHeight,padding:`clamp(${S.spacing.sm}, 1.5vh, ${S.spacing.md}) ${S.spacing.lg}`,fontSize:"clamp(14px, 3vw, 16px)",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:r("gameControls.home")})})},oh=()=>{const[t,e]=$.useState(typeof window<"u"?window.innerWidth:768);$.useEffect(()=>{const d=()=>{e(window.innerWidth)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const n=typeof navigator<"u"?navigator.userAgent:"",r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),i=typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),s=t<768,o=t>=768&&t<1024,a=r||i&&s,l=i&&o||!r&&i&&o,u=!a&&!l,c=u||!i&&t>=1024;return{isMobile:a,isTablet:l,isDesktop:u,isTouchDevice:i,hasPhysicalKeyboard:c,windowWidth:t}},Jm=({onUndo:t,canUndo:e,disabled:n=!1,allowUndoWhenDisabled:r=!1,gridWidth:i})=>{const{t:s}=yt(),{hasPhysicalKeyboard:o}=oh();return k.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:S.spacing.lg,width:"100%"},children:k.jsx(Te,{variant:"warning",size:"md",fullWidth:!1,onClick:t,disabled:!e||n&&!r,style:{width:`${i}px`,minWidth:"280px",maxWidth:"500px",padding:`clamp(${S.spacing.md}, 2vh, ${S.spacing.lg}) ${S.spacing.lg}`,fontSize:"clamp(14px, 3.5vw, 16px)",fontWeight:"bold",minHeight:S.layout.buttonMinHeight,display:"flex",alignItems:"center",justifyContent:"center"},children:s(o?"gameControls.undoShortcut":"gameControls.undo")})})},Qm=({style:t,showShortcuts:e=!0})=>{const{t:n}=yt(),{hasPhysicalKeyboard:r,isTouchDevice:i}=oh();return k.jsxs("div",{style:{fontSize:S.fontSize.sm,color:"#666",textAlign:"center",lineHeight:"1.4",...t},children:[k.jsx("div",{style:{marginBottom:S.spacing.xs},children:n(i?"controls.touchInstructions":"controls.keyboardInstructions")}),r&&e&&k.jsx("div",{style:{fontSize:S.fontSize.xs,opacity:.8},children:n("controls.keyboardShortcuts")})]})},Ym="modulepreload",Xm=function(t){return"/emoji-fusion/"+t},sc={},yi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Xm(l),l in sc)return;sc[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Ym,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Zm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ev extends Bl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class oc extends Bl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ac extends Bl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ia;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ia||(Ia={}));var tv=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class nv{constructor(e,{headers:n={},customFetch:r,region:i=Ia.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Zm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return tv(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(w=>{throw new ev(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new oc(d);if(!d.ok)throw new ac(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield d.json():p==="application/octet-stream"?m=yield d.blob():p==="text/event-stream"?m=d:p==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof ac||i instanceof oc?i.context:void 0}}})}}var Ie={},Hl={},Ks={},wi={},qs={},Js={},rv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hr=rv();const iv=hr.fetch,ah=hr.fetch.bind(hr),lh=hr.Headers,sv=hr.Request,ov=hr.Response,vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:lh,Request:sv,Response:ov,default:ah,fetch:iv},Symbol.toStringTag,{value:"Module"})),av=Kh(vr);var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});let lv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qs.default=lv;var uh=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const uv=uh(av),cv=uh(Qs);let dv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=uv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,d=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=v:c=JSON.parse(v))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&_&&_.length>1&&(d=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await s.text();try{u=JSON.parse(w),Array.isArray(u)&&s.status===404&&(c=[],u=null,f=200,p="OK")}catch{s.status===404&&w===""?(f=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new cv.default(u)}return{error:u,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Js.default=dv;var fv=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qs,"__esModule",{value:!0});const hv=fv(Js);let pv=class extends hv.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qs.default=pv;var gv=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const mv=gv(qs);let vv=class extends mv.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};wi.default=vv;var yv=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});const Tr=yv(wi);let wv=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Tr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Tr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Tr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Tr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Tr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ks.default=wv;var Ys={},Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.version=void 0;Xs.version="0.0.0-automated";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.DEFAULT_HEADERS=void 0;const Sv=Xs;Ys.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Sv.version}`};var ch=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hl,"__esModule",{value:!0});const _v=ch(Ks),xv=ch(wi),kv=Ys;let Ev=class dh{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},kv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new _v.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new xv.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Hl.default=Ev;var yr=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const fh=yr(Hl);Ie.PostgrestClient=fh.default;const hh=yr(Ks);Ie.PostgrestQueryBuilder=hh.default;const ph=yr(wi);Ie.PostgrestFilterBuilder=ph.default;const gh=yr(qs);Ie.PostgrestTransformBuilder=gh.default;const mh=yr(Js);Ie.PostgrestBuilder=mh.default;const vh=yr(Qs);Ie.PostgrestError=vh.default;var Cv=Ie.default={PostgrestClient:fh.default,PostgrestQueryBuilder:hh.default,PostgrestFilterBuilder:ph.default,PostgrestTransformBuilder:gh.default,PostgrestBuilder:mh.default,PostgrestError:vh.default};const{PostgrestClient:bv,PostgrestQueryBuilder:yw,PostgrestFilterBuilder:ww,PostgrestTransformBuilder:Sw,PostgrestBuilder:_w,PostgrestError:xw}=Cv;function Ov(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Tv=Ov(),jv="2.11.15",Pv=`realtime-js/${jv}`,Rv="1.0.0",yh=1e4,$v=1e3;var Wr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wr||(Wr={}));var ke;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ke||(ke={}));var at;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(at||(at={}));var Na;(function(t){t.websocket="websocket"})(Na||(Na={}));var hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hn||(hn={}));class Lv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class wh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const lc=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Iv(o,t,e,i),s),{})},Iv=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Sh(s,o):Aa(o)},Sh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Dv(e,n)}switch(t){case Y.bool:return Nv(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Av(e);case Y.json:case Y.jsonb:return zv(e);case Y.timestamp:return Fv(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Aa(e);default:return Aa(e)}},Aa=t=>t,Nv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Av=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},zv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Dv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Sh(e,a))}return t},Fv=t=>typeof t=="string"?t.replace(" ","T"):t,_h=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Po{constructor(e,n,r={},i=yh){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uc||(uc={}));class Vr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Vr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(_=>_.presence_ref),p=d.map(_=>_.presence_ref),m=c.filter(_=>p.indexOf(_.presence_ref)<0),w=d.filter(_=>f.indexOf(_.presence_ref)<0);m.length>0&&(a[u]=m),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cc||(cc={}));var dc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(dc||(dc={}));var Et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class Wl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Po(this,at.join,this.params,this.timeout),this.rejoinTimer=new wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Vr(this),this.broadcastEndpointURL=_h(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ke.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Et.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Et.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Et.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,m=[];for(let w=0;w<p;w++){const _=f[w],{filter:{event:v,schema:h,table:g,filter:y}}=_,x=c&&c[w];if(x&&x.event===v&&x.schema===h&&x.table===g&&x.filter===y)m.push(Object.assign(Object.assign({},_),{id:x.id}));else{this.unsubscribe(),this.state=ke.errored,e==null||e(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Et.SUBSCRIBED);return}}).receive("error",c=>{this.state=ke.errored,e==null||e(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ke.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Po(this,at.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Po(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=at;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,w,_;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((_=(w=p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,w,_,v,h,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const y=p.id,x=(m=p.filter)===null||m===void 0?void 0:m.event;return y&&((w=n.ids)===null||w===void 0?void 0:w.includes(y))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const y=(h=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return y==="*"||y===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:_,commit_timestamp:v,type:h,errors:g}=m;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:v,eventType:h,new:{},old:{},errors:g}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Wl.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(at.close,{},e)}_onError(e){this._on(at.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=lc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=lc(e.columns,e.old_record)),n}}const fc=()=>{},Uv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mv{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new Lv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>yi(async()=>{const{default:l}=await Promise.resolve().then(()=>vr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Na.websocket}`,this.httpEndpoint=_h(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Tv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wr.connecting:return hn.Connecting;case Wr.open:return hn.Open;case Wr.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Wl(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Pv};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(at.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close($v,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(at.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Uv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Vl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Bv extends Vl{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class za extends Vl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Hv=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Wv=()=>Hv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>vr),void 0)).Response:Response}),Da=t=>{if(Array.isArray(t))return t.map(n=>Da(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Da(r)}),e};var Tn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vv=(t,e,n)=>Tn(void 0,void 0,void 0,function*(){const r=yield Wv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Bv(Ro(i),t.status||500))}).catch(i=>{e(new za(Ro(i),i))}):e(new za(Ro(t),t))}),Gv=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Si(t,e,n,r,i,s){return Tn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Gv(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Vv(l,a,r))})})}function bs(t,e,n,r){return Tn(this,void 0,void 0,function*(){return Si(t,"GET",e,n,r)})}function Ut(t,e,n,r,i){return Tn(this,void 0,void 0,function*(){return Si(t,"POST",e,r,i,n)})}function Kv(t,e,n,r,i){return Tn(this,void 0,void 0,function*(){return Si(t,"PUT",e,r,i,n)})}function qv(t,e,n,r){return Tn(this,void 0,void 0,function*(){return Si(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function kh(t,e,n,r,i){return Tn(this,void 0,void 0,function*(){return Si(t,"DELETE",e,r,i,n)})}var $e=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Jv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qv{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=xh(i)}uploadOrUpdate(e,n,r,i){return $e(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},hc),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(he(s))return{data:null,error:s};throw s}})}upload(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return $e(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:hc.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(he(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ut(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Vl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}copy(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return $e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ut(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return $e(this,void 0,void 0,function*(){try{const i=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}download(e,n){return $e(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield bs(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}info(e){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield bs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Da(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(e){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield qv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof za){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}list(e,n,r){return $e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Jv),n),{prefix:e||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Yv="2.7.1",Xv={"X-Client-Info":`storage-js/${Yv}`};var $n=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Zv{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Xv),n),this.fetch=xh(r)}listBuckets(){return $n(this,void 0,void 0,function*(){try{return{data:yield bs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return $n(this,void 0,void 0,function*(){try{return{data:yield bs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return $n(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return $n(this,void 0,void 0,function*(){try{return{data:yield Kv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return $n(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $n(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}}class ey extends Zv{constructor(e,n={},r){super(e,n,r)}from(e){return new Qv(this.url,this.headers,e,this.fetch)}}const ty="2.52.1";let Ir="";typeof Deno<"u"?Ir="deno":typeof document<"u"?Ir="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ir="react-native":Ir="node";const ny={"X-Client-Info":`supabase-js-${Ir}/${ty}`},ry={headers:ny},iy={schema:"public"},sy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oy={};var ay=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ly=t=>{let e;return t?e=t:typeof fetch>"u"?e=ah:e=fetch,(...n)=>e(...n)},uy=()=>typeof Headers>"u"?lh:Headers,cy=(t,e,n)=>{const r=ly(n),i=uy();return(s,o)=>ay(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var dy=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function fy(t){return t.endsWith("/")?t:t+"/"}function hy(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>dy(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Eh="2.71.1",Fn=30*1e3,Fa=3,$o=Fa*Fn,py="http://localhost:9999",gy="supabase.auth.token",my={"X-Client-Info":`gotrue-js/${Eh}`},Ua="X-Supabase-Api-Version",Ch={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yy=10*60*1e3;class Gl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wy extends Gl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Sy(t){return M(t)&&t.name==="AuthApiError"}class bh extends Gl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class on extends Gl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class At extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _y(t){return M(t)&&t.name==="AuthSessionMissingError"}class Di extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fi extends on{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ui extends on{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xy(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class pc extends on{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ma extends on{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Lo(t){return M(t)&&t.name==="AuthRetryableFetchError"}class gc extends on{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ba extends on{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mc=` 	
\r=`.split(""),ky=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mc.length;e+=1)t[mc[e].charCodeAt(0)]=-2;for(let e=0;e<Os.length;e+=1)t[Os[e].charCodeAt(0)]=e;return t})();function vc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Os[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Os[r]),e.queuedBits-=6}}function Oh(t,e,n){const r=ky[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function yc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{by(o,r,n)};for(let o=0;o<t.length;o+=1)Oh(t.charCodeAt(o),i,s);return e.join("")}function Ey(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Cy(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Ey(r,e)}}function by(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Oy(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Oh(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Ty(t){const e=[];return Cy(t,n=>e.push(n)),new Uint8Array(e)}function jy(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>vc(i,n,r)),vc(null,n,r),e.join("")}function Py(t){return Math.round(Date.now()/1e3)+t}function Ry(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",ln={tested:!1,writable:!1},Th=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ln.tested)return ln.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ln.tested=!0,ln.writable=!0}catch{ln.tested=!0,ln.writable=!1}return ln.writable};function $y(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const jh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ly=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Un=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},un=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nt=async(t,e)=>{await t.removeItem(e)};class Zs{constructor(){this.promise=new Zs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Zs.promiseConstructor=Promise;function Io(t){const e=t.split(".");if(e.length!==3)throw new Ba("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!vy.test(e[r]))throw new Ba("JWT not in base64url format");return{header:JSON.parse(yc(e[0])),payload:JSON.parse(yc(e[1])),signature:Oy(e[2]),raw:{header:e[0],payload:e[1]}}}async function Iy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ny(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Ay(t){return("0"+t.toString(16)).substr(-2)}function zy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Ay).join("")}async function Dy(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Fy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Dy(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ln(t,e,n=!1){const r=zy();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Un(t,`${e}-code-verifier`,i);const s=await Fy(r);return[s,r===s?"plain":"s256"]}const Uy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function My(t){const e=t.headers.get(Ua);if(!e||!e.match(Uy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function By(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Hy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(t){if(!Wy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function No(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wc(t){return JSON.parse(JSON.stringify(t))}var Vy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gy=[502,503,504];async function Sc(t){var e;if(!Ly(t))throw new Ma(fn(t),0);if(Gy.includes(t.status))throw new Ma(fn(t),t.status);let n;try{n=await t.json()}catch(s){throw new bh(fn(s),s)}let r;const i=My(t);if(i&&i.getTime()>=Ch["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gc(fn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new gc(fn(n),t.status,n.weak_password.reasons);throw new wy(fn(n),t.status||500,r)}const Ky=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function H(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ua]||(s[Ua]=Ch["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await qy(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qy(t,e,n,r,i,s){const o=Ky(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Ma(fn(l),0)}if(a.ok||await Sc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Sc(l)}}function xt(t){var e;let n=null;Xy(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Py(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function _c(t){const e=xt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ht(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jy(t){return{data:t,error:null}}function Qy(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=Vy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Yy(t){return t}function Xy(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ao=["global","local","others"];var Zy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class e0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=jh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ao[0]){if(Ao.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ao.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ht})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Zy(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Qy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ht})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Yy});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){In(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ht})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){In(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ht})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){In(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ht})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){In(e.userId);try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteFactor(e){In(e.userId),In(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}function xc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function t0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&Th()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ph extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n0 extends Ph{}async function r0(t,e,n){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new n0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}t0();const i0={url:py,storageKey:gy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:my,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kc(t,e,n){return await n()}const An={};class ci{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ci.nextInstanceID,ci.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},i0),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new e0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jh(i.fetch),this.lock=i.lock||kc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:it()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=r0:this.lock=kc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Th()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=xc(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=An[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=An[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Eh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$y(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),it()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),xy(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return M(n)?{error:n}:{error:new bh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xt}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ln(this.storage,this.storageKey)),s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:xt})}else if("phone"in e){const{phone:c,password:d,options:f}=e;s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xt})}else throw new Fi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else throw new Fi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Di}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,o,a,l,u,c,d,f,p;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:_,wallet:v,statement:h,options:g}=e;let y;if(it())if(typeof v=="object")y=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))y=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=v}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const C=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),h?{statement:h}:null));let b;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")b=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)b=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)m=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),w=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${x.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const C=await y.signMessage(new TextEncoder().encode(m),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=C}}try{const{data:_,error:v}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:jy(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xt});if(v)throw v;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Di}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:v})}catch(_){if(M(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await un(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xt});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Di}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(M(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Di}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ln(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Fi("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ln(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Jy})}catch(s){if(M(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new At;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Fi("You must provide either an email or phone number and a type")}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<$o:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await un(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=No()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ht}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ht})})}catch(n){if(M(n))return _y(n)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new At;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ln(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ht});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Io(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(M(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!it())throw new Ui("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ui(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pc("No code detected.");const{data:h,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Ui("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const p=f-c;p*1e3<=Fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ry(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ln(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(M(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return it()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ny(async i=>(i>0&&await Iy(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Lo(s)&&Date.now()+o-r<Fn})}catch(r){if(this._debug(n,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),it()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await un(this.storage,this.storageKey);if(i&&this.userStorage){let o=await un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Un(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:No()}else if(i&&!i.user&&!i.user){const o=await un(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Nt(this.storage,this.storageKey+"-user"),await Un(this.storage,this.storageKey,i)):i.user=No()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<$o;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${$o}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Lo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zs;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new At;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),M(s)){const o={session:null,error:s};return Lo(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Un(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=wc(i);await Un(this.storage,this.storageKey,s)}else{const i=wc(n);await Un(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fn}ms, refresh threshold is ${Fa} ticks`),i<=Fa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ph)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ln(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Io(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+yy>i)return r;const{data:s,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Io(r);n!=null&&n.allowExpired||By(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const c=Hy(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Ty(`${a}.${l}`)))throw new Ba("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}ci.nextInstanceID=0;const s0=ci;class o0 extends s0{constructor(e){super(e)}}var a0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class l0{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=fy(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:iy,realtime:oy,auth:Object.assign(Object.assign({},sy),{storageKey:u}),global:ry},d=hy(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=cy(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new bv(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new nv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ey(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return a0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o0({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Mv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u0=(t,e,n)=>new l0(t,e,n);function c0(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}c0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d0="https://cmyhfwogyzpmpyrxkahl.supabase.co",f0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNteWhmd29neXpwbXB5cnhrYWhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NTc0MDcsImV4cCI6MjA2OTAzMzQwN30.FdKq0u43jrHxUZZiUv6HJd8h-cd-TjnCRwGuhamReAc",Rh=u0(d0,f0),jn={HIGH_SCORE:"emoji-fusion-high-score",LEADERBOARD:"emoji-fusion-leaderboard",SAVED_GAME:"emoji-fusion-saved-game"},h0=()=>{try{const t=localStorage.getItem(jn.HIGH_SCORE);return t?parseInt(t,10):0}catch(t){return console.warn("Failed to read high score from localStorage:",t),0}},p0=t=>{try{localStorage.setItem(jn.HIGH_SCORE,t.toString())}catch(e){console.warn("Failed to save high score to localStorage:",e)}},eo=async()=>{try{const{data:t,error:e}=await Rh.from("leaderboard").select("*").order("score",{ascending:!1}).limit(100);return e?(console.warn("Failed to fetch leaderboard from Supabase:",e),[]):t.map((n,r)=>({score:n.score,name:n.name,rank:r+1,highestTile:n.tile}))}catch(t){return console.warn("Failed to read leaderboard from Supabase:",t),[]}},Ha=async(t,e="Anonymous",n=1)=>{try{const r=e.trim()||"Anonymous",{error:i}=await Rh.from("leaderboard").insert({name:r,score:t,tile:n});return i?(console.warn("Failed to save leaderboard entry to Supabase:",i),!1):(await eo()).some(o=>o.score===t&&o.name===r)}catch(r){return console.warn("Failed to save leaderboard to Supabase:",r),!1}},g0=async t=>{var n;const e=await eo();return e.length<100||t>((n=e[e.length-1])==null?void 0:n.score)},m0=t=>{try{localStorage.setItem(jn.SAVED_GAME,JSON.stringify(t))}catch(e){console.warn("Failed to save game state to localStorage:",e)}},wr=()=>{try{const t=localStorage.getItem(jn.SAVED_GAME);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read saved game state from localStorage:",t),null}},pn=()=>{try{localStorage.removeItem(jn.SAVED_GAME)}catch(t){console.warn("Failed to clear saved game state from localStorage:",t)}},$h=()=>{const t=wr();return t!==null&&!t.gameFinalized},Mi=()=>{const t=wr();return t!==null&&t.gameFinalized===!0},sr=()=>{const t=wr();if(t){const e={...t,gameFinalized:!0,canUndoAfterGameOver:!1};try{localStorage.setItem(jn.SAVED_GAME,JSON.stringify(e))}catch(n){console.warn("Failed to finalize game state:",n)}}},Bi=()=>{const t=wr();return(t==null?void 0:t.canUndoAfterGameOver)===!0},zn=t=>{const e=wr();if(e){const n={...e,canUndoAfterGameOver:t};try{localStorage.setItem(jn.SAVED_GAME,JSON.stringify(n))}catch(r){console.warn("Failed to update undo-after-game-over flag:",r)}}},v0=({onMove:t,onUndo:e,onRestart:n,disabled:r=!1,canUndo:i=!1})=>{const s=$.useRef({isPressed:!1,startTime:0,timeoutId:null}),[o,a]=$.useState(0),[l,u]=$.useState(!1),c=$.useRef(null),d=$.useCallback(p=>{if(r)return;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d","W","A","S","D","u","U","r","R"].includes(p.key)&&p.preventDefault(),t)switch(p.key){case"ArrowUp":case"w":case"W":t("up");return;case"ArrowDown":case"s":case"S":t("down");return;case"ArrowLeft":case"a":case"A":t("left");return;case"ArrowRight":case"d":case"D":t("right");return}if((p.key==="u"||p.key==="U")&&e&&i){e();return}p.key==="r"||p.key},[r,t,e,n,i]),f=$.useCallback(p=>{r||(p.key==="r"||p.key==="R")&&s.current.isPressed&&(s.current.isPressed=!1,u(!1),a(0),s.current.timeoutId&&(clearTimeout(s.current.timeoutId),s.current.timeoutId=null),c.current&&(clearInterval(c.current),c.current=null))},[r]);return $.useEffect(()=>(window.addEventListener("keydown",d),window.addEventListener("keyup",f),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",f),s.current.timeoutId&&clearTimeout(s.current.timeoutId),c.current&&clearInterval(c.current)}),[d,f]),{restartProgress:o,isRestartInProgress:l}},y0=({onSwipe:t,disabled:e=!1,minSwipeDistance:n=30,maxSwipeTime:r=1e3,element:i})=>{const s=$.useRef(null),o=$.useRef(!1);$.useEffect(()=>{o.current="ontouchstart"in window||navigator.maxTouchPoints>0},[]);const a=$.useCallback(d=>{const f=d;if(e||!t)return;if(f.touches.length!==1){s.current=null;return}const p=f.touches[0];s.current={x:p.clientX,y:p.clientY,timestamp:Date.now()},d.preventDefault()},[e,t]),l=$.useCallback(d=>{const f=d;if(e||!t||!s.current)return;if(f.changedTouches.length!==1){s.current=null;return}const p=f.changedTouches[0],m={x:p.clientX,y:p.clientY,timestamp:Date.now()},w=s.current;s.current=null;const _=m.timestamp-w.timestamp;if(_>r)return;const v=m.x-w.x,h=m.y-w.y,g=Math.abs(v),y=Math.abs(h),x=Math.max(g,y);if(x<n)return;let C;g>y?C=v>0?"right":"left":C=h>0?"down":"up",console.log(` Touch swipe detected: ${C} (${x}px in ${_}ms)`),t(C),d.preventDefault()},[e,t,n,r]),u=$.useCallback(d=>{e||!s.current||s.current&&d.preventDefault()},[e]),c=$.useCallback(()=>{s.current=null},[]);return $.useEffect(()=>{if(e||!o.current)return;const d=(i==null?void 0:i.current)||document,f={passive:!1},p={passive:!1},m={passive:!1};return d.addEventListener("touchstart",a,f),d.addEventListener("touchmove",u,p),d.addEventListener("touchend",l,m),d.addEventListener("touchcancel",c,{passive:!0}),()=>{d.removeEventListener("touchstart",a),d.removeEventListener("touchmove",u),d.removeEventListener("touchend",l),d.removeEventListener("touchcancel",c)}},[e,a,u,l,c,i]),{isTouchDevice:o.current,isSwipeInProgress:s.current!==null}},Wa=t=>{const e=[];for(let n=0;n<4;n++)for(let r=0;r<4;r++)t[n][r]||e.push({row:n,col:r});return e},Va=()=>Math.random()<.1?2:1,Ec=()=>{const t=Array(4).fill(null).map(()=>Array(4).fill(null)),e=Wa(t),n=Math.floor(Math.random()*e.length),r=e[n];t[r.row][r.col]={id:1,level:Va(),row:r.row,col:r.col,justSpawned:!0},e.splice(n,1);const i=Math.floor(Math.random()*e.length),s=e[i];return t[s.row][s.col]={id:2,level:Va(),row:s.row,col:s.col,justSpawned:!0},t},w0=({onBackToStart:t,shouldLoadSavedGame:e,onPendingScore:n})=>{const r=$.useRef(null),i=A=>{let j=1;for(let q=0;q<4;q++)for(let E=0;E<4;E++){const D=A[q][E];D&&D.level>j&&(j=D.level)}return j},o=(()=>{if(e){const A=wr();if(A)return A.canUndoAfterGameOver&&zn(!0),{grid:A.grid,nextId:A.nextId,score:A.score,previousState:A.previousState||null,preRestartState:A.preRestartState||null,canUndo:A.canUndo||!1,wasRestartedViaHold:A.wasRestartedViaHold||!1,isGameOver:A.isGameOver||!1}}return{grid:Ec(),nextId:3,score:0,previousState:null,preRestartState:null,canUndo:!1,wasRestartedViaHold:!1,isGameOver:!1}})(),[a,l]=$.useState(o.grid),[u,c]=$.useState(o.nextId),[d,f]=$.useState(o.isGameOver),[p,m]=$.useState(o.score),[w,_]=$.useState([]),[v,h]=$.useState(o.previousState),[g,y]=$.useState(o.canUndo),[x,C]=$.useState(o.wasRestartedViaHold),[b,T]=$.useState(o.preRestartState),[N,P]=$.useState(null),[V,Se]=$.useState(!1),[oe,ae]=$.useState(i(o.grid)),[wt,ce]=$.useState(!1),[me,L]=$.useState(!1),z=(A,j,q)=>{const E=q*(Fe+G),D=j*(Fe+G),R=`${Date.now()}-${Math.random()}`;_(Ue=>[...Ue,{id:R,score:A,x:E,y:D}])},U=A=>{_(j=>j.filter(q=>q.id!==A))},B=async A=>{if(!wt){ce(!0);try{await g0(A)?(P(A),n==null||n(A)):Se(!0)}catch(j){console.error("Error checking if score qualifies for leaderboard:",j),Se(!0)}finally{ce(!1)}}},Q=()=>{const A={grid:a,score:p,nextId:u,isPaused:!1,timestamp:Date.now(),previousState:v,preRestartState:b,canUndo:g,wasRestartedViaHold:x,isGameOver:d,canUndoAfterGameOver:Bi()};m0(A)},Ke=async A=>{if(N!==null&&!me){L(!0);try{await Ha(N,A,oe)?(Se(!0),P(null),n==null||n(null),sr(),h(null),y(!1),T(null),C(!1),zn(!1)):console.error("Failed to save score to leaderboard")}catch(j){console.error("Error saving score to leaderboard:",j)}finally{L(!1)}}},qe=()=>{P(null),n==null||n(null),sr(),h(null),y(!1),T(null),C(!1),zn(!1)},St=()=>{const A=Mi(),j=Bi();g&&!V&&!A||d&&j&&!V&&!A?x&&b?(console.log(" GameBoard: Undoing restart via hold - restoring pre-restart state"),l(b.grid),m(b.score),c(b.nextId),T(null),C(!1),y(!1),_([]),f(!1),P(null),Se(!1),ae(i(b.grid)),n==null||n(null),zn(!1)):v&&(console.log(" GameBoard: Undoing regular move"+(d?" (after game over)":"")),l(v.grid),m(v.score),c(v.nextId),h(null),y(!1),_([]),f(!1),P(null),Se(!1),ae(i(v.grid)),n==null||n(null),zn(!1)):console.log(" GameBoard: Undo not available")},_t=A=>{var j,q;if(Wa(A).length>0)return!0;for(let E=0;E<4;E++)for(let D=0;D<4;D++){const R=A[E][D];if(R&&(D<3&&((j=A[E][D+1])==null?void 0:j.level)===R.level||E<3&&((q=A[E+1][D])==null?void 0:q.level)===R.level))return!0}return!1},Pn=A=>!_t(A),Nh=()=>{pn(),l(Ec()),c(3),m(0),f(!1),_([]),h(null),y(!1),P(null),Se(!1),ae(1),n==null||n(null),C(!1),T(null)},Ah=()=>{sr(),Nh(),t()},zh=()=>{d||pn(),t()},Dh=A=>{const j=Wa(A);if(j.length===0)return A;const q=j[Math.floor(Math.random()*j.length)],E=A.map(D=>[...D]);return E[q.row][q.col]={id:u,level:Va(),row:q.row,col:q.col,justSpawned:!0},c(D=>D+1),E},Kl=A=>{h({grid:a.map(E=>[...E]),score:p,nextId:u});const j=a.map(E=>[...E]);let q=!1;if(j.forEach(E=>E.forEach(D=>{D&&(D.merged=!1,D.justMerged=!1,D.justSpawned=!1)})),A==="left"){for(let E=0;E<4;E++)for(let D=1;D<4;D++)if(j[E][D]){let R=D;for(;R>0;)if(!j[E][R-1])j[E][R-1]={...j[E][R],col:R-1},j[E][R]=null,R--,q=!0;else if(j[E][R-1].level===j[E][R].level&&!j[E][R-1].merged&&!j[E][R].merged){const Ue=j[E][R-1].level+1,nt=Math.pow(2,Ue);j[E][R-1]={...j[E][R-1],level:Ue,merged:!0,justMerged:!0},m(an=>an+nt),z(nt,E,R-1),j[E][R]=null,q=!0;break}else break}}else if(A==="right"){for(let E=0;E<4;E++)for(let D=2;D>=0;D--)if(j[E][D]){let R=D;for(;R<3;)if(!j[E][R+1])j[E][R+1]={...j[E][R],col:R+1},j[E][R]=null,R++,q=!0;else if(j[E][R+1].level===j[E][R].level&&!j[E][R+1].merged&&!j[E][R].merged){const Ue=j[E][R+1].level+1,nt=Math.pow(2,Ue);j[E][R+1]={...j[E][R+1],level:Ue,merged:!0,justMerged:!0},m(an=>an+nt),z(nt,E,R+1),j[E][R]=null,q=!0;break}else break}}else if(A==="up"){for(let E=0;E<4;E++)for(let D=1;D<4;D++)if(j[D][E]){let R=D;for(;R>0;)if(!j[R-1][E])j[R-1][E]={...j[R][E],row:R-1},j[R][E]=null,R--,q=!0;else if(j[R-1][E].level===j[R][E].level&&!j[R-1][E].merged&&!j[R][E].merged){const Ue=j[R-1][E].level+1,nt=Math.pow(2,Ue);j[R-1][E]={...j[R-1][E],level:Ue,merged:!0,justMerged:!0},m(an=>an+nt),z(nt,R-1,E),j[R][E]=null,q=!0;break}else break}}else if(A==="down"){for(let E=0;E<4;E++)for(let D=2;D>=0;D--)if(j[D][E]){let R=D;for(;R<3;)if(!j[R+1][E])j[R+1][E]={...j[R][E],row:R+1},j[R][E]=null,R++,q=!0;else if(j[R+1][E].level===j[R][E].level&&!j[R+1][E].merged&&!j[R][E].merged){const Ue=j[R+1][E].level+1,nt=Math.pow(2,Ue);j[R+1][E]={...j[R+1][E],level:Ue,merged:!0,justMerged:!0},m(an=>an+nt),z(nt,R+1,E),j[R][E]=null,q=!0;break}else break}}if(q){const E=Dh(j);l(E),y(!0);const D=i(E);if(D>oe&&ae(D),x&&(C(!1),T(null)),Pn(E)){f(!0),zn(!0);const R=h0();p>R&&p0(p),B(p)}}else h(null)};v0({onMove:Kl,onUndo:St,onRestart:void 0,disabled:d,canUndo:g}),y0({onSwipe:Kl,disabled:d,minSwipeDistance:30,maxSwipeTime:1e3,element:r}),$.useEffect(()=>{d||Q()},[a,p,u]);const Fh=()=>{const A=[];return a.forEach((j,q)=>{j.forEach((E,D)=>{E&&((E.row!==q||E.col!==D)&&(console.log(`Tile position mismatch: tile says (${E.row}, ${E.col}) but is at grid position (${q}, ${D})`),E.row=q,E.col=D),A.push(E))})}),A},Uh=100,no=typeof window<"u"?window.innerWidth:800,Mh=typeof window<"u"?window.innerHeight:600,Bh=Math.max(no-100,320),Hh=Math.max(Mh-350,280),Wh=Math.min(Uh,Math.floor((Bh-3*G)/4),Math.floor((Hh-3*G)/4)),Vh=no<480?50:no<768?65:75,Fe=Math.max(Wh,Vh);return k.jsxs(Ml,{allowScroll:!1,children:[k.jsx("div",{style:{fontSize:S.fontSize["2xl"],fontWeight:"bold",color:"#333",margin:"0",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Emoji Fusion"}),k.jsxs("div",{style:{fontSize:S.fontSize.lg,color:"#666",margin:"0",textAlign:"center",fontWeight:"600"},children:["Score: ",p.toLocaleString()]}),k.jsx(qm,{onGoHome:t,disabled:d,gridWidth:(Fe+G)*4-G}),k.jsxs("div",{ref:r,className:"game-container",style:{position:"relative",width:(Fe+G)*4-G,height:(Fe+G)*4-G,margin:"0 auto",isolation:"isolate",minWidth:"280px",minHeight:"280px",maxWidth:"min(90vw, 500px)",maxHeight:"min(45vh, 500px)",flex:"0 0 auto"},children:[a.map((A,j)=>A.map((q,E)=>k.jsx("div",{style:{position:"absolute",left:E*(Fe+G),top:j*(Fe+G),width:Fe,height:Fe,border:`${Um}px solid ${Mm}`,borderRadius:rh,backgroundColor:Bm,boxSizing:"border-box",zIndex:1}},`${j}-${E}`))),Fh().map(A=>k.jsx(Wm,{tile:A,cellSize:Fe},A.id)),w.map(A=>k.jsx(Km,{score:A.score,x:A.x,y:A.y,cellSize:Fe,onComplete:()=>U(A.id)},A.id)),d&&k.jsx(Gm,{score:p,onRestart:Ah,onMainMenu:zh,onNameSubmit:Ke,onSkipHighScore:qe,isCheckingScore:wt,isSavingScore:me,qualifiesForLeaderboard:N!==null,gridWidth:(Fe+G)*4-G})]}),k.jsx(Jm,{onUndo:St,canUndo:g&&!V&&!Mi()||d&&Bi()&&!V&&!Mi(),disabled:d,allowUndoWhenDisabled:d&&Bi()&&!V&&!Mi(),gridWidth:(Fe+G)*4-G}),k.jsx(Qm,{style:{maxWidth:"90%",opacity:.8}})]})},S0=({style:t})=>{const{t:e}=yt(),[n,r]=$.useState(null),[i,s]=$.useState(!0);$.useEffect(()=>{(async()=>{s(!0);try{const u=await eo();r(u.length>0?u[0]:null)}catch(u){console.error("Failed to load high score:",u),r(null)}finally{s(!1)}})()},[]);const o=ih.md,a={width:"100%",minHeight:o.minHeight,padding:o.padding,fontSize:o.fontSize,fontWeight:"bold",borderRadius:o.borderRadius,background:"rgba(255, 215, 0, 0.1)",color:"#B8860B",border:"2px solid rgba(255, 215, 0, 0.3)",boxShadow:S.boxShadow.base,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${S.transition.base}`,cursor:"default",userSelect:"none",...t};return i?k.jsx("div",{style:a,children:" Loading..."}):n?k.jsx("div",{style:a,children:e("startScreen.globalHighScore",{score:n.score.toLocaleString()})}):k.jsx("div",{style:a,children:e("startScreen.noScoresYet")})},_0=({onStartGame:t,onContinueGame:e,onShowLeaderboard:n})=>{const{t:r}=yt(),i=$h(),o=(()=>{const l=typeof window<"u"?window.innerWidth:800,u=typeof window<"u"?window.innerHeight:600,c=Math.max(l-100,320),d=Math.max(u-350,280),f=Math.min(100,Math.floor((c-3*G)/4),Math.floor((d-3*G)/4)),p=l<480?50:l<768?65:75;return(Math.max(f,p)+G)*4-G})();return k.jsxs(Ml,{children:[k.jsx("div",{style:{fontSize:S.fontSize["4xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:r("app.title")}),k.jsx("div",{style:{fontSize:S.fontSize.base,color:"#666",textAlign:"center",maxWidth:"90%",lineHeight:"1.5",margin:"0"},children:r("app.description")}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.lg,alignItems:"center",width:"100%",maxWidth:`${o}px`},children:[k.jsx(S0,{}),k.jsx(Te,{onClick:t,variant:"primary",style:{width:`${o}px`,minWidth:"280px",maxWidth:"500px"},children:r("startScreen.startNewGame")}),k.jsx(Te,{onClick:e,disabled:!i,variant:"secondary",style:{width:`${o}px`,minWidth:"280px",maxWidth:"500px"},children:r("startScreen.continueGame")}),k.jsx(Te,{onClick:n,variant:"secondary",style:{width:`${o}px`,minWidth:"280px",maxWidth:"500px"},children:r("startScreen.leaderboard")})]})]})},x0=t=>t||"Anonymous",k0=({onBackToHome:t})=>{const{t:e}=yt(),[n,r]=$.useState([]),[i,s]=$.useState(!0),{isMobile:o}=sh(),l=(()=>{const d=typeof window<"u"?window.innerWidth:800,f=typeof window<"u"?window.innerHeight:600,p=Math.max(d-100,320),m=Math.max(f-350,280),w=Math.min(100,Math.floor((p-3*G)/4),Math.floor((m-3*G)/4)),_=d<480?50:d<768?65:75;return(Math.max(w,_)+G)*4-G})();$.useEffect(()=>{(async()=>{s(!0);try{const d=await eo();r(d)}catch(d){console.error("Failed to load leaderboard:",d)}finally{s(!1)}})()},[]);const u=n.slice(0,100);return k.jsxs(Ml,{children:[k.jsx("div",{style:{fontSize:S.fontSize["3xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:e("leaderboard.title")}),k.jsx("div",{style:{width:"100%",maxWidth:o?"100%":"500px",backgroundColor:"white",borderRadius:S.borderRadius.xl,boxShadow:S.boxShadow.overlay,padding:o?`${S.spacing.lg} ${S.spacing.md}`:`clamp(${S.spacing.xl}, 4vh, ${S.spacing["3xl"]})`,minHeight:"clamp(300px, 50vh, 400px)",maxHeight:"60vh",display:"flex",flexDirection:"column",overflowY:"auto",margin:"0"},children:i?k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[k.jsx("div",{style:{fontSize:S.fontSize["4xl"],marginBottom:S.spacing.lg},children:""}),k.jsx("div",{style:{fontSize:S.fontSize.lg,fontWeight:"bold",color:"#333"},children:e("leaderboard.loading")})]}):u.length>0?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",color:"#333",textAlign:"center",marginBottom:S.spacing.xl},children:e("leaderboard.topScores")}),k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,flex:1},children:u.map((c,d)=>{const f=d===0,p=d<3;return k.jsxs("div",{style:{position:"relative",display:"grid",gridTemplateColumns:o?"32px 1fr 60px 80px":"40px 1fr 80px 100px",alignItems:"center",gap:o?S.spacing.sm:S.spacing.md,padding:o?`${S.spacing.md} ${S.spacing.sm}`:`${S.spacing.lg} ${S.spacing.xl}`,backgroundColor:f?"rgba(255, 215, 0, 0.12)":p?"rgba(76, 175, 80, 0.06)":"rgba(248, 249, 250, 0.8)",borderRadius:S.borderRadius.lg,border:f?"1px solid rgba(255, 215, 0, 0.3)":p?"1px solid rgba(76, 175, 80, 0.15)":"1px solid rgba(0, 0, 0, 0.06)",transition:`transform ${S.transition.base}`},onMouseOver:m=>{m.currentTarget.style.transform="translateY(-2px)"},onMouseOut:m=>{m.currentTarget.style.transform="translateY(0)"},children:[k.jsx("div",{style:{fontSize:o?S.fontSize.base:S.fontSize.lg,fontWeight:"bold",textAlign:"center",color:f?"#FFD700":d===1?"#C0C0C0":d===2?"#CD7F32":"#666",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:f?"":d===1?"":d===2?"":`#${c.rank}`}),k.jsx("div",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,fontWeight:"500",color:"#333",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:"0"},children:k.jsx("span",{lang:"und",suppressHydrationWarning:!0,children:x0(c.name)})}),k.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:S.spacing.xs,color:"#666",fontWeight:"500",fontSize:o?S.fontSize.xs:S.fontSize.sm,textAlign:"center",width:"100%",position:"relative"},children:[k.jsx("span",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,lineHeight:"1"},children:nh.get(c.highestTile||1)||""}),k.jsx("span",{style:{fontSize:o?S.fontSize.xs:S.fontSize.sm,lineHeight:"1",minWidth:o?"16px":"20px",textAlign:"left"},children:c.highestTile||1})]}),k.jsx("div",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,fontWeight:"600",color:"#333",textAlign:"right",whiteSpace:"nowrap",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:c.score.toLocaleString()})]},`${c.score}-${c.name}-${d}`)})})]}):k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[k.jsx("div",{style:{fontSize:S.fontSize["4xl"],marginBottom:S.spacing.lg},children:""}),k.jsx("div",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",marginBottom:S.spacing.sm,color:"#333"},children:e("leaderboard.noScores")}),k.jsx("div",{style:{fontSize:S.fontSize.base,lineHeight:"1.5"},children:e("leaderboard.noScoresDescription")})]})}),k.jsx("div",{style:{width:"100%",maxWidth:`${l}px`},children:k.jsx(Te,{onClick:t,variant:"secondary",style:{width:`${l}px`,minWidth:"280px",maxWidth:"500px"},children:e("leaderboard.home")})})]})},Cc=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmText:s,cancelText:o,gridWidth:a=320,confirmVariant:l="primary"})=>{const{t:u}=yt();return t?k.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,fontFamily:"Arial, sans-serif"},children:k.jsxs("div",{style:{backgroundColor:"white",borderRadius:S.borderRadius.xl,padding:S.layout.popupPadding,boxShadow:S.boxShadow.xl,width:"fit-content",minWidth:`${Math.max(a+48,328)}px`,maxWidth:"548px",textAlign:"center",border:"2px solid rgba(0, 0, 0, 0.1)",boxSizing:"border-box"},children:[k.jsx("h3",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",color:"#333",marginBottom:S.spacing.lg,marginTop:0},children:e}),k.jsx("p",{style:{fontSize:S.fontSize.base,color:"#666",lineHeight:"1.5",marginBottom:S.spacing["3xl"],marginTop:0},children:n}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,alignItems:"center",width:"100%",padding:`0 ${S.layout.popupContentPadding}`,boxSizing:"border-box"},children:[k.jsx(Te,{onClick:i,variant:"primary",size:"md",fullWidth:!1,style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:S.fontSize.base,fontWeight:"bold",borderRadius:S.borderRadius.lg,padding:`${S.spacing.md} ${S.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},children:o||u("confirmDialog.cancel")}),k.jsx(Te,{onClick:r,variant:l==="warning"?"warning":"primary",size:"md",fullWidth:!1,style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:S.fontSize.base,fontWeight:"bold",borderRadius:S.borderRadius.lg,padding:`${S.spacing.md} ${S.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},children:s||u("confirmDialog.confirm")})]})]})}):null},E0=({isVisible:t,score:e,onSubmit:n,onCancel:r})=>{const{t:i}=yt(),[s,o]=$.useState(""),[a,l]=$.useState(!1),c=(()=>{const m=typeof window<"u"?window.innerWidth:800,w=typeof window<"u"?window.innerHeight:600,_=Math.max(m-100,320),v=Math.max(w-350,280),h=Math.min(100,Math.floor((_-3*G)/4),Math.floor((v-3*G)/4)),g=m<480?50:m<768?65:75;return(Math.max(h,g)+G)*4-G})();$.useEffect(()=>{if(t){const p=setTimeout(()=>{l(!0)},50);return()=>clearTimeout(p)}else l(!1)},[t]),$.useEffect(()=>{t&&o("")},[t]);const d=p=>{p.preventDefault();const m=s.trim();n(m||i("common.anonymous"))},f=p=>{const m=p.target.value;m.length<=12&&o(m)};return t?k.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,opacity:a?1:0,transition:"opacity 0.3s ease-in-out"},children:k.jsxs("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:S.borderRadius.xl,padding:S.layout.popupPadding,width:"fit-content",minWidth:`${c}px`,maxWidth:`max(${c}px, min(90vw, 500px))`,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",border:"2px solid rgba(255, 255, 255, 0.15)",color:"white",textAlign:"center"},children:[k.jsxs("div",{style:{textAlign:"center",marginBottom:S.spacing.xl},children:[k.jsx("h2",{style:{color:"white",fontSize:`clamp(${S.fontSize.lg}, 4vw, ${S.fontSize.xl})`,fontWeight:"bold",margin:`0 0 ${S.spacing.lg} 0`},children:i("nameEntry.newHighScore")}),k.jsx("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:`clamp(${S.fontSize.sm}, 3vw, ${S.fontSize.base})`,margin:`0 0 ${S.spacing.sm} 0`},children:i("nameEntry.score",{score:e.toLocaleString()})}),k.jsx("p",{style:{color:"#FFD700",fontSize:S.fontSize.sm,fontWeight:"bold",margin:"0"},children:i("nameEntry.enterNamePrompt")})]}),k.jsxs("form",{onSubmit:d,children:[k.jsx("input",{type:"text",value:s,onChange:f,placeholder:i("nameEntry.namePlaceholder"),autoFocus:!0,style:{width:"100%",padding:"12px 16px",fontSize:"16px",border:`2px solid ${Ft.border.light}`,borderRadius:"8px",marginBottom:"20px",boxSizing:"border-box",backgroundColor:Ft.background,color:Ft.textPrimary,outline:"none",transition:"border-color 0.2s ease"},onFocus:p=>{p.target.style.borderColor=Ft.primary},onBlur:p=>{p.target.style.borderColor=Ft.border.light}}),k.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[k.jsx(Te,{variant:"secondary",size:"sm",fullWidth:!1,type:"button",onClick:r,style:{minWidth:"100px"},children:i("nameEntry.skip")}),k.jsx(Te,{variant:"primary",size:"sm",fullWidth:!1,type:"submit",style:{minWidth:"100px"},children:i("nameEntry.saveScore")})]})]}),k.jsx("div",{style:{textAlign:"center",marginTop:"16px",fontSize:"12px",color:Ft.textSecondary},children:i("nameEntry.charactersRemaining",{current:s.length,max:12})})]})}):null};function C0(){const{t}=yt(),[e,n]=$.useState("start"),[r,i]=$.useState(!1),[s,o]=$.useState(!1),[a,l]=$.useState(!1),c=(()=>{const V=typeof window<"u"?window.innerWidth:800,Se=typeof window<"u"?window.innerHeight:600,oe=Math.max(V-100,320),ae=Math.max(Se-350,280),wt=Math.min(100,Math.floor((oe-3*G)/4),Math.floor((ae-3*G)/4)),ce=V<480?50:V<768?65:75;return(Math.max(wt,ce)+G)*4-G})(),[d,f]=$.useState(null),[p,m]=$.useState(!1),w=()=>{if(d!==null){o(!0);return}$h()?i(!0):(pn(),l(!1),n("playing"))},_=()=>{l(!0),n("playing")},v=()=>{n("leaderboard")},h=()=>{n("start")},g=()=>{sr(),pn(),l(!1),i(!1),n("playing")},y=P=>{f(P)},x=async P=>{if(d!==null)try{await Ha(d,P)}catch(V){console.error("Failed to save score to leaderboard:",V)}f(null),m(!1),sr(),pn(),l(!1),n("start")},C=async()=>{if(d!==null)try{await Ha(d,t("common.anonymous"))}catch(P){console.error("Failed to save score to leaderboard:",P)}f(null),m(!1),sr(),pn(),l(!1),n("start")},b=()=>{i(!1)},T=()=>{f(null),o(!1),pn(),l(!1),n("playing")},N=()=>{o(!1),m(!0)};return k.jsxs("div",{children:[e==="start"&&k.jsx(_0,{onStartGame:w,onContinueGame:_,onShowLeaderboard:v}),e==="playing"&&k.jsx(w0,{onBackToStart:h,shouldLoadSavedGame:a,onPendingScore:y}),e==="leaderboard"&&k.jsx(k0,{onBackToHome:h}),k.jsx(Cc,{isOpen:r,title:t("confirmDialog.startNewGameTitle"),message:t("confirmDialog.startNewGameMessage"),onConfirm:g,onCancel:b,confirmText:t("confirmDialog.startNewGame"),cancelText:t("confirmDialog.cancel"),gridWidth:c}),k.jsx(Cc,{isOpen:s,title:t("confirmDialog.skipHighScoreTitle"),message:t("confirmDialog.skipHighScoreMessage"),onConfirm:T,onCancel:N,confirmText:t("confirmDialog.skipHighScoreConfirm"),cancelText:t("confirmDialog.skipHighScoreCancel"),gridWidth:c,confirmVariant:"warning"}),k.jsx(E0,{isVisible:p,score:d||0,onSubmit:x,onCancel:C})]})}const F=t=>typeof t=="string",jr=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},bc=t=>t==null?"":""+t,b0=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},O0=/###/g,Oc=t=>t&&t.indexOf("###")>-1?t.replace(O0,"."):t,Tc=t=>!t||F(t),Gr=(t,e,n)=>{const r=F(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Tc(t))return{};const s=Oc(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return Tc(t)?{}:{obj:t,k:Oc(r[i])}},jc=(t,e,n)=>{const{obj:r,k:i}=Gr(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=Gr(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Gr(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},T0=(t,e,n,r)=>{const{obj:i,k:s}=Gr(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Ts=(t,e)=>{const{obj:n,k:r}=Gr(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},j0=(t,e,n)=>{const r=Ts(t,n);return r!==void 0?r:Ts(e,n)},Lh=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?F(t[r])||t[r]instanceof String||F(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Lh(t[r],e[r],n):t[r]=e[r]);return t},Dn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var P0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const R0=t=>F(t)?t.replace(/[&<>"'\/]/g,e=>P0[e]):t;class $0{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const L0=[" ",",","?","!",";"],I0=new $0(20),N0=(t,e,n)=>{e=e||"",n=n||"";const r=L0.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=I0.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},Ga=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},di=t=>t==null?void 0:t.replace("_","-"),A0={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class js{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||A0,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(F(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new js(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new js(this.logger,e)}}var gt=new js;class to{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...n])})}}class Pc extends to{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var u,c;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):F(r)&&s?a.push(...r.split(s)):a.push(r)));const l=Ts(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!F(r)?l:Ga((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),jc(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(F(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Ts(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Lh(l,r,s):l={...l,...r},jc(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Ih={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,n,r,i))??e}),e}};const Rc={},$c=t=>!F(t)&&typeof t!="boolean"&&typeof t!="number";class Ps extends to{constructor(e,n={}){super(),b0(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!N0(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:F(s)?[s]:s};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:F(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),u=l[l.length-1];let c=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return f?s?{res:`${u}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${c}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:a;const p=this.resolve(e,i);let m=p==null?void 0:p.res;const w=(p==null?void 0:p.usedKey)||a,_=(p==null?void 0:p.exactUsedKey)||a,v=["[object Number]","[object Function]","[object RegExp]"],h=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!F(i.count),x=Ps.hasDefaultValue(i),C=y?this.pluralResolver.getSuffix(d,i.count,i):"",b=i.ordinal&&y?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",T=y&&!i.ordinal&&i.count===0,N=T&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${C}`]||i[`defaultValue${b}`]||i.defaultValue;let P=m;g&&!m&&x&&(P=N);const V=$c(P),Se=Object.prototype.toString.apply(P);if(g&&P&&V&&v.indexOf(Se)<0&&!(F(h)&&Array.isArray(P))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,P,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(p.res=oe,p.usedParams=this.getUsedParamsDetails(i),p):oe}if(o){const oe=Array.isArray(P),ae=oe?[]:{},wt=oe?_:w;for(const ce in P)if(Object.prototype.hasOwnProperty.call(P,ce)){const me=`${wt}${o}${ce}`;x&&!m?ae[ce]=this.translate(me,{...i,defaultValue:$c(N)?N[ce]:void 0,joinArrays:!1,ns:l}):ae[ce]=this.translate(me,{...i,joinArrays:!1,ns:l}),ae[ce]===me&&(ae[ce]=P[ce])}m=ae}}else if(g&&F(h)&&Array.isArray(m))m=m.join(h),m&&(m=this.extendTranslation(m,e,i,r));else{let oe=!1,ae=!1;!this.isValidLookup(m)&&x&&(oe=!0,m=N),this.isValidLookup(m)||(ae=!0,m=a);const ce=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ae?void 0:m,me=x&&N!==m&&this.options.updateMissing;if(ae||oe||me){if(this.logger.log(me?"updateKey":"missingKey",d,u,a,me?N:m),o){const B=this.resolve(a,{...i,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let B=0;B<z.length;B++)L.push(z[B]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(i.lng||this.language):L.push(i.lng||this.language);const U=(B,Q,Ke)=>{var St;const qe=x&&Ke!==m?Ke:ce;this.options.missingKeyHandler?this.options.missingKeyHandler(B,u,Q,qe,me,i):(St=this.backendConnector)!=null&&St.saveMissing&&this.backendConnector.saveMissing(B,u,Q,qe,me,i),this.emit("missingKey",B,u,Q,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?L.forEach(B=>{const Q=this.pluralResolver.getSuffixes(B,i);T&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(Ke=>{U([B],a+Ke,i[`defaultValue${Ke}`]||N)})}):U(L,a,N))}m=this.extendTranslation(m,e,i,p,r),ae&&m===a&&this.options.appendNamespaceToMissingKey&&(m=`${u}${c}${a}`),(ae||oe)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${a}`:a,oe?m:void 0,i))}return s?(p.res=m,p.usedParams=this.getUsedParamsDetails(i),p):m}extendTranslation(e,n,r,i,s){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=F(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&!F(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),c){const p=e.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(s==null?void 0:s[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=F(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=Ih.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,o,a;return F(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&!F(n.count),p=f&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(F(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(_=>{var v,h;this.isValidLookup(r)||(a=_,!Rc[`${w[0]}-${_}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((h=this.utils)!=null&&h.hasLoadedNamespace(a))&&(Rc[`${w[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(g=>{var C;if(this.isValidLookup(r))return;o=g;const y=[c];if((C=this.i18nFormat)!=null&&C.addLookupKeys)this.i18nFormat.addLookupKeys(y,c,g,_,n);else{let b;f&&(b=this.pluralResolver.getSuffix(g,n.count,n));const T=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(y.push(c+b),n.ordinal&&b.indexOf(N)===0&&y.push(c+b.replace(N,this.options.pluralSeparator)),p&&y.push(c+T)),m){const P=`${c}${this.options.contextSeparator}${n.context}`;y.push(P),f&&(y.push(P+b),n.ordinal&&b.indexOf(N)===0&&y.push(P+b.replace(N,this.options.pluralSeparator)),p&&y.push(P+T))}}let x;for(;x=y.pop();)this.isValidLookup(r)||(s=x,r=this.getResource(g,_,x,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!F(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Lc{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gt.create("languageUtils")}getScriptPartFromCode(e){if(e=di(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=di(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(F(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),F(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return F(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):F(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const Ic={zero:0,one:1,two:2,few:3,many:4,other:5},Nc={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class z0{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=gt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=di(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Nc;if(!e.match(/-|_/))return Nc;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>Ic[i]-Ic[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Ac=(t,e,n,r=".",i=!0)=>{let s=j0(t,e,n);return!s&&i&&F(n)&&(s=Ga(t,n,r),s===void 0&&(s=Ga(e,n,r))),s},zo=t=>t.replace(/\$/g,"$$$$");class D0{constructor(e={}){var n;this.logger=gt.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:w,nestingOptionsSeparator:_,maxReplaces:v,alwaysFormat:h}=e.interpolation;this.escape=n!==void 0?n:R0,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Dn(s):o||"{{",this.suffix=a?Dn(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?Dn(f):p||Dn("$t("),this.nestingSuffix=m?Dn(m):w||Dn(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=v||1e3,this.alwaysFormat=h!==void 0?h:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const h=Ac(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(h,void 0,r,{...i,...n,interpolationkey:m}):h}const w=m.split(this.formatSeparator),_=w.shift().trim(),v=w.join(this.formatSeparator).trim();return this.format(Ac(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:_})};this.resetRegExp();const c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>zo(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?zo(this.escape(m)):zo(m)}].forEach(m=>{for(a=0;s=m.regex.exec(e);){const w=s[1].trim();if(o=u(w),o===void 0)if(typeof c=="function"){const v=c(e,s,i);o=F(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,w))o="";else if(d){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),o="";else!F(o)&&!this.useRawValueToEscape&&(o=bc(o));const _=m.safeValue(o);if(e=e.replace(s[0],_),d?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,o;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,o);const p=f.match(/'/g),m=f.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${c}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!F(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(l=i[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!F(s))return s;F(s)||(s=bc(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const F0=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},zc=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(di(r),i),e[o]=a),a(n)}},U0=t=>(e,n,r)=>t(di(n),r)(e);class M0{constructor(e={}){this.logger=gt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?zc:U0;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=zc(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var d;const{formatName:u,formatOptions:c}=F0(l);if(this.formats[u]){let f=a;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},m=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[u](a,m,{...c,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const B0=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class H0 extends to{constructor(e,n,r,i={}){var s,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=gt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(u=>{let c=!0;n.forEach(d=>{const f=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,c=!1,o[f]===void 0&&(o[f]=!0),s[f]===void 0&&(s[f]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{T0(l.loaded,[s],o),B0(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();F(e)&&(e=this.languageUtils.toResolveHierarchy(e)),F(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s,o={},a=()=>{}){var l,u,c,d,f;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const p={...o,isUpdate:s},m=this.backend.create.bind(this.backend);if(m.length<6)try{let w;m.length===5?w=m(e,n,r,i,p):w=m(e,n,r,i),w&&typeof w.then=="function"?w.then(_=>a(null,_)).catch(a):a(null,w)}catch(w){a(w)}else m(e,n,r,i,a,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Dc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),F(t[1])&&(e.defaultValue=t[1]),F(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Fc=t=>{var e,n;return F(t.ns)&&(t.ns=[t.ns]),F(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),F(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Hi=()=>{},W0=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class fi extends to{constructor(e={},n){if(super(),this.options=Fc(e),this.services={},this.logger=gt,this.modules={external:[]},W0(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(F(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Dc();this.options={...r,...this.options,...Fc(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?gt.init(i(this.modules.logger),this.options):gt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=M0;const c=new Lc(this.options);this.store=new Pc(this.options.resources,this.options);const d=this.services;d.logger=gt,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new z0(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new D0(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new H0(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...m)=>{this.emit(p,...m)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Ps(this.services,this.options),this.translator.on("*",(p,...m)=>{this.emit(p,...m)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Hi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const a=jr(),l=()=>{const u=(c,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(d),n(c,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=Hi){var s,o;let r=n;const i=F(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=jr();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Hi),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ih.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=jr();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var c,d;!e&&!a&&this.services.languageDetector&&(a=[]);const l=F(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(F(a)?[a]:a);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(d=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||d.call(c,u)),this.loadResources(u,f=>{s(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(s)?c=s.map(d=>`${l.keyPrefix}${u}${d}`):c=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s,this.t(c,l)};return F(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=jr();return this.options.ns?(F(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=jr();F(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new Lc(Dc());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new fi(e,n)}cloneInstance(e={},n=Hi){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new fi(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,d)=>(c[d]={...l[u][d]},c),l[u]),l),{});s.store=new Pc(a,i),s.services.resourceStore=s.store}return s.translator=new Ps(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const be=fi.createInstance();be.createInstance=fi.createInstance;be.createInstance;be.dir;be.init;be.loadResources;be.reloadResources;be.use;be.changeLanguage;be.getFixedT;be.t;be.exists;be.setDefaultNamespace;be.hasLoadedNamespace;be.loadNamespaces;be.loadLanguages;const V0=()=>{var n;return(navigator.language||((n=navigator.languages)==null?void 0:n[0])||"en").toLowerCase().substring(0,2)==="de"?"de":"en"},G0={title:" Emoji Fusion",description:"Merge tiles with the same emoji to create new ones! Use arrow keys to move tiles and reach the highest score possible."},K0={highScore:" High Score: {{score}}",globalHighScore:" Global High Score: {{score}}",noScoresYet:" No scores yet!",startNewGame:" Start New Game",continueGame:" Continue Game",leaderboard:" Leaderboard"},q0={home:" Home",undo:" Undo Last Move",undoShortcut:" Undo Last Move (U)"},J0={title:"Game Over!",finalScore:"Final Score: {{score}}",checkingLeaderboard:" Checking leaderboard...",savingScore:" Saving score...",topScore:" Top 100 Score! Enter your name:",enterName:"Enter name (max 12 chars)",saveScore:" Save Score",saving:" Saving...",scoreSaved:" Score saved to leaderboard!",newGame:" New Game",mainMenu:" Main Menu",pleaseWait:" Please wait...",skipHighScore:"You reached a high score! Are you sure you want to skip submitting it?",skipConfirm:" Start New Game!",skipCancel:"Enter Name"},Q0={title:" Leaderboard",topScores:"Top Scores",loading:"Loading leaderboard...",noScores:"No Scores Yet",noScoresDescription:"Play your first game to start building your leaderboard!",home:" Home"},Y0={newHighScore:" New High Score!",score:"Score: {{score}}",enterNamePrompt:"Enter your name for the leaderboard:",namePlaceholder:"Your name (max 12 chars)",skip:"Skip",saveScore:"Save Score",charactersRemaining:"{{current}}/{{max}} characters"},X0={confirm:"Confirm",cancel:"Cancel",startNewGame:"Start New Game",startNewGameTitle:"Start New Game?",startNewGameMessage:"You already have a game in progress. Are you sure you want to start over?",skipHighScoreTitle:"Skip High Score?",skipHighScoreMessage:"You reached a high score! Are you sure you don't want to submit it?",skipHighScoreConfirm:" Start New Game!",skipHighScoreCancel:"Enter Name"},Z0={keyboardInstructions:"Use WASD or arrow keys to move",touchInstructions:"Swipe to move",keyboardShortcuts:"Press U to undo, R to reset",restartGame:"Restart Game"},ew={anonymous:"Anonymous",player:"Player"},tw={app:G0,startScreen:K0,gameControls:q0,gameOver:J0,leaderboard:Q0,nameEntry:Y0,confirmDialog:X0,controls:Z0,common:ew},nw={title:" Emoji Fusion",description:"Verbinde Kacheln mit demselben Emoji, um neue zu erstellen! Verwende die Pfeiltasten, um Kacheln zu bewegen und die hchste Punktzahl zu erreichen."},rw={highScore:" Rekord: {{score}}",globalHighScore:" Globaler Rekord: {{score}}",noScoresYet:" Noch keine Ergebnisse!",startNewGame:" Neues Spiel",continueGame:" Spiel fortsetzen",leaderboard:" Bestenliste"},iw={home:" Start",undo:" Letzten Zug rckgngig",undoShortcut:" Letzten Zug rckgngig (U)"},sw={title:"Spiel beendet!",finalScore:"Endpunktzahl: {{score}}",checkingLeaderboard:" Prfe Bestenliste...",savingScore:" Speichere Punktzahl...",topScore:" Top 100 Punktzahl! Gib deinen Namen ein:",enterName:"Namen eingeben (max. 12 Zeichen)",saveScore:" Punktzahl speichern",saving:" Speichern...",scoreSaved:" Punktzahl in Bestenliste gespeichert!",newGame:" Neues Spiel",mainMenu:" Hauptmen",pleaseWait:" Bitte warten...",skipHighScore:"Du hast einen Rekord erreicht! Bist du sicher, dass du ihn nicht einreichen mchtest?",skipConfirm:" Neues Spiel starten!",skipCancel:"Namen eingeben"},ow={title:" Bestenliste",topScores:"Beste Ergebnisse",loading:"Lade Bestenliste...",noScores:"Noch keine Ergebnisse",noScoresDescription:"Spiele dein erstes Spiel, um deine Bestenliste aufzubauen!",home:" Start"},aw={newHighScore:" Neuer Rekord!",score:"Punktzahl: {{score}}",enterNamePrompt:"Gib deinen Namen fr die Bestenliste ein:",namePlaceholder:"Dein Name (max. 12 Zeichen)",skip:"berspringen",saveScore:"Punktzahl speichern",charactersRemaining:"{{current}}/{{max}} Zeichen"},lw={confirm:"Besttigen",cancel:"Abbrechen",startNewGame:"Neues Spiel starten",startNewGameTitle:"Neues Spiel starten?",startNewGameMessage:"Du hast bereits ein Spiel in Bearbeitung. Bist du sicher, dass du von vorne anfangen mchtest?",skipHighScoreTitle:"Rekord berspringen?",skipHighScoreMessage:"Du hast einen Rekord erreicht! Bist du sicher, dass du ihn nicht einreichen mchtest?",skipHighScoreConfirm:" Neues Spiel starten!",skipHighScoreCancel:"Namen eingeben"},uw={keyboardInstructions:"Verwende WASD oder Pfeiltasten zum Bewegen",touchInstructions:"Wischen zum Bewegen",keyboardShortcuts:"Drcke U fr Rckgngig, R zum Zurcksetzen",restartGame:"Spiel neu starten"},cw={anonymous:"Anonym",player:"Spieler"},dw={app:nw,startScreen:rw,gameControls:iw,gameOver:sw,leaderboard:ow,nameEntry:aw,confirmDialog:lw,controls:uw,common:cw},fw={en:{translation:tw},de:{translation:dw}};be.use($m).init({resources:fw,lng:V0(),fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,keySeparator:".",nsSeparator:!1,returnEmptyString:!1,returnNull:!1,returnObjects:!1,parseMissingKeyHandler:t=>t,missingKeyHandler:!1,saveMissing:!1});Do.createRoot(document.getElementById("root")).render(k.jsx(up.StrictMode,{children:k.jsx(C0,{})}));
