(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Fd={exports:{}},po={},Ud={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),yg=Symbol.for("react.portal"),vg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),xg=Symbol.for("react.provider"),kg=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),Cg=Symbol.for("react.lazy"),Du=Symbol.iterator;function Tg(t){return t===null||typeof t!="object"?null:(t=Du&&t[Du]||t["@@iterator"],typeof t=="function"?t:null)}var Dd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bd=Object.assign,Wd={};function Mr(t,e,n){this.props=t,this.context=e,this.refs=Wd,this.updater=n||Dd}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hd(){}Hd.prototype=Mr.prototype;function zl(t,e,n){this.props=t,this.context=e,this.refs=Wd,this.updater=n||Dd}var Al=zl.prototype=new Hd;Al.constructor=zl;Bd(Al,Mr.prototype);Al.isPureReactComponent=!0;var Bu=Array.isArray,Gd=Object.prototype.hasOwnProperty,Nl={current:null},Vd={key:!0,ref:!0,__self:!0,__source:!0};function Kd(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Gd.call(e,r)&&!Vd.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hs,type:t,key:i,ref:o,props:s,_owner:Nl.current}}function jg(t,e){return{$$typeof:Hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ml(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hs}function Pg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wu=/\/+/g;function Bo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Pg(""+t.key):e.toString(36)}function _i(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hs:case yg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bo(o,0):r,Bu(s)?(n="",t!=null&&(n=t.replace(Wu,"$&/")+"/"),_i(s,e,n,"",function(u){return u})):s!=null&&(Ml(s)&&(s=jg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Bu(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Bo(i,a);o+=_i(i,e,n,l,s)}else if(l=Tg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Bo(i,a++),o+=_i(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ei(t,e,n){if(t==null)return t;var r=[],s=0;return _i(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Og(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},bi={transition:null},Rg={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:bi,ReactCurrentOwner:Nl};function Jd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:ei,forEach:function(t,e,n){ei(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ei(t,function(){e++}),e},toArray:function(t){return ei(t,function(e){return e})||[]},only:function(t){if(!Ml(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Mr;te.Fragment=vg;te.Profiler=Sg;te.PureComponent=zl;te.StrictMode=wg;te.Suspense=bg;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg;te.act=Jd;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gd.call(e,l)&&!Vd.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hs,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:kg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xg,_context:t},t.Consumer=t};te.createElement=Kd;te.createFactory=function(t){var e=Kd.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:_g,render:t}};te.isValidElement=Ml;te.lazy=function(t){return{$$typeof:Cg,_payload:{_status:-1,_result:t},_init:Og}};te.memo=function(t,e){return{$$typeof:Eg,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=bi.transition;bi.transition={};try{t()}finally{bi.transition=e}};te.unstable_act=Jd;te.useCallback=function(t,e){return Be.current.useCallback(t,e)};te.useContext=function(t){return Be.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};te.useEffect=function(t,e){return Be.current.useEffect(t,e)};te.useId=function(){return Be.current.useId()};te.useImperativeHandle=function(t,e,n){return Be.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Be.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Be.current.useReducer(t,e,n)};te.useRef=function(t){return Be.current.useRef(t)};te.useState=function(t){return Be.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Be.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Be.current.useTransition()};te.version="18.3.1";Ud.exports=te;var $=Ud.exports;const Lg=gg($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=$,$g=Symbol.for("react.element"),zg=Symbol.for("react.fragment"),Ag=Object.prototype.hasOwnProperty,Ng=Ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mg={key:!0,ref:!0,__self:!0,__source:!0};function qd(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ag.call(e,r)&&!Mg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$g,type:t,key:i,ref:o,props:s,_owner:Ng.current}}po.Fragment=zg;po.jsx=qd;po.jsxs=qd;Fd.exports=po;var x=Fd.exports,_a={},Qd={exports:{}},rt={},Yd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,W){var H=L.length;L.push(W);e:for(;0<H;){var Z=H-1>>>1,ae=L[Z];if(0<s(ae,W))L[Z]=W,L[H]=ae,H=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],H=L.pop();if(H!==W){L[0]=H;e:for(var Z=0,ae=L.length,it=ae>>>1;Z<it;){var Xe=2*(Z+1)-1,Yt=L[Xe],Tt=Xe+1,Tn=L[Tt];if(0>s(Yt,H))Tt<ae&&0>s(Tn,Yt)?(L[Z]=Tn,L[Tt]=H,Z=Tt):(L[Z]=Yt,L[Xe]=H,Z=Xe);else if(Tt<ae&&0>s(Tn,H))L[Z]=Tn,L[Tt]=H,Z=Tt;else break e}}return W}function s(L,W){var H=L.sortIndex-W.sortIndex;return H!==0?H:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,g=!1,p=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function w(L){if(v=!1,m(L),!p)if(n(l)!==null)p=!0,ve(_);else{var W=n(u);W!==null&&z(w,W.startTime-L)}}function _(L,W){p=!1,v&&(v=!1,y(R),R=-1),g=!0;var H=f;try{for(m(W),c=n(l);c!==null&&(!(c.expirationTime>W)||L&&!G());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var ae=Z(c.expirationTime<=W);W=t.unstable_now(),typeof ae=="function"?c.callback=ae:c===n(l)&&r(l),m(W)}else r(l);c=n(l)}if(c!==null)var it=!0;else{var Xe=n(u);Xe!==null&&z(w,Xe.startTime-W),it=!1}return it}finally{c=null,f=H,g=!1}}var b=!1,j=null,R=-1,F=5,A=-1;function G(){return!(t.unstable_now()-A<F)}function ne(){if(j!==null){var L=t.unstable_now();A=L;var W=!0;try{W=j(!0,L)}finally{W?ie():(b=!1,j=null)}}else b=!1}var ie;if(typeof h=="function")ie=function(){h(ne)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,xe=oe.port2;oe.port1.onmessage=ne,ie=function(){xe.postMessage(null)}}else ie=function(){C(ne,0)};function ve(L){j=L,b||(b=!0,ie())}function z(L,W){R=C(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,ve(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var H=f;f=W;try{return L()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=f;f=L;try{return W()}finally{f=H}},t.unstable_scheduleCallback=function(L,W,H){var Z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=H+ae,L={id:d++,callback:W,priorityLevel:L,startTime:H,expirationTime:ae,sortIndex:-1},H>Z?(L.sortIndex=H,e(u,L),n(l)===null&&L===n(u)&&(v?(y(R),R=-1):v=!0,z(w,H-Z))):(L.sortIndex=ae,e(l,L),p||g||(p=!0,ve(_))),L},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(L){var W=f;return function(){var H=f;f=W;try{return L.apply(this,arguments)}finally{f=H}}}})(Xd);Yd.exports=Xd;var Fg=Yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=$,nt=Fg;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zd=new Set,bs={};function Qn(t,e){Pr(t,e),Pr(t+"Capture",e)}function Pr(t,e){for(bs[t]=e,t=0;t<e.length;t++)Zd.add(e[t])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=Object.prototype.hasOwnProperty,Dg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hu={},Gu={};function Bg(t){return ba.call(Gu,t)?!0:ba.call(Hu,t)?!1:Dg.test(t)?Gu[t]=!0:(Hu[t]=!0,!1)}function Wg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hg(t,e,n,r){if(e===null||typeof e>"u"||Wg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fl=/[\-:]([a-z])/g;function Ul(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fl,Ul);Le[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fl,Ul);Le[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fl,Ul);Le[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dl(t,e,n,r){var s=Le.hasOwnProperty(e)?Le[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hg(e,n,s,r)&&(n=null),r||s===null?Bg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qt=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),ef=Symbol.for("react.provider"),tf=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Ca=Symbol.for("react.suspense"),Ta=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),nf=Symbol.for("react.offscreen"),Vu=Symbol.iterator;function Vr(t){return t===null||typeof t!="object"?null:(t=Vu&&t[Vu]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Wo;function os(t){if(Wo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wo=e&&e[1]||""}return`
`+Wo+t}var Ho=!1;function Go(t,e){if(!t||Ho)return"";Ho=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ho=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?os(t):""}function Gg(t){switch(t.tag){case 5:return os(t.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return t=Go(t.type,!1),t;case 11:return t=Go(t.type.render,!1),t;case 1:return t=Go(t.type,!0),t;default:return""}}function ja(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dr:return"Fragment";case cr:return"Portal";case Ea:return"Profiler";case Bl:return"StrictMode";case Ca:return"Suspense";case Ta:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tf:return(t.displayName||"Context")+".Consumer";case ef:return(t._context.displayName||"Context")+".Provider";case Wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hl:return e=t.displayName||null,e!==null?e:ja(t.type)||"Memo";case tn:e=t._payload,t=t._init;try{return ja(t(e))}catch{}}return null}function Vg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ja(e);case 8:return e===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kg(t){var e=rf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ni(t){t._valueTracker||(t._valueTracker=Kg(t))}function sf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pa(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ku(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function of(t,e){e=e.checked,e!=null&&Dl(t,"checked",e,!1)}function Oa(t,e){of(t,e);var n=xn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ra(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ra(t,e.type,xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ju(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ra(t,e,n){(e!=="number"||Ai(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var as=Array.isArray;function kr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function La(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(as(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xn(n)}}function af(t,e){var n=xn(e.value),r=xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ia(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ri,uf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ri.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jg=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){Jg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fs[e]=fs[t]})});function cf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fs.hasOwnProperty(t)&&fs[t]?(""+e).trim():e+"px"}function df(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var qg=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(t,e){if(e){if(qg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function za(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=null;function Gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Na=null,_r=null,br=null;function Yu(t){if(t=Ks(t)){if(typeof Na!="function")throw Error(I(280));var e=t.stateNode;e&&(e=wo(e),Na(t.stateNode,t.type,e))}}function ff(t){_r?br?br.push(t):br=[t]:_r=t}function hf(){if(_r){var t=_r,e=br;if(br=_r=null,Yu(t),e)for(t=0;t<e.length;t++)Yu(e[t])}}function pf(t,e){return t(e)}function gf(){}var Vo=!1;function mf(t,e,n){if(Vo)return t(e,n);Vo=!0;try{return pf(t,e,n)}finally{Vo=!1,(_r!==null||br!==null)&&(gf(),hf())}}function Cs(t,e){var n=t.stateNode;if(n===null)return null;var r=wo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Ma=!1;if(Gt)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Ma=!1}function Qg(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var hs=!1,Ni=null,Mi=!1,Fa=null,Yg={onError:function(t){hs=!0,Ni=t}};function Xg(t,e,n,r,s,i,o,a,l){hs=!1,Ni=null,Qg.apply(Yg,arguments)}function Zg(t,e,n,r,s,i,o,a,l){if(Xg.apply(this,arguments),hs){if(hs){var u=Ni;hs=!1,Ni=null}else throw Error(I(198));Mi||(Mi=!0,Fa=u)}}function Yn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xu(t){if(Yn(t)!==t)throw Error(I(188))}function em(t){var e=t.alternate;if(!e){if(e=Yn(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xu(s),t;if(i===r)return Xu(s),e;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function vf(t){return t=em(t),t!==null?wf(t):null}function wf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wf(t);if(e!==null)return e;t=t.sibling}return null}var Sf=nt.unstable_scheduleCallback,Zu=nt.unstable_cancelCallback,tm=nt.unstable_shouldYield,nm=nt.unstable_requestPaint,Se=nt.unstable_now,rm=nt.unstable_getCurrentPriorityLevel,Vl=nt.unstable_ImmediatePriority,xf=nt.unstable_UserBlockingPriority,Fi=nt.unstable_NormalPriority,sm=nt.unstable_LowPriority,kf=nt.unstable_IdlePriority,go=null,$t=null;function im(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(go,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:lm,om=Math.log,am=Math.LN2;function lm(t){return t>>>=0,t===0?32:31-(om(t)/am|0)|0}var si=64,ii=4194304;function ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ui(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ls(a):(i&=o,i!==0&&(r=ls(i)))}else o=n&~s,o!==0?r=ls(o):i!==0&&(r=ls(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_t(e),s=1<<n,r|=t[n],e&=~s;return r}function um(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_t(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=um(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ua(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _f(){var t=si;return si<<=1,!(si&4194240)&&(si=64),t}function Ko(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_t(e),t[e]=n}function dm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_t(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Kl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_t(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function bf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ef,Jl,Cf,Tf,jf,Da=!1,oi=[],fn=null,hn=null,pn=null,Ts=new Map,js=new Map,on=[],fm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(e.pointerId)}}function Jr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ks(e),e!==null&&Jl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hm(t,e,n,r,s){switch(e){case"focusin":return fn=Jr(fn,t,e,n,r,s),!0;case"dragenter":return hn=Jr(hn,t,e,n,r,s),!0;case"mouseover":return pn=Jr(pn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ts.set(i,Jr(Ts.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,js.set(i,Jr(js.get(i)||null,t,e,n,r,s)),!0}return!1}function Pf(t){var e=Mn(t.target);if(e!==null){var n=Yn(e);if(n!==null){if(e=n.tag,e===13){if(e=yf(n),e!==null){t.blockedOn=e,jf(t.priority,function(){Cf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ei(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ba(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Aa=r,n.target.dispatchEvent(r),Aa=null}else return e=Ks(n),e!==null&&Jl(e),t.blockedOn=n,!1;e.shift()}return!0}function tc(t,e,n){Ei(t)&&n.delete(e)}function pm(){Da=!1,fn!==null&&Ei(fn)&&(fn=null),hn!==null&&Ei(hn)&&(hn=null),pn!==null&&Ei(pn)&&(pn=null),Ts.forEach(tc),js.forEach(tc)}function qr(t,e){t.blockedOn===e&&(t.blockedOn=null,Da||(Da=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,pm)))}function Ps(t){function e(s){return qr(s,t)}if(0<oi.length){qr(oi[0],t);for(var n=1;n<oi.length;n++){var r=oi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fn!==null&&qr(fn,t),hn!==null&&qr(hn,t),pn!==null&&qr(pn,t),Ts.forEach(e),js.forEach(e),n=0;n<on.length;n++)r=on[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)Pf(n),n.blockedOn===null&&on.shift()}var Er=qt.ReactCurrentBatchConfig,Di=!0;function gm(t,e,n,r){var s=ue,i=Er.transition;Er.transition=null;try{ue=1,ql(t,e,n,r)}finally{ue=s,Er.transition=i}}function mm(t,e,n,r){var s=ue,i=Er.transition;Er.transition=null;try{ue=4,ql(t,e,n,r)}finally{ue=s,Er.transition=i}}function ql(t,e,n,r){if(Di){var s=Ba(t,e,n,r);if(s===null)ra(t,e,r,Bi,n),ec(t,r);else if(hm(s,t,e,n,r))r.stopPropagation();else if(ec(t,r),e&4&&-1<fm.indexOf(t)){for(;s!==null;){var i=Ks(s);if(i!==null&&Ef(i),i=Ba(t,e,n,r),i===null&&ra(t,e,r,Bi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ra(t,e,r,null,n)}}var Bi=null;function Ba(t,e,n,r){if(Bi=null,t=Gl(r),t=Mn(t),t!==null)if(e=Yn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bi=t,null}function Of(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rm()){case Vl:return 1;case xf:return 4;case Fi:case sm:return 16;case kf:return 536870912;default:return 16}default:return 16}}var cn=null,Ql=null,Ci=null;function Rf(){if(Ci)return Ci;var t,e=Ql,n=e.length,r,s="value"in cn?cn.value:cn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ci=s.slice(t,1<r?1-r:void 0)}function Ti(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function nc(){return!1}function st(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:nc,this.isPropagationStopped=nc,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),e}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=st(Fr),Vs=ye({},Fr,{view:0,detail:0}),ym=st(Vs),Jo,qo,Qr,mo=ye({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(Jo=t.screenX-Qr.screenX,qo=t.screenY-Qr.screenY):qo=Jo=0,Qr=t),Jo)},movementY:function(t){return"movementY"in t?t.movementY:qo}}),rc=st(mo),vm=ye({},mo,{dataTransfer:0}),wm=st(vm),Sm=ye({},Vs,{relatedTarget:0}),Qo=st(Sm),xm=ye({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),km=st(xm),_m=ye({},Fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bm=st(_m),Em=ye({},Fr,{data:0}),sc=st(Em),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jm[t])?!!e[t]:!1}function Xl(){return Pm}var Om=ye({},Vs,{key:function(t){if(t.key){var e=Cm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rm=st(Om),Lm=ye({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=st(Lm),Im=ye({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),$m=st(Im),zm=ye({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Am=st(zm),Nm=ye({},mo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=st(Nm),Fm=[9,13,27,32],Zl=Gt&&"CompositionEvent"in window,ps=null;Gt&&"documentMode"in document&&(ps=document.documentMode);var Um=Gt&&"TextEvent"in window&&!ps,Lf=Gt&&(!Zl||ps&&8<ps&&11>=ps),oc=" ",ac=!1;function If(t,e){switch(t){case"keyup":return Fm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function Dm(t,e){switch(t){case"compositionend":return $f(e);case"keypress":return e.which!==32?null:(ac=!0,oc);case"textInput":return t=e.data,t===oc&&ac?null:t;default:return null}}function Bm(t,e){if(fr)return t==="compositionend"||!Zl&&If(t,e)?(t=Rf(),Ci=Ql=cn=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lf&&e.locale!=="ko"?null:e.data;default:return null}}var Wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wm[t.type]:e==="textarea"}function zf(t,e,n,r){ff(r),e=Wi(e,"onChange"),0<e.length&&(n=new Yl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gs=null,Os=null;function Hm(t){Vf(t,0)}function yo(t){var e=gr(t);if(sf(e))return t}function Gm(t,e){if(t==="change")return e}var Af=!1;if(Gt){var Yo;if(Gt){var Xo="oninput"in document;if(!Xo){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),Xo=typeof uc.oninput=="function"}Yo=Xo}else Yo=!1;Af=Yo&&(!document.documentMode||9<document.documentMode)}function cc(){gs&&(gs.detachEvent("onpropertychange",Nf),Os=gs=null)}function Nf(t){if(t.propertyName==="value"&&yo(Os)){var e=[];zf(e,Os,t,Gl(t)),mf(Hm,e)}}function Vm(t,e,n){t==="focusin"?(cc(),gs=e,Os=n,gs.attachEvent("onpropertychange",Nf)):t==="focusout"&&cc()}function Km(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yo(Os)}function Jm(t,e){if(t==="click")return yo(e)}function qm(t,e){if(t==="input"||t==="change")return yo(e)}function Qm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:Qm;function Rs(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ba.call(e,s)||!Et(t[s],e[s]))return!1}return!0}function dc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fc(t,e){var n=dc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dc(n)}}function Mf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ff(){for(var t=window,e=Ai();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ai(t.document)}return e}function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ym(t){var e=Ff(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mf(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=fc(n,i);var o=fc(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xm=Gt&&"documentMode"in document&&11>=document.documentMode,hr=null,Wa=null,ms=null,Ha=!1;function hc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ha||hr==null||hr!==Ai(r)||(r=hr,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ms&&Rs(ms,r)||(ms=r,r=Wi(Wa,"onSelect"),0<r.length&&(e=new Yl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hr)))}function li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pr={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},Zo={},Uf={};Gt&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function vo(t){if(Zo[t])return Zo[t];if(!pr[t])return t;var e=pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uf)return Zo[t]=e[n];return t}var Df=vo("animationend"),Bf=vo("animationiteration"),Wf=vo("animationstart"),Hf=vo("transitionend"),Gf=new Map,pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(t,e){Gf.set(t,e),Qn(e,[t])}for(var ea=0;ea<pc.length;ea++){var ta=pc[ea],Zm=ta.toLowerCase(),e0=ta[0].toUpperCase()+ta.slice(1);_n(Zm,"on"+e0)}_n(Df,"onAnimationEnd");_n(Bf,"onAnimationIteration");_n(Wf,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Hf,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function gc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zg(r,e,void 0,t),t.currentTarget=null}function Vf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;gc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;gc(s,a,u),i=l}}}if(Mi)throw t=Fa,Mi=!1,Fa=null,t}function fe(t,e){var n=e[qa];n===void 0&&(n=e[qa]=new Set);var r=t+"__bubble";n.has(r)||(Kf(e,t,2,!1),n.add(r))}function na(t,e,n){var r=0;e&&(r|=4),Kf(n,t,r,e)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Ls(t){if(!t[ui]){t[ui]=!0,Zd.forEach(function(n){n!=="selectionchange"&&(t0.has(n)||na(n,!1,t),na(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ui]||(e[ui]=!0,na("selectionchange",!1,e))}}function Kf(t,e,n,r){switch(Of(e)){case 1:var s=gm;break;case 4:s=mm;break;default:s=ql}n=s.bind(null,e,n,t),s=void 0,!Ma||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ra(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Mn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mf(function(){var u=i,d=Gl(n),c=[];e:{var f=Gf.get(t);if(f!==void 0){var g=Yl,p=t;switch(t){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":g=Rm;break;case"focusin":p="focus",g=Qo;break;case"focusout":p="blur",g=Qo;break;case"beforeblur":case"afterblur":g=Qo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$m;break;case Df:case Bf:case Wf:g=km;break;case Hf:g=Am;break;case"scroll":g=ym;break;case"wheel":g=Mm;break;case"copy":case"cut":case"paste":g=bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ic}var v=(e&4)!==0,C=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var h=u,m;h!==null;){m=h;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,y!==null&&(w=Cs(h,y),w!=null&&v.push(Is(h,w,m)))),C)break;h=h.return}0<v.length&&(f=new g(f,p,null,n,d),c.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Aa&&(p=n.relatedTarget||n.fromElement)&&(Mn(p)||p[Vt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?Mn(p):null,p!==null&&(C=Yn(p),p!==C||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(v=rc,w="onMouseLeave",y="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=ic,w="onPointerLeave",y="onPointerEnter",h="pointer"),C=g==null?f:gr(g),m=p==null?f:gr(p),f=new v(w,h+"leave",g,n,d),f.target=C,f.relatedTarget=m,w=null,Mn(d)===u&&(v=new v(y,h+"enter",p,n,d),v.target=m,v.relatedTarget=C,w=v),C=w,g&&p)t:{for(v=g,y=p,h=0,m=v;m;m=er(m))h++;for(m=0,w=y;w;w=er(w))m++;for(;0<h-m;)v=er(v),h--;for(;0<m-h;)y=er(y),m--;for(;h--;){if(v===y||y!==null&&v===y.alternate)break t;v=er(v),y=er(y)}v=null}else v=null;g!==null&&mc(c,f,g,v,!1),p!==null&&C!==null&&mc(c,C,p,v,!0)}}e:{if(f=u?gr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=Gm;else if(lc(f))if(Af)_=qm;else{_=Km;var b=Vm}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Jm);if(_&&(_=_(t,u))){zf(c,_,n,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Ra(f,"number",f.value)}switch(b=u?gr(u):window,t){case"focusin":(lc(b)||b.contentEditable==="true")&&(hr=b,Wa=u,ms=null);break;case"focusout":ms=Wa=hr=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,hc(c,n,d);break;case"selectionchange":if(Xm)break;case"keydown":case"keyup":hc(c,n,d)}var j;if(Zl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else fr?If(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Lf&&n.locale!=="ko"&&(fr||R!=="onCompositionStart"?R==="onCompositionEnd"&&fr&&(j=Rf()):(cn=d,Ql="value"in cn?cn.value:cn.textContent,fr=!0)),b=Wi(u,R),0<b.length&&(R=new sc(R,t,null,n,d),c.push({event:R,listeners:b}),j?R.data=j:(j=$f(n),j!==null&&(R.data=j)))),(j=Um?Dm(t,n):Bm(t,n))&&(u=Wi(u,"onBeforeInput"),0<u.length&&(d=new sc("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=j))}Vf(c,e)})}function Is(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cs(t,n),i!=null&&r.unshift(Is(t,i,s)),i=Cs(t,e),i!=null&&r.push(Is(t,i,s))),t=t.return}return r}function er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mc(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Cs(n,i),l!=null&&o.unshift(Is(n,l,a))):s||(l=Cs(n,i),l!=null&&o.push(Is(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var n0=/\r\n?/g,r0=/\u0000|\uFFFD/g;function yc(t){return(typeof t=="string"?t:""+t).replace(n0,`
`).replace(r0,"")}function ci(t,e,n){if(e=yc(e),yc(t)!==e&&n)throw Error(I(425))}function Hi(){}var Ga=null,Va=null;function Ka(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,i0=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(t){return vc.resolve(null).then(t).catch(o0)}:Ja;function o0(t){setTimeout(function(){throw t})}function sa(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ps(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ps(e)}function gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ur,$s="__reactProps$"+Ur,Vt="__reactContainer$"+Ur,qa="__reactEvents$"+Ur,a0="__reactListeners$"+Ur,l0="__reactHandles$"+Ur;function Mn(t){var e=t[Lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vt]||n[Lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wc(t);t!==null;){if(n=t[Lt])return n;t=wc(t)}return e}t=n,n=t.parentNode}return null}function Ks(t){return t=t[Lt]||t[Vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function wo(t){return t[$s]||null}var Qa=[],mr=-1;function bn(t){return{current:t}}function he(t){0>mr||(t.current=Qa[mr],Qa[mr]=null,mr--)}function de(t,e){mr++,Qa[mr]=t.current,t.current=e}var kn={},Ne=bn(kn),qe=bn(!1),Hn=kn;function Or(t,e){var n=t.type.contextTypes;if(!n)return kn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(t){return t=t.childContextTypes,t!=null}function Gi(){he(qe),he(Ne)}function Sc(t,e,n){if(Ne.current!==kn)throw Error(I(168));de(Ne,e),de(qe,n)}function Jf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(I(108,Vg(t)||"Unknown",s));return ye({},n,r)}function Vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kn,Hn=Ne.current,de(Ne,t),de(qe,qe.current),!0}function xc(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Jf(t,e,Hn),r.__reactInternalMemoizedMergedChildContext=t,he(qe),he(Ne),de(Ne,t)):he(qe),de(qe,n)}var Dt=null,So=!1,ia=!1;function qf(t){Dt===null?Dt=[t]:Dt.push(t)}function u0(t){So=!0,qf(t)}function En(){if(!ia&&Dt!==null){ia=!0;var t=0,e=ue;try{var n=Dt;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dt=null,So=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(t+1)),Sf(Vl,En),s}finally{ue=e,ia=!1}}return null}var yr=[],vr=0,Ki=null,Ji=0,at=[],lt=0,Gn=null,Bt=1,Wt="";function In(t,e){yr[vr++]=Ji,yr[vr++]=Ki,Ki=t,Ji=e}function Qf(t,e,n){at[lt++]=Bt,at[lt++]=Wt,at[lt++]=Gn,Gn=t;var r=Bt;t=Wt;var s=32-_t(r)-1;r&=~(1<<s),n+=1;var i=32-_t(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Bt=1<<32-_t(e)+s|n<<s|r,Wt=i+t}else Bt=1<<i|n<<s|r,Wt=t}function tu(t){t.return!==null&&(In(t,1),Qf(t,1,0))}function nu(t){for(;t===Ki;)Ki=yr[--vr],yr[vr]=null,Ji=yr[--vr],yr[vr]=null;for(;t===Gn;)Gn=at[--lt],at[lt]=null,Wt=at[--lt],at[lt]=null,Bt=at[--lt],at[lt]=null}var tt=null,et=null,pe=!1,xt=null;function Yf(t,e){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tt=t,et=gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tt=t,et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gn!==null?{id:Bt,overflow:Wt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tt=t,et=null,!0):!1;default:return!1}}function Ya(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xa(t){if(pe){var e=et;if(e){var n=e;if(!kc(t,e)){if(Ya(t))throw Error(I(418));e=gn(n.nextSibling);var r=tt;e&&kc(t,e)?Yf(r,n):(t.flags=t.flags&-4097|2,pe=!1,tt=t)}}else{if(Ya(t))throw Error(I(418));t.flags=t.flags&-4097|2,pe=!1,tt=t}}}function _c(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tt=t}function di(t){if(t!==tt)return!1;if(!pe)return _c(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ka(t.type,t.memoizedProps)),e&&(e=et)){if(Ya(t))throw Xf(),Error(I(418));for(;e;)Yf(t,e),e=gn(e.nextSibling)}if(_c(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){et=gn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}et=null}}else et=tt?gn(t.stateNode.nextSibling):null;return!0}function Xf(){for(var t=et;t;)t=gn(t.nextSibling)}function Rr(){et=tt=null,pe=!1}function ru(t){xt===null?xt=[t]:xt.push(t)}var c0=qt.ReactCurrentBatchConfig;function Yr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function fi(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bc(t){var e=t._init;return e(t._payload)}function Zf(t){function e(y,h){if(t){var m=y.deletions;m===null?(y.deletions=[h],y.flags|=16):m.push(h)}}function n(y,h){if(!t)return null;for(;h!==null;)e(y,h),h=h.sibling;return null}function r(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function s(y,h){return y=wn(y,h),y.index=0,y.sibling=null,y}function i(y,h,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<h?(y.flags|=2,h):m):(y.flags|=2,h)):(y.flags|=1048576,h)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,h,m,w){return h===null||h.tag!==6?(h=fa(m,y.mode,w),h.return=y,h):(h=s(h,m),h.return=y,h)}function l(y,h,m,w){var _=m.type;return _===dr?d(y,h,m.props.children,w,m.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===tn&&bc(_)===h.type)?(w=s(h,m.props),w.ref=Yr(y,h,m),w.return=y,w):(w=$i(m.type,m.key,m.props,null,y.mode,w),w.ref=Yr(y,h,m),w.return=y,w)}function u(y,h,m,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=ha(m,y.mode,w),h.return=y,h):(h=s(h,m.children||[]),h.return=y,h)}function d(y,h,m,w,_){return h===null||h.tag!==7?(h=Bn(m,y.mode,w,_),h.return=y,h):(h=s(h,m),h.return=y,h)}function c(y,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=fa(""+h,y.mode,m),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ti:return m=$i(h.type,h.key,h.props,null,y.mode,m),m.ref=Yr(y,null,h),m.return=y,m;case cr:return h=ha(h,y.mode,m),h.return=y,h;case tn:var w=h._init;return c(y,w(h._payload),m)}if(as(h)||Vr(h))return h=Bn(h,y.mode,m,null),h.return=y,h;fi(y,h)}return null}function f(y,h,m,w){var _=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:a(y,h,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ti:return m.key===_?l(y,h,m,w):null;case cr:return m.key===_?u(y,h,m,w):null;case tn:return _=m._init,f(y,h,_(m._payload),w)}if(as(m)||Vr(m))return _!==null?null:d(y,h,m,w,null);fi(y,m)}return null}function g(y,h,m,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(m)||null,a(h,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ti:return y=y.get(w.key===null?m:w.key)||null,l(h,y,w,_);case cr:return y=y.get(w.key===null?m:w.key)||null,u(h,y,w,_);case tn:var b=w._init;return g(y,h,m,b(w._payload),_)}if(as(w)||Vr(w))return y=y.get(m)||null,d(h,y,w,_,null);fi(h,w)}return null}function p(y,h,m,w){for(var _=null,b=null,j=h,R=h=0,F=null;j!==null&&R<m.length;R++){j.index>R?(F=j,j=null):F=j.sibling;var A=f(y,j,m[R],w);if(A===null){j===null&&(j=F);break}t&&j&&A.alternate===null&&e(y,j),h=i(A,h,R),b===null?_=A:b.sibling=A,b=A,j=F}if(R===m.length)return n(y,j),pe&&In(y,R),_;if(j===null){for(;R<m.length;R++)j=c(y,m[R],w),j!==null&&(h=i(j,h,R),b===null?_=j:b.sibling=j,b=j);return pe&&In(y,R),_}for(j=r(y,j);R<m.length;R++)F=g(j,y,R,m[R],w),F!==null&&(t&&F.alternate!==null&&j.delete(F.key===null?R:F.key),h=i(F,h,R),b===null?_=F:b.sibling=F,b=F);return t&&j.forEach(function(G){return e(y,G)}),pe&&In(y,R),_}function v(y,h,m,w){var _=Vr(m);if(typeof _!="function")throw Error(I(150));if(m=_.call(m),m==null)throw Error(I(151));for(var b=_=null,j=h,R=h=0,F=null,A=m.next();j!==null&&!A.done;R++,A=m.next()){j.index>R?(F=j,j=null):F=j.sibling;var G=f(y,j,A.value,w);if(G===null){j===null&&(j=F);break}t&&j&&G.alternate===null&&e(y,j),h=i(G,h,R),b===null?_=G:b.sibling=G,b=G,j=F}if(A.done)return n(y,j),pe&&In(y,R),_;if(j===null){for(;!A.done;R++,A=m.next())A=c(y,A.value,w),A!==null&&(h=i(A,h,R),b===null?_=A:b.sibling=A,b=A);return pe&&In(y,R),_}for(j=r(y,j);!A.done;R++,A=m.next())A=g(j,y,R,A.value,w),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?R:A.key),h=i(A,h,R),b===null?_=A:b.sibling=A,b=A);return t&&j.forEach(function(ne){return e(y,ne)}),pe&&In(y,R),_}function C(y,h,m,w){if(typeof m=="object"&&m!==null&&m.type===dr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ti:e:{for(var _=m.key,b=h;b!==null;){if(b.key===_){if(_=m.type,_===dr){if(b.tag===7){n(y,b.sibling),h=s(b,m.props.children),h.return=y,y=h;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===tn&&bc(_)===b.type){n(y,b.sibling),h=s(b,m.props),h.ref=Yr(y,b,m),h.return=y,y=h;break e}n(y,b);break}else e(y,b);b=b.sibling}m.type===dr?(h=Bn(m.props.children,y.mode,w,m.key),h.return=y,y=h):(w=$i(m.type,m.key,m.props,null,y.mode,w),w.ref=Yr(y,h,m),w.return=y,y=w)}return o(y);case cr:e:{for(b=m.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(y,h.sibling),h=s(h,m.children||[]),h.return=y,y=h;break e}else{n(y,h);break}else e(y,h);h=h.sibling}h=ha(m,y.mode,w),h.return=y,y=h}return o(y);case tn:return b=m._init,C(y,h,b(m._payload),w)}if(as(m))return p(y,h,m,w);if(Vr(m))return v(y,h,m,w);fi(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(y,h.sibling),h=s(h,m),h.return=y,y=h):(n(y,h),h=fa(m,y.mode,w),h.return=y,y=h),o(y)):n(y,h)}return C}var Lr=Zf(!0),eh=Zf(!1),qi=bn(null),Qi=null,wr=null,su=null;function iu(){su=wr=Qi=null}function ou(t){var e=qi.current;he(qi),t._currentValue=e}function Za(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cr(t,e){Qi=t,su=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(su!==t)if(t={context:t,memoizedValue:e,next:null},wr===null){if(Qi===null)throw Error(I(308));wr=t,Qi.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var Fn=null;function au(t){Fn===null?Fn=[t]:Fn.push(t)}function th(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,au(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kt(t,r)}function Kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nn=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kt(t,n)}return s=r.interleaved,s===null?(e.next=e,au(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kt(t,n)}function ji(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kl(t,n)}}function Ec(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yi(t,e,n,r){var s=t.updateQueue;nn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var c=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(f=e,g=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){c=p.call(g,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(g,c,f):p,f==null)break e;c=ye({},c,f);break e;case 2:nn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=c):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=c),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Kn|=o,t.lanes=o,t.memoizedState=c}}function Cc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Js={},zt=bn(Js),zs=bn(Js),As=bn(Js);function Un(t){if(t===Js)throw Error(I(174));return t}function uu(t,e){switch(de(As,e),de(zs,t),de(zt,Js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ia(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ia(e,t)}he(zt),de(zt,e)}function Ir(){he(zt),he(zs),he(As)}function rh(t){Un(As.current);var e=Un(zt.current),n=Ia(e,t.type);e!==n&&(de(zs,t),de(zt,n))}function cu(t){zs.current===t&&(he(zt),he(zs))}var ge=bn(0);function Xi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oa=[];function du(){for(var t=0;t<oa.length;t++)oa[t]._workInProgressVersionPrimary=null;oa.length=0}var Pi=qt.ReactCurrentDispatcher,aa=qt.ReactCurrentBatchConfig,Vn=0,me=null,be=null,Te=null,Zi=!1,ys=!1,Ns=0,d0=0;function Ie(){throw Error(I(321))}function fu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function hu(t,e,n,r,s,i){if(Vn=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pi.current=t===null||t.memoizedState===null?g0:m0,t=n(r,s),ys){i=0;do{if(ys=!1,Ns=0,25<=i)throw Error(I(301));i+=1,Te=be=null,e.updateQueue=null,Pi.current=y0,t=n(r,s)}while(ys)}if(Pi.current=eo,e=be!==null&&be.next!==null,Vn=0,Te=be=me=null,Zi=!1,e)throw Error(I(300));return t}function pu(){var t=Ns!==0;return Ns=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?me.memoizedState=Te=t:Te=Te.next=t,Te}function ht(){if(be===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Te===null?me.memoizedState:Te.next;if(e!==null)Te=e,be=t;else{if(t===null)throw Error(I(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Te===null?me.memoizedState=Te=t:Te=Te.next=t}return Te}function Ms(t,e){return typeof e=="function"?e(t):e}function la(t){var e=ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Vn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,me.lanes|=d,Kn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Et(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,Kn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ua(t){var e=ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Et(i,e.memoizedState)||(Ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function sh(){}function ih(t,e){var n=me,r=ht(),s=e(),i=!Et(r.memoizedState,s);if(i&&(r.memoizedState=s,Ke=!0),r=r.queue,gu(lh.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Fs(9,ah.bind(null,n,r,s,e),void 0,null),je===null)throw Error(I(349));Vn&30||oh(n,e,s)}return s}function oh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ah(t,e,n,r){e.value=n,e.getSnapshot=r,uh(e)&&ch(t)}function lh(t,e,n){return n(function(){uh(e)&&ch(t)})}function uh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch{return!0}}function ch(t){var e=Kt(t,1);e!==null&&bt(e,t,1,-1)}function Tc(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:t},e.queue=t,t=t.dispatch=p0.bind(null,me,t),[e.memoizedState,t]}function Fs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dh(){return ht().memoizedState}function Oi(t,e,n,r){var s=Rt();me.flags|=t,s.memoizedState=Fs(1|e,n,void 0,r===void 0?null:r)}function xo(t,e,n,r){var s=ht();r=r===void 0?null:r;var i=void 0;if(be!==null){var o=be.memoizedState;if(i=o.destroy,r!==null&&fu(r,o.deps)){s.memoizedState=Fs(e,n,i,r);return}}me.flags|=t,s.memoizedState=Fs(1|e,n,i,r)}function jc(t,e){return Oi(8390656,8,t,e)}function gu(t,e){return xo(2048,8,t,e)}function fh(t,e){return xo(4,2,t,e)}function hh(t,e){return xo(4,4,t,e)}function ph(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gh(t,e,n){return n=n!=null?n.concat([t]):null,xo(4,4,ph.bind(null,e,t),n)}function mu(){}function mh(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yh(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vh(t,e,n){return Vn&21?(Et(n,e)||(n=_f(),me.lanes|=n,Kn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=n)}function f0(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=aa.transition;aa.transition={};try{t(!1),e()}finally{ue=n,aa.transition=r}}function wh(){return ht().memoizedState}function h0(t,e,n){var r=vn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sh(t))xh(e,n);else if(n=th(t,e,n,r),n!==null){var s=Ue();bt(n,t,r,s),kh(n,e,r)}}function p0(t,e,n){var r=vn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sh(t))xh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Et(a,o)){var l=e.interleaved;l===null?(s.next=s,au(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=th(t,e,s,r),n!==null&&(s=Ue(),bt(n,t,r,s),kh(n,e,r))}}function Sh(t){var e=t.alternate;return t===me||e!==null&&e===me}function xh(t,e){ys=Zi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kl(t,n)}}var eo={readContext:ft,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},g0={readContext:ft,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:jc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oi(4194308,4,ph.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oi(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h0.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:Tc,useDebugValue:mu,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=Tc(!1),e=t[0];return t=f0.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=Rt();if(pe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),je===null)throw Error(I(349));Vn&30||oh(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jc(lh.bind(null,r,i,t),[t]),r.flags|=2048,Fs(9,ah.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rt(),e=je.identifierPrefix;if(pe){var n=Wt,r=Bt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},m0={readContext:ft,useCallback:mh,useContext:ft,useEffect:gu,useImperativeHandle:gh,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:la,useRef:dh,useState:function(){return la(Ms)},useDebugValue:mu,useDeferredValue:function(t){var e=ht();return vh(e,be.memoizedState,t)},useTransition:function(){var t=la(Ms)[0],e=ht().memoizedState;return[t,e]},useMutableSource:sh,useSyncExternalStore:ih,useId:wh,unstable_isNewReconciler:!1},y0={readContext:ft,useCallback:mh,useContext:ft,useEffect:gu,useImperativeHandle:gh,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:ua,useRef:dh,useState:function(){return ua(Ms)},useDebugValue:mu,useDeferredValue:function(t){var e=ht();return be===null?e.memoizedState=t:vh(e,be.memoizedState,t)},useTransition:function(){var t=ua(Ms)[0],e=ht().memoizedState;return[t,e]},useMutableSource:sh,useSyncExternalStore:ih,useId:wh,unstable_isNewReconciler:!1};function vt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function el(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ko={isMounted:function(t){return(t=t._reactInternals)?Yn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ue(),s=vn(t),i=Ht(r,s);i.payload=e,n!=null&&(i.callback=n),e=mn(t,i,s),e!==null&&(bt(e,t,s,r),ji(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ue(),s=vn(t),i=Ht(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=mn(t,i,s),e!==null&&(bt(e,t,s,r),ji(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),r=vn(t),s=Ht(n,r);s.tag=2,e!=null&&(s.callback=e),e=mn(t,s,r),e!==null&&(bt(e,t,r,n),ji(e,t,r))}};function Pc(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Rs(n,r)||!Rs(s,i):!0}function _h(t,e,n){var r=!1,s=kn,i=e.contextType;return typeof i=="object"&&i!==null?i=ft(i):(s=Qe(e)?Hn:Ne.current,r=e.contextTypes,i=(r=r!=null)?Or(t,s):kn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ko,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Oc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ko.enqueueReplaceState(e,e.state,null)}function tl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ft(i):(i=Qe(e)?Hn:Ne.current,s.context=Or(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(el(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ko.enqueueReplaceState(s,s.state,null),Yi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $r(t,e){try{var n="",r=e;do n+=Gg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ca(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function bh(t,e,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){no||(no=!0,fl=r),nl(t,e)},n}function Eh(t,e,n){n=Ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){nl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nl(t,e),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new v0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=L0.bind(null,t,e,n),e.then(t,t))}function Lc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ic(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ht(-1,1),e.tag=2,mn(n,e,1))),n.lanes|=1),t)}var w0=qt.ReactCurrentOwner,Ke=!1;function Fe(t,e,n,r){e.child=t===null?eh(e,null,n,r):Lr(e,t.child,n,r)}function $c(t,e,n,r,s){n=n.render;var i=e.ref;return Cr(e,s),r=hu(t,e,n,r,i,s),n=pu(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(pe&&n&&tu(e),e.flags|=1,Fe(t,e,r,s),e.child)}function zc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ch(t,e,i,r,s)):(t=$i(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(o,r)&&t.ref===e.ref)return Jt(t,e,s)}return e.flags|=1,t=wn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ch(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Rs(i,r)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,Jt(t,e,s)}return rl(t,e,n,r,s)}function Th(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(xr,Ze),Ze|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(xr,Ze),Ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(xr,Ze),Ze|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,de(xr,Ze),Ze|=r;return Fe(t,e,s,n),e.child}function jh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rl(t,e,n,r,s){var i=Qe(n)?Hn:Ne.current;return i=Or(e,i),Cr(e,s),n=hu(t,e,n,r,i,s),r=pu(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(pe&&r&&tu(e),e.flags|=1,Fe(t,e,n,s),e.child)}function Ac(t,e,n,r,s){if(Qe(n)){var i=!0;Vi(e)}else i=!1;if(Cr(e,s),e.stateNode===null)Ri(t,e),_h(e,n,r),tl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Qe(n)?Hn:Ne.current,u=Or(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Oc(e,o,r,u),nn=!1;var f=e.memoizedState;o.state=f,Yi(e,r,o,s),l=e.memoizedState,a!==r||f!==l||qe.current||nn?(typeof d=="function"&&(el(e,n,d,r),l=e.memoizedState),(a=nn||Pc(e,n,a,r,f,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:vt(e.type,a),o.props=u,c=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Qe(n)?Hn:Ne.current,l=Or(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==l)&&Oc(e,o,r,l),nn=!1,f=e.memoizedState,o.state=f,Yi(e,r,o,s);var p=e.memoizedState;a!==c||f!==p||qe.current||nn?(typeof g=="function"&&(el(e,n,g,r),p=e.memoizedState),(u=nn||Pc(e,n,u,r,f,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return sl(t,e,n,r,i,s)}function sl(t,e,n,r,s,i){jh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&xc(e,n,!1),Jt(t,e,i);r=e.stateNode,w0.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Lr(e,t.child,null,i),e.child=Lr(e,null,a,i)):Fe(t,e,a,i),e.memoizedState=r.state,s&&xc(e,n,!0),e.child}function Ph(t){var e=t.stateNode;e.pendingContext?Sc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sc(t,e.context,!1),uu(t,e.containerInfo)}function Nc(t,e,n,r,s){return Rr(),ru(s),e.flags|=256,Fe(t,e,n,r),e.child}var il={dehydrated:null,treeContext:null,retryLane:0};function ol(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oh(t,e,n){var r=e.pendingProps,s=ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),de(ge,s&1),t===null)return Xa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Eo(o,r,0,null),t=Bn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ol(n),e.memoizedState=il,t):yu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return S0(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=wn(a,i):(i=Bn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ol(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=il,r}return i=t.child,t=i.sibling,r=wn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yu(t,e){return e=Eo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hi(t,e,n,r){return r!==null&&ru(r),Lr(e,t.child,null,n),t=yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ca(Error(I(422))),hi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Eo({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Lr(e,t.child,null,o),e.child.memoizedState=ol(o),e.memoizedState=il,i);if(!(e.mode&1))return hi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=ca(i,r,void 0),hi(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ke||a){if(r=je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(t,s),bt(r,t,s,-1))}return _u(),r=ca(Error(I(421))),hi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=I0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,et=gn(s.nextSibling),tt=e,pe=!0,xt=null,t!==null&&(at[lt++]=Bt,at[lt++]=Wt,at[lt++]=Gn,Bt=t.id,Wt=t.overflow,Gn=e),e=yu(e,r.children),e.flags|=4096,e)}function Mc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Za(t.return,e,n)}function da(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Rh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Fe(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mc(t,n,e);else if(t.tag===19)Mc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),da(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}da(e,!0,n,null,i);break;case"together":da(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ri(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x0(t,e,n){switch(e.tag){case 3:Ph(e),Rr();break;case 5:rh(e);break;case 1:Qe(e.type)&&Vi(e);break;case 4:uu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;de(qi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?Oh(t,e,n):(de(ge,ge.current&1),t=Jt(t,e,n),t!==null?t.sibling:null);de(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,Th(t,e,n)}return Jt(t,e,n)}var Lh,al,Ih,$h;Lh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};al=function(){};Ih=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Un(zt.current);var i=null;switch(n){case"input":s=Pa(t,s),r=Pa(t,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=La(t,s),r=La(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hi)}$a(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};$h=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xr(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k0(t,e,n){var r=e.pendingProps;switch(nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return Qe(e.type)&&Gi(),$e(e),null;case 3:return r=e.stateNode,Ir(),he(qe),he(Ne),du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(di(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(gl(xt),xt=null))),al(t,e),$e(e),null;case 5:cu(e);var s=Un(As.current);if(n=e.type,t!==null&&e.stateNode!=null)Ih(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return $e(e),null}if(t=Un(zt.current),di(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Lt]=e,r[$s]=i,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<us.length;s++)fe(us[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Ku(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":qu(r,i),fe("invalid",r)}$a(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ci(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ci(r.textContent,a,t),s=["children",""+a]):bs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":ni(r),Ju(r,i,!0);break;case"textarea":ni(r),Qu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Lt]=e,t[$s]=r,Lh(t,e,!1,!1),e.stateNode=t;e:{switch(o=za(n,r),n){case"dialog":fe("cancel",t),fe("close",t),s=r;break;case"iframe":case"object":case"embed":fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<us.length;s++)fe(us[s],t);s=r;break;case"source":fe("error",t),s=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),s=r;break;case"details":fe("toggle",t),s=r;break;case"input":Ku(t,r),s=Pa(t,r),fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),fe("invalid",t);break;case"textarea":qu(t,r),s=La(t,r),fe("invalid",t);break;default:s=r}$a(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?df(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Es(t,l):typeof l=="number"&&Es(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&fe("scroll",t):l!=null&&Dl(t,i,l,o))}switch(n){case"input":ni(t),Ju(t,r,!1);break;case"textarea":ni(t),Qu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?kr(t,!!r.multiple,i,!1):r.defaultValue!=null&&kr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)$h(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Un(As.current),Un(zt.current),di(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lt]=e,(i=r.nodeValue!==n)&&(t=tt,t!==null))switch(t.tag){case 3:ci(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ci(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=e,e.stateNode=r}return $e(e),null;case 13:if(he(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&et!==null&&e.mode&1&&!(e.flags&128))Xf(),Rr(),e.flags|=98560,i=!1;else if(i=di(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Lt]=e}else Rr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),i=!1}else xt!==null&&(gl(xt),xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Ee===0&&(Ee=3):_u())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return Ir(),al(t,e),t===null&&Ls(e.stateNode.containerInfo),$e(e),null;case 10:return ou(e.type._context),$e(e),null;case 17:return Qe(e.type)&&Gi(),$e(e),null;case 19:if(he(ge),i=e.memoizedState,i===null)return $e(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xr(i,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xi(t),o!==null){for(e.flags|=128,Xr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(ge,ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&Se()>zr&&(e.flags|=128,r=!0,Xr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return $e(e),null}else 2*Se()-i.renderingStartTime>zr&&n!==1073741824&&(e.flags|=128,r=!0,Xr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Se(),e.sibling=null,n=ge.current,de(ge,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return ku(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ze&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function _0(t,e){switch(nu(e),e.tag){case 1:return Qe(e.type)&&Gi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ir(),he(qe),he(Ne),du(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cu(e),null;case 13:if(he(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ge),null;case 4:return Ir(),null;case 10:return ou(e.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var pi=!1,Ae=!1,b0=typeof WeakSet=="function"?WeakSet:Set,D=null;function Sr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function ll(t,e,n){try{n()}catch(r){we(t,e,r)}}var Fc=!1;function E0(t,e){if(Ga=Di,t=Ff(),eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var g;c!==n||s!==0&&c.nodeType!==3||(a=o+s),c!==i||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Va={focusedElem:t,selectionRange:n},Di=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,C=p.memoizedState,y=e.stateNode,h=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:vt(e.type,v),C);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){we(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return p=Fc,Fc=!1,p}function vs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ll(e,n,i)}s=s.next}while(s!==r)}}function _o(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ul(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zh(t){var e=t.alternate;e!==null&&(t.alternate=null,zh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lt],delete e[$s],delete e[qa],delete e[a0],delete e[l0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ah(t){return t.tag===5||t.tag===3||t.tag===4}function Uc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ah(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hi));else if(r!==4&&(t=t.child,t!==null))for(cl(t,e,n),t=t.sibling;t!==null;)cl(t,e,n),t=t.sibling}function dl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dl(t,e,n),t=t.sibling;t!==null;)dl(t,e,n),t=t.sibling}var Oe=null,wt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)Nh(t,e,n),n=n.sibling}function Nh(t,e,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(go,n)}catch{}switch(n.tag){case 5:Ae||Sr(n,e);case 6:var r=Oe,s=wt;Oe=null,Xt(t,e,n),Oe=r,wt=s,Oe!==null&&(wt?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(wt?(t=Oe,n=n.stateNode,t.nodeType===8?sa(t.parentNode,n):t.nodeType===1&&sa(t,n),Ps(t)):sa(Oe,n.stateNode));break;case 4:r=Oe,s=wt,Oe=n.stateNode.containerInfo,wt=!0,Xt(t,e,n),Oe=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ll(n,e,o),s=s.next}while(s!==r)}Xt(t,e,n);break;case 1:if(!Ae&&(Sr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,e,a)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,Xt(t,e,n),Ae=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function Dc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new b0),e.forEach(function(r){var s=$0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,wt=!1;break e;case 3:Oe=a.stateNode.containerInfo,wt=!0;break e;case 4:Oe=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Oe===null)throw Error(I(160));Nh(i,o,s),Oe=null,wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){we(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mh(e,t),e=e.sibling}function Mh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),Pt(t),r&4){try{vs(3,t,t.return),_o(3,t)}catch(v){we(t,t.return,v)}try{vs(5,t,t.return)}catch(v){we(t,t.return,v)}}break;case 1:gt(e,t),Pt(t),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(gt(e,t),Pt(t),r&512&&n!==null&&Sr(n,n.return),t.flags&32){var s=t.stateNode;try{Es(s,"")}catch(v){we(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&of(s,i),za(a,o);var u=za(a,i);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?df(s,c):d==="dangerouslySetInnerHTML"?uf(s,c):d==="children"?Es(s,c):Dl(s,d,c,u)}switch(a){case"input":Oa(s,i);break;case"textarea":af(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?kr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?kr(s,!!i.multiple,i.defaultValue,!0):kr(s,!!i.multiple,i.multiple?[]:"",!1))}s[$s]=i}catch(v){we(t,t.return,v)}}break;case 6:if(gt(e,t),Pt(t),r&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){we(t,t.return,v)}}break;case 3:if(gt(e,t),Pt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(e.containerInfo)}catch(v){we(t,t.return,v)}break;case 4:gt(e,t),Pt(t);break;case 13:gt(e,t),Pt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Su=Se())),r&4&&Dc(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(u=Ae)||d,gt(e,t),Ae=u):gt(e,t),Pt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(c=D=d;D!==null;){switch(f=D,g=f.child,f.tag){case 0:case 11:case 14:case 15:vs(4,f,f.return);break;case 1:Sr(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){we(r,n,v)}}break;case 5:Sr(f,f.return);break;case 22:if(f.memoizedState!==null){Wc(c);continue}}g!==null?(g.return=f,D=g):Wc(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cf("display",o))}catch(v){we(t,t.return,v)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){we(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:gt(e,t),Pt(t),r&4&&Dc(t);break;case 21:break;default:gt(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ah(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Es(s,""),r.flags&=-33);var i=Uc(t);dl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uc(t);cl(t,a,o);break;default:throw Error(I(161))}}catch(l){we(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C0(t,e,n){D=t,Fh(t)}function Fh(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||pi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=pi;var u=Ae;if(pi=o,(Ae=l)&&!u)for(D=s;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Hc(s):l!==null?(l.return=o,D=l):Hc(s);for(;i!==null;)D=i,Fh(i),i=i.sibling;D=s,pi=a,Ae=u}Bc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Bc(t)}}function Bc(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||_o(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cc(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cc(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Ps(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ae||e.flags&512&&ul(e)}catch(f){we(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Wc(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Hc(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_o(4,e)}catch(l){we(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){we(e,s,l)}}var i=e.return;try{ul(e)}catch(l){we(e,i,l)}break;case 5:var o=e.return;try{ul(e)}catch(l){we(e,o,l)}}}catch(l){we(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var T0=Math.ceil,to=qt.ReactCurrentDispatcher,vu=qt.ReactCurrentOwner,ct=qt.ReactCurrentBatchConfig,se=0,je=null,_e=null,Re=0,Ze=0,xr=bn(0),Ee=0,Us=null,Kn=0,bo=0,wu=0,ws=null,Ge=null,Su=0,zr=1/0,Ft=null,no=!1,fl=null,yn=null,gi=!1,dn=null,ro=0,Ss=0,hl=null,Li=-1,Ii=0;function Ue(){return se&6?Se():Li!==-1?Li:Li=Se()}function vn(t){return t.mode&1?se&2&&Re!==0?Re&-Re:c0.transition!==null?(Ii===0&&(Ii=_f()),Ii):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Of(t.type)),t):1}function bt(t,e,n,r){if(50<Ss)throw Ss=0,hl=null,Error(I(185));Gs(t,n,r),(!(se&2)||t!==je)&&(t===je&&(!(se&2)&&(bo|=n),Ee===4&&an(t,Re)),Ye(t,r),n===1&&se===0&&!(e.mode&1)&&(zr=Se()+500,So&&En()))}function Ye(t,e){var n=t.callbackNode;cm(t,e);var r=Ui(t,t===je?Re:0);if(r===0)n!==null&&Zu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zu(n),e===1)t.tag===0?u0(Gc.bind(null,t)):qf(Gc.bind(null,t)),i0(function(){!(se&6)&&En()}),n=null;else{switch(bf(r)){case 1:n=Vl;break;case 4:n=xf;break;case 16:n=Fi;break;case 536870912:n=kf;break;default:n=Fi}n=Kh(n,Uh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Uh(t,e){if(Li=-1,Ii=0,se&6)throw Error(I(327));var n=t.callbackNode;if(Tr()&&t.callbackNode!==n)return null;var r=Ui(t,t===je?Re:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=so(t,r);else{e=r;var s=se;se|=2;var i=Bh();(je!==t||Re!==e)&&(Ft=null,zr=Se()+500,Dn(t,e));do try{O0();break}catch(a){Dh(t,a)}while(!0);iu(),to.current=i,se=s,_e!==null?e=0:(je=null,Re=0,e=Ee)}if(e!==0){if(e===2&&(s=Ua(t),s!==0&&(r=s,e=pl(t,s))),e===1)throw n=Us,Dn(t,0),an(t,r),Ye(t,Se()),n;if(e===6)an(t,r);else{if(s=t.current.alternate,!(r&30)&&!j0(s)&&(e=so(t,r),e===2&&(i=Ua(t),i!==0&&(r=i,e=pl(t,i))),e===1))throw n=Us,Dn(t,0),an(t,r),Ye(t,Se()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:$n(t,Ge,Ft);break;case 3:if(an(t,r),(r&130023424)===r&&(e=Su+500-Se(),10<e)){if(Ui(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ue(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ja($n.bind(null,t,Ge,Ft),e);break}$n(t,Ge,Ft);break;case 4:if(an(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_t(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T0(r/1960))-r,10<r){t.timeoutHandle=Ja($n.bind(null,t,Ge,Ft),r);break}$n(t,Ge,Ft);break;case 5:$n(t,Ge,Ft);break;default:throw Error(I(329))}}}return Ye(t,Se()),t.callbackNode===n?Uh.bind(null,t):null}function pl(t,e){var n=ws;return t.current.memoizedState.isDehydrated&&(Dn(t,e).flags|=256),t=so(t,e),t!==2&&(e=Ge,Ge=n,e!==null&&gl(e)),t}function gl(t){Ge===null?Ge=t:Ge.push.apply(Ge,t)}function j0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Et(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function an(t,e){for(e&=~wu,e&=~bo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_t(e),r=1<<n;t[n]=-1,e&=~r}}function Gc(t){if(se&6)throw Error(I(327));Tr();var e=Ui(t,0);if(!(e&1))return Ye(t,Se()),null;var n=so(t,e);if(t.tag!==0&&n===2){var r=Ua(t);r!==0&&(e=r,n=pl(t,r))}if(n===1)throw n=Us,Dn(t,0),an(t,e),Ye(t,Se()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$n(t,Ge,Ft),Ye(t,Se()),null}function xu(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(zr=Se()+500,So&&En())}}function Jn(t){dn!==null&&dn.tag===0&&!(se&6)&&Tr();var e=se;se|=1;var n=ct.transition,r=ue;try{if(ct.transition=null,ue=1,t)return t()}finally{ue=r,ct.transition=n,se=e,!(se&6)&&En()}}function ku(){Ze=xr.current,he(xr)}function Dn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s0(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gi();break;case 3:Ir(),he(qe),he(Ne),du();break;case 5:cu(r);break;case 4:Ir();break;case 13:he(ge);break;case 19:he(ge);break;case 10:ou(r.type._context);break;case 22:case 23:ku()}n=n.return}if(je=t,_e=t=wn(t.current,null),Re=Ze=e,Ee=0,Us=null,wu=bo=Kn=0,Ge=ws=null,Fn!==null){for(e=0;e<Fn.length;e++)if(n=Fn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fn=null}return t}function Dh(t,e){do{var n=_e;try{if(iu(),Pi.current=eo,Zi){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zi=!1}if(Vn=0,Te=be=me=null,ys=!1,Ns=0,vu.current=null,n===null||n.return===null){Ee=1,Us=e,_e=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Lc(o);if(g!==null){g.flags&=-257,Ic(g,o,a,i,e),g.mode&1&&Rc(i,u,e),e=g,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Rc(i,u,e),_u();break e}l=Error(I(426))}}else if(pe&&a.mode&1){var C=Lc(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ic(C,o,a,i,e),ru($r(l,a));break e}}i=l=$r(l,a),Ee!==4&&(Ee=2),ws===null?ws=[i]:ws.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=bh(i,l,e);Ec(i,y);break e;case 1:a=l;var h=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(yn===null||!yn.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Eh(i,a,e);Ec(i,w);break e}}i=i.return}while(i!==null)}Hh(n)}catch(_){e=_,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function Bh(){var t=to.current;return to.current=eo,t===null?eo:t}function _u(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),je===null||!(Kn&268435455)&&!(bo&268435455)||an(je,Re)}function so(t,e){var n=se;se|=2;var r=Bh();(je!==t||Re!==e)&&(Ft=null,Dn(t,e));do try{P0();break}catch(s){Dh(t,s)}while(!0);if(iu(),se=n,to.current=r,_e!==null)throw Error(I(261));return je=null,Re=0,Ee}function P0(){for(;_e!==null;)Wh(_e)}function O0(){for(;_e!==null&&!tm();)Wh(_e)}function Wh(t){var e=Vh(t.alternate,t,Ze);t.memoizedProps=t.pendingProps,e===null?Hh(t):_e=e,vu.current=null}function Hh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_0(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,_e=null;return}}else if(n=k0(n,e,Ze),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Ee===0&&(Ee=5)}function $n(t,e,n){var r=ue,s=ct.transition;try{ct.transition=null,ue=1,R0(t,e,n,r)}finally{ct.transition=s,ue=r}return null}function R0(t,e,n,r){do Tr();while(dn!==null);if(se&6)throw Error(I(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dm(t,i),t===je&&(_e=je=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gi||(gi=!0,Kh(Fi,function(){return Tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ct.transition,ct.transition=null;var o=ue;ue=1;var a=se;se|=4,vu.current=null,E0(t,n),Mh(n,t),Ym(Va),Di=!!Ga,Va=Ga=null,t.current=n,C0(n),nm(),se=a,ue=o,ct.transition=i}else t.current=n;if(gi&&(gi=!1,dn=t,ro=s),i=t.pendingLanes,i===0&&(yn=null),im(n.stateNode),Ye(t,Se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(no)throw no=!1,t=fl,fl=null,t;return ro&1&&t.tag!==0&&Tr(),i=t.pendingLanes,i&1?t===hl?Ss++:(Ss=0,hl=t):Ss=0,En(),null}function Tr(){if(dn!==null){var t=bf(ro),e=ct.transition,n=ue;try{if(ct.transition=null,ue=16>t?16:t,dn===null)var r=!1;else{if(t=dn,dn=null,ro=0,se&6)throw Error(I(331));var s=se;for(se|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:vs(8,d,i)}var c=d.child;if(c!==null)c.return=d,D=c;else for(;D!==null;){d=D;var f=d.sibling,g=d.return;if(zh(d),d===u){D=null;break}if(f!==null){f.return=g,D=f;break}D=g}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vs(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var h=t.current;for(D=h;D!==null;){o=D;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,D=m;else e:for(o=h;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_o(9,a)}}catch(_){we(a,a.return,_)}if(a===o){D=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,D=w;break e}D=a.return}}if(se=s,En(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(go,t)}catch{}r=!0}return r}finally{ue=n,ct.transition=e}}return!1}function Vc(t,e,n){e=$r(n,e),e=bh(t,e,1),t=mn(t,e,1),e=Ue(),t!==null&&(Gs(t,1,e),Ye(t,e))}function we(t,e,n){if(t.tag===3)Vc(t,t,n);else for(;e!==null;){if(e.tag===3){Vc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){t=$r(n,t),t=Eh(e,t,1),e=mn(e,t,1),t=Ue(),e!==null&&(Gs(e,1,t),Ye(e,t));break}}e=e.return}}function L0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Re&n)===n&&(Ee===4||Ee===3&&(Re&130023424)===Re&&500>Se()-Su?Dn(t,0):wu|=n),Ye(t,e)}function Gh(t,e){e===0&&(t.mode&1?(e=ii,ii<<=1,!(ii&130023424)&&(ii=4194304)):e=1);var n=Ue();t=Kt(t,e),t!==null&&(Gs(t,e,n),Ye(t,n))}function I0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gh(t,n)}function $0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),Gh(t,n)}var Vh;Vh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qe.current)Ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ke=!1,x0(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,pe&&e.flags&1048576&&Qf(e,Ji,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ri(t,e),t=e.pendingProps;var s=Or(e,Ne.current);Cr(e,n),s=hu(null,e,r,t,s,n);var i=pu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(r)?(i=!0,Vi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lu(e),s.updater=ko,e.stateNode=s,s._reactInternals=e,tl(e,r,t,n),e=sl(null,e,r,!0,i,n)):(e.tag=0,pe&&i&&tu(e),Fe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ri(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=A0(r),t=vt(r,t),s){case 0:e=rl(null,e,r,t,n);break e;case 1:e=Ac(null,e,r,t,n);break e;case 11:e=$c(null,e,r,t,n);break e;case 14:e=zc(null,e,r,vt(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),rl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),Ac(t,e,r,s,n);case 3:e:{if(Ph(e),t===null)throw Error(I(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nh(t,e),Yi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$r(Error(I(423)),e),e=Nc(t,e,r,n,s);break e}else if(r!==s){s=$r(Error(I(424)),e),e=Nc(t,e,r,n,s);break e}else for(et=gn(e.stateNode.containerInfo.firstChild),tt=e,pe=!0,xt=null,n=eh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),r===s){e=Jt(t,e,n);break e}Fe(t,e,r,n)}e=e.child}return e;case 5:return rh(e),t===null&&Xa(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ka(r,s)?o=null:i!==null&&Ka(r,i)&&(e.flags|=32),jh(t,e),Fe(t,e,o,n),e.child;case 6:return t===null&&Xa(e),null;case 13:return Oh(t,e,n);case 4:return uu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lr(e,null,r,n):Fe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),$c(t,e,r,s,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,de(qi,r._currentValue),r._currentValue=o,i!==null)if(Et(i.value,o)){if(i.children===s.children&&!qe.current){e=Jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ht(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Za(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Za(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Cr(e,n),s=ft(s),r=r(s),e.flags|=1,Fe(t,e,r,n),e.child;case 14:return r=e.type,s=vt(r,e.pendingProps),s=vt(r.type,s),zc(t,e,r,s,n);case 15:return Ch(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vt(r,s),Ri(t,e),e.tag=1,Qe(r)?(t=!0,Vi(e)):t=!1,Cr(e,n),_h(e,r,s),tl(e,r,s,n),sl(null,e,r,!0,t,n);case 19:return Rh(t,e,n);case 22:return Th(t,e,n)}throw Error(I(156,e.tag))};function Kh(t,e){return Sf(t,e)}function z0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,n,r){return new z0(t,e,n,r)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A0(t){if(typeof t=="function")return bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wl)return 11;if(t===Hl)return 14}return 2}function wn(t,e){var n=t.alternate;return n===null?(n=ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $i(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dr:return Bn(n.children,s,i,e);case Bl:o=8,s|=8;break;case Ea:return t=ut(12,n,e,s|2),t.elementType=Ea,t.lanes=i,t;case Ca:return t=ut(13,n,e,s),t.elementType=Ca,t.lanes=i,t;case Ta:return t=ut(19,n,e,s),t.elementType=Ta,t.lanes=i,t;case nf:return Eo(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ef:o=10;break e;case tf:o=9;break e;case Wl:o=11;break e;case Hl:o=14;break e;case tn:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=ut(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Bn(t,e,n,r){return t=ut(7,t,r,e),t.lanes=n,t}function Eo(t,e,n,r){return t=ut(22,t,r,e),t.elementType=nf,t.lanes=n,t.stateNode={isHidden:!1},t}function fa(t,e,n){return t=ut(6,t,null,e),t.lanes=n,t}function ha(t,e,n){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(t,e,n,r,s,i,o,a,l){return t=new N0(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ut(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(i),t}function M0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Jh(t){if(!t)return kn;t=t._reactInternals;e:{if(Yn(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Qe(n))return Jf(t,n,e)}return e}function qh(t,e,n,r,s,i,o,a,l){return t=Eu(n,r,!0,t,s,i,o,a,l),t.context=Jh(null),n=t.current,r=Ue(),s=vn(n),i=Ht(r,s),i.callback=e??null,mn(n,i,s),t.current.lanes=s,Gs(t,s,r),Ye(t,r),t}function Co(t,e,n,r){var s=e.current,i=Ue(),o=vn(s);return n=Jh(n),e.context===null?e.context=n:e.pendingContext=n,e=Ht(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mn(s,e,o),t!==null&&(bt(t,s,o,i),ji(t,s,o)),o}function io(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cu(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}function F0(){return null}var Qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tu(t){this._internalRoot=t}To.prototype.render=Tu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Co(t,e,null,null)};To.prototype.unmount=Tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jn(function(){Co(null,t,null,null)}),e[Vt]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<on.length&&e!==0&&e<on[n].priority;n++);on.splice(n,0,t),n===0&&Pf(t)}};function ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function U0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=io(o);i.call(u)}}var o=qh(e,r,t,0,null,!1,!1,"",Jc);return t._reactRootContainer=o,t[Vt]=o.current,Ls(t.nodeType===8?t.parentNode:t),Jn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=io(l);a.call(u)}}var l=Eu(t,0,!1,null,null,!1,!1,"",Jc);return t._reactRootContainer=l,t[Vt]=l.current,Ls(t.nodeType===8?t.parentNode:t),Jn(function(){Co(e,l,n,r)}),l}function Po(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=io(o);a.call(l)}}Co(e,o,t,s)}else o=U0(n,e,t,s,r);return io(o)}Ef=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ls(e.pendingLanes);n!==0&&(Kl(e,n|1),Ye(e,Se()),!(se&6)&&(zr=Se()+500,En()))}break;case 13:Jn(function(){var r=Kt(t,1);if(r!==null){var s=Ue();bt(r,t,1,s)}}),Cu(t,1)}};Jl=function(t){if(t.tag===13){var e=Kt(t,134217728);if(e!==null){var n=Ue();bt(e,t,134217728,n)}Cu(t,134217728)}};Cf=function(t){if(t.tag===13){var e=vn(t),n=Kt(t,e);if(n!==null){var r=Ue();bt(n,t,e,r)}Cu(t,e)}};Tf=function(){return ue};jf=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Na=function(t,e,n){switch(e){case"input":if(Oa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wo(r);if(!s)throw Error(I(90));sf(r),Oa(r,s)}}}break;case"textarea":af(t,n);break;case"select":e=n.value,e!=null&&kr(t,!!n.multiple,e,!1)}};pf=xu;gf=Jn;var D0={usingClientEntryPoint:!1,Events:[Ks,gr,wo,ff,hf,xu]},Zr={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:Zr.bundleType,version:Zr.version,rendererPackageName:Zr.rendererPackageName,rendererConfig:Zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vf(t),t===null?null:t.stateNode},findFiberByHostInstance:Zr.findFiberByHostInstance||F0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{go=mi.inject(B0),$t=mi}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D0;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(e))throw Error(I(200));return M0(t,e,null,n)};rt.createRoot=function(t,e){if(!ju(t))throw Error(I(299));var n=!1,r="",s=Qh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Eu(t,1,!1,null,null,n,!1,r,s),t[Vt]=e.current,Ls(t.nodeType===8?t.parentNode:t),new Tu(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=vf(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return Jn(t)};rt.hydrate=function(t,e,n){if(!jo(e))throw Error(I(200));return Po(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!ju(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Qh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qh(e,null,t,1,n??null,s,!1,i,o),t[Vt]=e.current,Ls(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new To(e)};rt.render=function(t,e,n){if(!jo(e))throw Error(I(200));return Po(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!jo(t))throw Error(I(40));return t._reactRootContainer?(Jn(function(){Po(null,null,t,!1,function(){t._reactRootContainer=null,t[Vt]=null})}),!0):!1};rt.unstable_batchedUpdates=xu;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jo(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Po(t,e,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function Yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yh)}catch(t){console.error(t)}}Yh(),Qd.exports=rt;var W0=Qd.exports,qc=W0;_a.createRoot=qc.createRoot,_a.hydrateRoot=qc.hydrateRoot;const H0=(t,e,n,r)=>{var i,o,a,l;const s=[n,{code:e,...r||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Wn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Qc={},ml=(t,e,n,r)=>{Wn(n)&&Qc[n]||(Wn(n)&&(Qc[n]=new Date),H0(t,e,n,r))},Xh=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},yl=(t,e,n)=>{t.loadNamespaces(e,Xh(t,n))},Yc=(t,e,n,r)=>{if(Wn(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return yl(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Xh(t,r))},G0=(t,e,n={})=>!e.languages||!e.languages.length?(ml(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),Wn=t=>typeof t=="string",V0=t=>typeof t=="object"&&t!==null,K0=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,J0={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},q0=t=>J0[t],Q0=t=>t.replace(K0,q0);let vl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Q0};const Y0=(t={})=>{vl={...vl,...t}},X0=()=>vl;let Zh;const Z0=t=>{Zh=t},ey=()=>Zh,ty={type:"3rdParty",init(t){Y0(t.options.react),Z0(t)}},ny=$.createContext();class ry{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const sy=(t,e)=>{const n=$.useRef();return $.useEffect(()=>{n.current=t},[t,e]),n.current},ep=(t,e,n,r)=>t.getFixedT(e,n,r),iy=(t,e,n,r)=>$.useCallback(ep(t,e,n,r),[t,e,n,r]),Ct=(t,e={})=>{var w,_,b,j;const{i18n:n}=e,{i18n:r,defaultNS:s}=$.useContext(ny)||{},i=n||r||ey();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new ry),!i){ml(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(A,G)=>Wn(G)?G:V0(G)&&Wn(G.defaultValue)?G.defaultValue:Array.isArray(A)?A[A.length-1]:A,F=[R,{},!1];return F.t=R,F.i18n={},F.ready=!1,F}(w=i.options.react)!=null&&w.wait&&ml(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...X0(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=s||((_=i.options)==null?void 0:_.defaultNS);u=Wn(u)?[u]:u||["translation"],(j=(b=i.reportNamespaces).addUsedNamespaces)==null||j.call(b,u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(R=>G0(R,i,o)),c=iy(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),f=()=>c,g=()=>ep(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[p,v]=$.useState(f);let C=u.join();e.lng&&(C=`${e.lng}${C}`);const y=sy(C),h=$.useRef(!0);$.useEffect(()=>{const{bindI18n:R,bindI18nStore:F}=o;h.current=!0,!d&&!a&&(e.lng?Yc(i,e.lng,u,()=>{h.current&&v(g)}):yl(i,u,()=>{h.current&&v(g)})),d&&y&&y!==C&&h.current&&v(g);const A=()=>{h.current&&v(g)};return R&&(i==null||i.on(R,A)),F&&(i==null||i.store.on(F,A)),()=>{h.current=!1,i&&R&&(R==null||R.split(" ").forEach(G=>i.off(G,A))),F&&i&&F.split(" ").forEach(G=>i.store.off(G,A))}},[i,C]),$.useEffect(()=>{h.current&&d&&v(f)},[i,l,d]);const m=[p,i,d];if(m.t=p,m.i18n=i,m.ready=d,d||!d&&!a)return m;throw new Promise(R=>{e.lng?Yc(i,e.lng,u,()=>R()):yl(i,u,()=>R())})},oo=new Map([[1,"✨"],[2,"💧"],[3,"🌱"],[4,"🌿"],[5,"🐞"],[6,"🐦"],[7,"🌤️"],[8,"🌈"],[9,"🔭"],[10,"🚀"],[11,"🌍"],[12,"🌕"],[13,"🧑‍🚀"],[14,"🛰️"],[15,"☄️"],[16,"🌠"],[17,"🪐"],[18,"⭐"],[19,"🌌"],[20,"👽"],[21,"🛸"],[22,"🔬"],[23,"🧪"],[24,"🧬"],[25,"🫀"],[26,"🧠"],[27,"🏛️"],[28,"🗺️"],[29,"🧭"],[30,"🎯"],[31,"🏅"],[32,"🏆"]]),oy=-1,ay="🃏",ly=50,rn={primary:"#4CAF50",background:"#FAFAFA",tileBackground:"#ECEFF1",tileBorder:"#CFD8DC",textPrimary:"#212121",textSecondary:"#666666",border:{light:"#e9ecef"}},uy=new Map([[1,"#FFF3E0"],[2,"#E3F2FD"],[3,"#E8F5E8"],[4,"#F1F8E9"],[5,"#FFEBEE"],[6,"#E0F2F1"],[7,"#FFF8E1"],[8,"#F3E5F5"],[9,"#E8EAF6"],[10,"#E1F5FE"],[11,"#E0F7FA"],[12,"#F9FBE7"],[13,"#FCE4EC"],[14,"#E4C441"],[15,"#FFECB3"],[16,"#F0F4C3"],[17,"#E1BEE7"],[18,"#FFFFFF"]]),cy=t=>uy.get(t)||"#F5F5F5",dy=t=>t===14?"#2D2D2D":"#424242",zi="8px",fy=1,hy=rn.tileBorder,py=rn.tileBackground,Q=10,gy=4,my=({tile:t,cellSize:e,onTileClick:n,isFrozen:r=!1,freezeTurns:s=0,isSelected:i=!1,canInteract:o=!1,isSelectable:a=!1,isPicked:l=!1})=>{const[u,d]=$.useState(t.justSpawned?.7:1),[c,f]=$.useState(t.justSpawned?.5:1);$.useEffect(()=>{t.justSpawned&&setTimeout(()=>{d(1),f(1)},10)},[t.justSpawned]),$.useEffect(()=>{t.justMerged&&(d(1.3),setTimeout(()=>d(1),150))},[t.justMerged]);const g=t.isJoker?ay:oo.get(t.level)||"❓",p=t.col*(e+Q),v=t.row*(e+Q);let C=t.isJoker?"linear-gradient(45deg, #FFD700, #FFA500, #FF69B4, #9370DB)":cy(t.level),y=t.isJoker?"#FFFFFF":dy(t.level);r&&(C="#60A5FA",y="#FFFFFF"),l?C="#10B981":i&&(C="#34D399");const h=()=>{(o||a)&&n&&n(t,t.row,t.col)};return x.jsxs("div",{onClick:h,style:{position:"absolute",left:p,top:v,width:e,height:e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:t.justMerged?"rgba(255, 215, 0, 0.8)":(t.isJoker,C),borderRadius:zi,border:l?"3px solid #059669":i?"3px solid #10B981":r?"2px solid #3B82F6":a?"2px solid #F59E0B":"1px solid rgba(255, 255, 255, 0.3)",transform:`scale(${u})`,opacity:c,transition:"left 0.2s ease, top 0.2s ease, transform 0.15s ease, opacity 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease",boxSizing:"border-box",boxShadow:t.justMerged?"0 4px 16px rgba(255, 215, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.15)":t.isJoker&&!l&&!i&&!r&&!a?"0 4px 20px rgba(255, 215, 0, 0.6), 0 6px 16px rgba(255, 105, 180, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15)":l?"0 4px 16px rgba(5, 150, 105, 0.5), 0 2px 8px rgba(0, 0, 0, 0.15)":i?"0 4px 16px rgba(16, 185, 129, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15)":r?"0 4px 16px rgba(59, 130, 246, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15)":a?"0 4px 12px rgba(245, 158, 11, 0.3), 0 2px 8px rgba(0, 0, 0, 0.1)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:t.justMerged?100:i?50:10,padding:gy,cursor:o||a?"pointer":"default"},children:[t.isJoker&&!r&&x.jsx("div",{style:{position:"absolute",inset:0,borderRadius:zi,pointerEvents:"none",overflow:"hidden",zIndex:1},children:x.jsx("div",{style:{position:"absolute",width:"200%",height:"200%",background:"radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.8) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.6) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(255, 215, 0, 0.4) 0%, transparent 50%)",animation:"sparkle 2s ease-in-out infinite",transform:"translate(-50%, -50%)",top:"50%",left:"50%"}})}),r&&x.jsxs("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(96, 165, 250, 0.3)",borderRadius:zi,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:2},children:[x.jsx("div",{style:{fontSize:Math.max(8,e*.15),color:"white",fontWeight:"bold",marginBottom:"1px"},children:"❄️"}),x.jsx("div",{style:{fontSize:Math.max(6,e*.12),color:"white",fontWeight:"bold",backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:"8px",padding:"1px 4px",minWidth:"12px",textAlign:"center"},children:s})]}),x.jsx("div",{style:{fontSize:Math.max(16,e*.35),lineHeight:"1",marginBottom:Math.max(1,e*.025),display:"flex",alignItems:"center",justifyContent:"center"},children:g}),x.jsx("div",{style:{fontSize:Math.max(8,e*.15),fontWeight:"600",color:y,lineHeight:"1",fontFamily:"Arial, sans-serif",textShadow:"0 1px 2px rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.isJoker?"JOKER":t.level}),x.jsx("style",{children:`
        @keyframes sparkle {
          0%, 100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0.8;
          }
          50% {
            transform: translate(-50%, -50%) scale(1.2);
            opacity: 1;
          }
        }
      `})]})},S={spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.25rem","2xl":"1.5rem","3xl":"2rem","4xl":"3rem"},fontSize:{xs:"clamp(0.75rem, 1.5vh, 0.875rem)",sm:"clamp(0.875rem, 2vh, 1rem)",base:"clamp(1rem, 2.5vh, 1.125rem)",lg:"clamp(1.125rem, 3vh, 1.25rem)",xl:"clamp(1.25rem, 3.5vh, 1.5rem)","3xl":"clamp(1.875rem, 5vh, 2.25rem)","4xl":"clamp(2.25rem, 6vh, 3rem)"},borderRadius:{md:"0.5rem",lg:"0.75rem",xl:"1rem"},boxShadow:{base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",button:"0 6px 20px rgba(76, 175, 80, 0.3)",buttonHover:"0 8px 25px rgba(76, 175, 80, 0.4)",overlay:"0 8px 32px rgba(0, 0, 0, 0.1)"},transition:{base:"0.2s ease",smooth:"0.3s cubic-bezier(0.4, 0, 0.2, 1)"},layout:{maxContainerWidth:"600px",buttonMaxWidth:"320px",buttonMinHeight:"clamp(56px, 8vh, 64px)",popupPadding:"clamp(24px, 4vh, 48px)",popupContentPadding:"clamp(20px, 3vh, 32px)"}},tp={sm:{fontSize:S.fontSize.sm,padding:`${S.spacing.sm} ${S.spacing.lg}`,minHeight:"clamp(40px, 6vh, 48px)",borderRadius:S.borderRadius.md},md:{fontSize:S.fontSize.base,padding:`${S.spacing.md} ${S.spacing.xl}`,minHeight:S.layout.buttonMinHeight,borderRadius:S.borderRadius.lg},lg:{fontSize:S.fontSize.lg,padding:`${S.spacing.lg} ${S.spacing["2xl"]}`,minHeight:"clamp(64px, 10vh, 72px)",borderRadius:S.borderRadius.xl}},yy={primary:{background:"#4CAF50",backgroundHover:"#45a049",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:S.boxShadow.button,shadowHover:S.boxShadow.buttonHover,border:"2px solid #4CAF50"},secondary:{background:"rgba(255, 255, 255, 0.9)",backgroundHover:"#f8f9fa",color:"#666666",colorHover:"#333333",shadow:S.boxShadow.base,shadowHover:S.boxShadow.md,border:"2px solid #e9ecef"},danger:{background:"#F44336",backgroundHover:"#E04949",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:"0 6px 20px rgba(244, 67, 54, 0.3)",shadowHover:"0 8px 25px rgba(244, 67, 54, 0.4)",border:"none"},warning:{background:"#FFEB3B",backgroundHover:"#E6B800",color:"#333333",colorHover:"#333333",shadow:"0 6px 20px rgba(255, 235, 59, 0.3)",shadowHover:"0 8px 25px rgba(255, 235, 59, 0.4)",border:"none"}},ke=({children:t,variant:e="primary",size:n="md",disabled:r=!1,fullWidth:s=!0,style:i,onMouseOver:o,onMouseOut:a,onMouseDown:l,onMouseUp:u,...d})=>{const c=yy[e],f=tp[n],g={width:s?"100%":"auto",maxWidth:s?S.layout.buttonMaxWidth:"none",minHeight:f.minHeight,fontSize:f.fontSize,fontWeight:"bold",fontFamily:"inherit",color:r?"rgba(255, 255, 255, 0.6)":c.color,backgroundColor:r?"rgba(76, 175, 80, 0.4)":c.background,border:r?"none":c.border,borderRadius:f.borderRadius,padding:f.padding,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",gap:S.spacing.sm,cursor:r?"not-allowed":"pointer",opacity:r?.6:1,boxShadow:r?"none":c.shadow,transition:`all ${S.transition.smooth}`,transform:"translateY(0)",outline:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"},p=w=>{if(!r){const _=w.currentTarget;_.style.backgroundColor=c.backgroundHover,_.style.color=c.colorHover,_.style.transform="translateY(-2px)",_.style.boxShadow=c.shadowHover,e==="secondary"?_.style.borderColor="#6c757d":e==="primary"&&(_.style.borderColor="#45a049")}o==null||o(w)},v=w=>{if(!r){const _=w.currentTarget;_.style.backgroundColor=c.background,_.style.color=c.color,_.style.transform="translateY(0)",_.style.boxShadow=c.shadow,e==="secondary"?_.style.borderColor="#e9ecef":e==="primary"&&(_.style.borderColor="#4CAF50")}a==null||a(w)},C=w=>{r||(w.currentTarget.style.transform="translateY(0) scale(0.98)"),l==null||l(w)},y=w=>{r||(w.currentTarget.style.transform="translateY(-2px) scale(1)"),u==null||u(w)},h=w=>{r||(w.currentTarget.style.outline="2px solid rgba(76, 175, 80, 0.5)",w.currentTarget.style.outlineOffset="2px")},m=w=>{w.currentTarget.style.outline="none"};return x.jsx("button",{style:{...g,...i},disabled:r,onMouseOver:p,onMouseOut:v,onMouseDown:C,onMouseUp:y,onFocus:h,onBlur:m,...d,children:t})};let kt=null,Sn=!1,wl=!1;const np="emojiFusion:sound",Sl=.2,At=(t=1,e=.05,n=220,r=0,s=0,i=.1,o=0,a=1,l=0,u=0,d=0,c=0,f=0,g=0,p=0,v=0,C=0,y=1,h=0,m=0)=>{if(!(!kt||!Sn))try{let w,_,b,j,R,F,A=44100*(r+s+i+.15),G=r*44100,ne=s*44100,ie=i*44100,oe=G+ne;for(w=kt.createBuffer(1,A|0,44100),_=w.getChannelData(0),b=j=R=F=0;b<A;_[b++]=F){let ve=b/A,z=b<G?b/G:0,L=b>=oe?(A-b)/ie:0,W=b<G?z:b<oe?y:L,H=n+l*ve;d&&c&&b>c*44100&&(H+=d),j+=H*Math.PI*2/44100,R=o<.5?Math.sin(j):o<1.5?j%(Math.PI*2)>Math.PI?-1:1:(j*2%(Math.PI*2)-Math.PI)/Math.PI,a!==1&&(R=Math.sign(R)*Math.pow(Math.abs(R),a)),g&&(R+=(Math.random()*2-1)*g),p&&(R*=1+Math.sin(b*p*Math.PI*2/44100)*.5),m&&(R*=1+Math.sin(b*m*Math.PI*2/44100)*.3),v&&(R=Math.round(R*v)/v),F=R*W*t,e&&(F*=1+(Math.random()-.5)*e),F=Math.max(-1,Math.min(1,F))}let xe=kt.createBufferSource();return xe.buffer=w,xe.connect(kt.destination),xe.start(),xe}catch(w){console.warn("ZzFX playback error:",w);return}};let Ar=!1,De=Sl;const vy=()=>{try{const t=localStorage.getItem(np);if(t){const e=JSON.parse(t);Ar=e.muted===!0,De=typeof e.volume=="number"&&e.volume>=0&&e.volume<=1?e.volume:Sl}}catch(t){console.warn("Failed to load sound settings:",t),Ar=!1,De=Sl}},wy=()=>{if(wl||typeof window>"u")return;wl=!0;const t=["click","touchstart","touchend","keydown","keyup","mousedown"],e=()=>{Sn||qs(),t.forEach(n=>{document.removeEventListener(n,e,!0)})};t.forEach(n=>{document.addEventListener(n,e,!0)}),console.log("🎵 Auto-initialization setup complete - sound will activate on first user interaction")},rp=()=>{try{const t={muted:Ar,volume:De};localStorage.setItem(np,JSON.stringify(t))}catch(t){console.warn("Failed to save sound settings:",t)}},Sy=()=>{vy(),wy(),console.log("🎵 Sound system ready - settings loaded, auto-init configured")},qs=()=>{if(!Sn)try{kt=new(window.AudioContext||window.webkitAudioContext),kt.state==="suspended"&&kt.resume().then(()=>{console.log("🎵 Audio context resumed")}).catch(t=>{console.warn("Failed to resume audio context:",t)}),Sn=!0,console.log("🎵 Sound system initialized successfully")}catch(t){console.error("Failed to initialize audio context:",t),Sn=!1}},Pu=t=>{Ar=t,rp()},xy=()=>Ar,sp=t=>{De=Math.max(0,Math.min(1,t)),rp()},Xc=()=>wl,Nt=t=>{if(!(!Sn||!kt||Ar||De<=0))try{kt.state==="suspended"&&kt.resume(),kt.state==="running"&&t()}catch(e){console.warn("Failed to play sound:",e)}},ip=()=>{Nt(()=>At(.06*De,0,420,.002,.015,.08,0,1,25,0,0,0,0,0,0,0,0,.7,0,0))},op=()=>{Nt(()=>At(.08*De,0,360,.004,.028,.12,0,1.1,60,0,0,0,0,0,0,0,0,.85,0,0))},xl=()=>{Nt(()=>At(.05*De,0,140,.002,.012,.085,0,1.4,0,0,0,0,0,0,0,0,0,.6,0,0))},ap=()=>{Nt(()=>At(.1*De,0,220,.01,.06,.45,0,1,-220,0,0,0,0,0,0,0,0,.7,0,0))},Je=()=>{Nt(()=>At(.04*De,0,320,.001,.008,.05,0,1,0,0,0,0,0,0,0,0,0,.8,0,0))},ao=()=>{Nt(()=>At(.07*De,0,520,.003,.02,.14,0,1.1,140,0,120,.04,0,0,0,0,0,.8,0,0))},lp=()=>{Nt(()=>At(.06*De,0,340,.002,.015,.1,0,1,60,0,0,0,0,0,0,0,0,.75,0,0))},up=()=>{Nt(()=>At(.06*De,0,260,.003,.02,.14,0,1,-120,0,120,.04,0,0,0,0,0,.75,0,0))},ln=()=>{Nt(()=>At(.09*De,0,440,.005,.05,.25,0,1,220,0,0,0,0,0,5,0,0,.8,0,0))},ky=()=>{Nt(()=>At(.3*De,0,300,.05,.2,.4,0,1.5,50,0,0,0,0,0,0,0,0,1,0,0))},cp=()=>{if(!Sn){qs(),setTimeout(cp,100);return}console.log("🎵 Testing game sounds..."),Pu(!1),sp(.5),[{name:"Move",fn:ip,delay:0},{name:"Merge",fn:op,delay:600},{name:"Denied",fn:xl,delay:1200},{name:"Game Over",fn:ap,delay:1800}].forEach(({name:e,fn:n,delay:r})=>{setTimeout(()=>{console.log(`🔊 ${e}`),n()},r)})},dp=()=>{if(!Sn){qs(),setTimeout(dp,100);return}console.log("🎵 Testing UI sounds..."),Pu(!1),sp(.5),[{name:"Button Click",fn:Je,delay:0},{name:"New Game",fn:ao,delay:400},{name:"Resume Game",fn:lp,delay:800},{name:"Undo",fn:up,delay:1200},{name:"Top 100",fn:ln,delay:1600}].forEach(({name:e,fn:n,delay:r})=>{setTimeout(()=>{console.log(`🔊 ${e}`),n()},r)})};typeof window<"u"&&(window.testSounds=cp,window.testUISounds=dp,console.log("🎵 Sound system loaded! Test: window.testSounds() or window.testUISounds()"));const _y=({score:t,onRestart:e,onMainMenu:n,onBackToGame:r,canUndo:s=!1,extraUndos:i=0,onNameSubmit:o,onSkipHighScore:a,isCheckingScore:l=!1,isSavingScore:u=!1,qualifiesForLeaderboard:d=!1,gridWidth:c})=>{const{t:f}=Ct(),[g,p]=$.useState(!1),[v,C]=$.useState(f("common.player")),[y,h]=$.useState(!1),[m,w]=$.useState(!1),_={width:`${c}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:S.fontSize.base,fontWeight:"bold",borderRadius:S.borderRadius.lg,padding:`${S.spacing.md} ${S.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"};$.useEffect(()=>{const ne=setTimeout(()=>{p(!0)},50);return()=>clearTimeout(ne)},[]),$.useEffect(()=>{console.log("🔍 GameOverOverlay back to game debug:",{canUndo:s,extraUndos:i,onBackToGame:!!r})},[s,i,r]);const b=()=>{o&&v.trim()&&!u&&(ln(),h(!0),o(v.trim()))};$.useEffect(()=>{},[u,y]);const j=ne=>{ne.key==="Enter"&&d&&!y&&b()},R=()=>{d&&!y&&!u?(Je(),w(!0)):(ao(),e())},F=()=>{Je(),n()},A=()=>{ao(),w(!1),h(!0),a&&a(),e()},G=()=>{Je(),w(!1),setTimeout(()=>{const ne=document.querySelector('input[type="text"]');ne&&d&&!y&&ne.focus()},100)};return x.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",color:"white",fontSize:S.fontSize.xl,fontWeight:"bold",zIndex:1e3,backdropFilter:"blur(3px)",padding:`clamp(${S.spacing.lg}, 4vh, ${S.spacing["3xl"]}) clamp(${S.spacing.md}, 3vw, ${S.spacing["2xl"]})`,paddingBottom:m?"clamp(140px, 25vh, 200px)":"clamp(80px, 15vh, 120px)",boxSizing:"border-box",opacity:g?1:0,transition:"opacity 1s ease-in-out",overflow:m?"hidden":"auto"},children:x.jsxs("div",{style:{width:"fit-content",minWidth:`${c}px`,maxWidth:`max(${c}px, min(90vw, 500px))`,backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:S.borderRadius.xl,padding:m?`clamp(${S.spacing["3xl"]}, 8vh, ${S.spacing["4xl"]})`:`clamp(${S.spacing.xl}, 5vh, ${S.spacing["4xl"]})`,border:"2px solid rgba(255, 255, 255, 0.15)",display:"flex",flexDirection:"column",alignItems:"center",gap:`clamp(${S.spacing.md}, 2vh, ${S.spacing.lg})`,marginTop:m?"clamp(10px, 4vh, 30px)":"clamp(20px, 8vh, 60px)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",minHeight:m?"auto":void 0,maxHeight:m?"calc(100vh - 200px)":"calc(100vh - 140px)"},children:[x.jsx("div",{style:{fontSize:`clamp(${S.fontSize.lg}, 4vw, ${S.fontSize.xl})`,textAlign:"center",margin:0},children:f("gameOver.title")}),x.jsx("div",{style:{fontSize:`clamp(${S.fontSize.sm}, 3vw, ${S.fontSize.base})`,opacity:.9,textAlign:"center",margin:0},children:f("gameOver.finalScore",{score:t.toLocaleString()})}),l&&x.jsx("div",{style:{textAlign:"center",color:"#FFD700",fontSize:S.fontSize.base,fontWeight:"bold"},children:f("gameOver.checkingLeaderboard")}),u&&x.jsx("div",{style:{textAlign:"center",color:"#FFD700",fontSize:S.fontSize.base,fontWeight:"bold"},children:f("gameOver.savingScore")}),!l&&!u&&d&&!y&&x.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:`clamp(${S.spacing.sm}, 2vh, ${S.spacing.md})`},children:[x.jsx("div",{style:{fontSize:S.fontSize.sm,color:"#FFD700",fontWeight:"bold",textAlign:"center"},children:f("gameOver.topScore")}),x.jsx("input",{type:"text",value:v,onChange:ne=>C(ne.target.value.slice(0,12)),onKeyPress:j,placeholder:f("gameOver.enterName"),autoFocus:!0,style:{..._,border:"2px solid #FFD700",textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",outline:"none"}}),x.jsx(ke,{onClick:b,variant:"primary",size:"md",disabled:u||!v.trim(),style:_,children:f(u?"gameOver.saving":"gameOver.saveScore")})]}),d&&y&&x.jsx("div",{style:{fontSize:S.fontSize.base,color:"#4CAF50",fontWeight:"bold",textAlign:"center"},children:f("gameOver.scoreSaved")}),m&&x.jsxs("div",{style:{textAlign:"center",backgroundColor:"rgba(255, 215, 0, 0.1)",padding:S.layout.popupPadding,borderRadius:S.borderRadius.lg,border:"2px solid rgba(255, 215, 0, 0.4)",width:`${c}px`,minWidth:"280px",maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",gap:S.spacing.lg,boxSizing:"border-box",margin:`${S.spacing["2xl"]} 0 ${S.spacing["3xl"]} 0`,position:"relative",zIndex:1,opacity:1,transition:"opacity 0.3s ease-in-out"},children:[x.jsx("div",{style:{fontSize:S.fontSize.base,color:"#FFD700",fontWeight:"bold",textAlign:"center"},children:f("gameOver.skipHighScore")}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,alignItems:"center",width:"100%",padding:`0 ${S.layout.popupContentPadding}`,boxSizing:"border-box"},children:[x.jsx(ke,{onClick:G,variant:"primary",size:"md",style:{..._,width:`calc(${c}px - ${S.layout.popupContentPadding} * 2)`},children:f("gameOver.skipCancel")}),x.jsx(ke,{onClick:A,variant:"warning",size:"md",style:{..._,width:`calc(${c}px - ${S.layout.popupContentPadding} * 2)`},children:f("gameOver.skipConfirm")})]})]}),!m&&x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,alignItems:"center",width:"100%"},children:[(s||i>0)&&r&&x.jsxs(ke,{onClick:()=>{Je(),r()},disabled:!1,variant:"warning",size:"md",style:{..._,backgroundColor:"#FBB040",color:"white",border:"2px solid #F59E0B"},children:["↩️ ",f("gameOver.backToGame")]}),x.jsx(ke,{onClick:R,disabled:l||u,variant:"primary",size:"md",style:_,children:f(l||u?"gameOver.pleaseWait":"gameOver.newGame")}),x.jsx(ke,{onClick:F,disabled:l||u,variant:"secondary",size:"md",style:_,children:f(l||u?"gameOver.pleaseWait":"gameOver.mainMenu")})]})]})})},by=({score:t,x:e,y:n,cellSize:r,onComplete:s})=>{const[i,o]=$.useState(!0);return $.useEffect(()=>{const a=setTimeout(()=>{o(!1),setTimeout(s,50)},700);return()=>clearTimeout(a)},[s]),i?x.jsxs("div",{style:{position:"absolute",left:e+r/2,top:n+r/2,transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1e3,fontSize:"20px",fontWeight:"bold",color:"#FFFFFF",fontFamily:"Arial, sans-serif",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.8), -1px -1px 2px rgba(0, 0, 0, 0.5)",animation:"mergeScoreFloat 0.7s ease-out forwards"},children:["+",t,x.jsx("style",{children:`
        @keyframes mergeScoreFloat {
          0% {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
          }
          20% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.2);
          }
          40% {
            opacity: 1;
            transform: translate(-50%, -60%) scale(1);
          }
          100% {
            opacity: 0;
            transform: translate(-50%, -80%) scale(0.9);
          }
        }
      `})]}):null},fp=()=>{const[t,e]=$.useState(typeof window<"u"?window.innerWidth:768);$.useEffect(()=>{const i=()=>{e(window.innerWidth)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const n=t<768,r=t>=768&&t<1024,s=t>=1024;return{windowWidth:t,isMobile:n,isTablet:r,isDesktop:s}},Oo=({children:t,className:e,allowScroll:n=!0})=>{const{isMobile:r}=fp();return x.jsx("div",{className:e,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100dvh",maxHeight:"100dvh",height:"100dvh",width:"100vw",overflowY:n?"auto":"hidden",overflowX:"hidden",backgroundColor:"#f5f5f5",fontFamily:'system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:r?`clamp(${S.spacing.sm}, 2vh, ${S.spacing.lg})`:`clamp(${S.spacing.md}, 3vh, ${S.spacing.xl})`,boxSizing:"border-box",scrollBehavior:"smooth",position:"relative"},children:x.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:r?"center":"flex-start",width:"100%",maxWidth:S.layout.maxContainerWidth,minHeight:r?"100%":"fit-content",maxHeight:"100%",height:r?"100%":"auto",gap:r?`clamp(${S.spacing.sm}, 1.5vh, ${S.spacing.md})`:`clamp(${S.spacing.md}, 2vh, ${S.spacing.xl})`,position:"relative",zIndex:1},children:t})})},Ey=({onGoHome:t,disabled:e=!1,gridWidth:n})=>{const{t:r}=Ct(),s=()=>{Je(),t()};return x.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:S.spacing.lg,width:"100%"},children:x.jsx(ke,{variant:"secondary",size:"sm",fullWidth:!1,onClick:s,disabled:e,style:{width:`${n}px`,minWidth:"280px",maxWidth:"500px",minHeight:S.layout.buttonMinHeight,padding:`clamp(${S.spacing.sm}, 1.5vh, ${S.spacing.md}) ${S.spacing.lg}`,fontSize:"clamp(14px, 3vw, 16px)",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:r("gameControls.home")})})},hp=()=>{const[t,e]=$.useState(typeof window<"u"?window.innerWidth:768);$.useEffect(()=>{const c=()=>{e(window.innerWidth)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const n=typeof navigator<"u"?navigator.userAgent:"",r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),s=typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),i=t<768,o=t>=768&&t<1024,a=r||s&&i,l=s&&o||!r&&s&&o,u=!a&&!l,d=u||!s&&t>=1024;return{isMobile:a,isTablet:l,isDesktop:u,isTouchDevice:s,hasPhysicalKeyboard:d,windowWidth:t}},Cy=({onUndo:t,canUndo:e,disabled:n=!1,allowUndoWhenDisabled:r=!1,gridWidth:s,extraUndos:i=0})=>{const{t:o}=Ct(),{hasPhysicalKeyboard:a}=hp(),l=()=>{up(),t()};return x.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:x.jsxs(ke,{variant:"warning",size:"sm",fullWidth:!1,onClick:l,disabled:!e||n&&!r,style:{width:`${s}px`,minWidth:"280px",maxWidth:"500px",minHeight:S.layout.buttonMinHeight,padding:`clamp(${S.spacing.sm}, 1.5vh, ${S.spacing.md}) ${S.spacing.lg}`,fontSize:"clamp(14px, 3vw, 16px)",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:[x.jsx("span",{children:o(a?"gameControls.undoShortcut":"gameControls.undo")}),i>0&&x.jsxs("span",{style:{marginLeft:S.spacing.sm,backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#B45309",padding:"2px 6px",borderRadius:"10px",fontSize:"clamp(10px, 2.5vw, 12px)",fontWeight:"bold"},children:["+",i]})]})})},Ty=({style:t,showShortcuts:e=!0})=>{const{t:n}=Ct(),{hasPhysicalKeyboard:r,isTouchDevice:s}=hp();return x.jsxs("div",{style:{fontSize:S.fontSize.sm,color:"#666",textAlign:"center",lineHeight:"1.4",...t},children:[x.jsx("div",{style:{marginBottom:S.spacing.xs},children:n(s?"controls.touchInstructions":"controls.keyboardInstructions")}),r&&e&&x.jsx("div",{style:{fontSize:S.fontSize.xs,opacity:.8},children:n("controls.keyboardShortcuts")})]})},jy={freeze:{emoji:"🧊",title:"Freeze Tile",description:"Friert ein Tile für 3 Züge ein. Kann nicht bewegt oder gemerged werden."},swap:{emoji:"🔀",title:"Swap Tiles",description:"Vertauscht zwei beliebige Tiles miteinander."},delete:{emoji:"🗑️",title:"Delete Tile",description:"Löscht ein beliebiges Tile vom Spielfeld."},undo:{emoji:"⏪",title:"Extra Undo",description:"Gewährt einen zusätzlichen Undo-Versuch."},slowmo:{emoji:"⏳",title:"Slow Motion",description:"Für die nächsten 5 Züge spawnen keine neuen Tiles."}},Py=({type:t,visible:e,onConfirm:n,onCancel:r,position:s})=>{if(!e)return null;const i=jy[t];return x.jsxs("div",{style:{position:"fixed",left:s.x-120,top:s.y+10,width:"240px",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:S.spacing.md,borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",zIndex:1e3,fontSize:S.fontSize.sm,lineHeight:"1.4"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:S.spacing.sm,marginBottom:S.spacing.sm,fontSize:S.fontSize.base,fontWeight:"600"},children:[x.jsx("span",{style:{fontSize:"20px"},children:i.emoji}),i.title]}),x.jsx("div",{style:{marginBottom:S.spacing.md,color:"#cccccc"},children:i.description}),x.jsxs("div",{style:{display:"flex",gap:S.spacing.sm,justifyContent:"flex-end"},children:[x.jsx("button",{onClick:r,style:{padding:`${S.spacing.sm} ${S.spacing.md}`,backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:S.fontSize.sm,fontWeight:"500"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},children:"Cancel"}),x.jsx("button",{onClick:n,style:{padding:`${S.spacing.sm} ${S.spacing.md}`,backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:S.fontSize.sm,fontWeight:"500"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="#45a049"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="#4CAF50"},children:"Use Power-Up"})]}),x.jsx("div",{style:{position:"absolute",top:"-8px",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid rgba(0, 0, 0, 0.9)"}})]})},Zc={freeze:"🧊",swap:"🔀",delete:"🗑️",undo:"⏪",slowmo:"⏳"},ed={freeze:"#60A5FA",swap:"#34D399",delete:"#F87171",undo:"#FBBF24",slowmo:"#A78BFA"},Oy=({powerUps:t,onUsePowerUp:e,disabled:n=!1,gridWidth:r,slowMotionTurns:s=0})=>{const[i,o]=$.useState({visible:!1,type:null,powerUpId:null,position:{x:0,y:0}}),a=(c,f)=>{if(n)return;const g=f.currentTarget.getBoundingClientRect(),p=g.left+g.width/2,v=g.bottom;o({visible:!0,type:c.type,powerUpId:c.id,position:{x:p,y:v}})},l=()=>{i.powerUpId&&e(i.powerUpId),o({visible:!1,type:null,powerUpId:null,position:{x:0,y:0}})},u=()=>{o({visible:!1,type:null,powerUpId:null,position:{x:0,y:0}})},d=Array.from({length:4},(c,f)=>({powerUp:t[f],index:f}));return x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:S.spacing.sm,padding:S.spacing.md,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"12px",border:"2px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",width:r?`${r}px`:"fit-content",minWidth:"280px",maxWidth:"500px"},children:[s>0&&x.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"8px",backgroundColor:"#A78BFA",border:"2px solid rgba(167, 139, 250, 0.3)",fontSize:"28px",animation:"pulse-slowmo 2s ease-in-out infinite",position:"relative",transition:"all 0.2s ease"},children:x.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:["⏳",x.jsx("div",{style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#FBB040",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:s})]})}),d.map(({powerUp:c,index:f})=>x.jsxs("div",{onClick:c?g=>a(c,g):void 0,style:{width:"60px",height:"60px",borderRadius:"8px",border:"2px solid rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:c&&!n?"pointer":"default",backgroundColor:c?ed[c.type]:"rgba(0, 0, 0, 0.05)",opacity:n?.6:1,transition:"all 0.2s ease",position:"relative",fontSize:"28px"},onMouseEnter:g=>{c&&!n&&(g.currentTarget.style.transform="scale(1.05)",g.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")},onMouseLeave:g=>{g.currentTarget.style.transform="scale(1)",g.currentTarget.style.boxShadow="none"},title:c?`${Zc[c.type]} ${c.type}`:"Empty slot",children:[c?Zc[c.type]:"⭕",c&&x.jsx("div",{style:{position:"absolute",inset:"-2px",borderRadius:"10px",background:`linear-gradient(45deg, ${ed[c.type]}, transparent)`,opacity:.3,zIndex:-1}})]},f))]}),i.visible&&i.type&&x.jsx(Py,{type:i.type,visible:i.visible,onConfirm:l,onCancel:u,position:i.position})]})},Ry=t=>{if(!t)return"";const e=t.required-t.picked.length;switch(t.type){case"swap":return e===2?"Power-Up aktiv – wähle zwei Tiles zum Vertauschen.":e===1?"Wähle das zweite Tile zum Vertauschen.":"Tiles werden vertauscht...";case"delete":return e===1?"Power-Up aktiv – wähle ein Tile zum Entfernen.":"Tile wird entfernt...";case"freeze":return e===1?"Power-Up aktiv – wähle ein Tile zum Einfrieren.":"Tile wird eingefroren...";default:return""}},Ly=({selectingPowerUp:t,onCancel:e,gridWidth:n})=>t?x.jsxs("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:`${Math.max(n,320)}px`,padding:"0 20px",zIndex:100,pointerEvents:"none",display:"flex",justifyContent:"center",animation:"slideInFromTop 0.3s ease-out"},children:[x.jsxs("div",{style:{width:"100%",maxWidth:"500px",padding:S.spacing.md,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(8px)",pointerEvents:"auto"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:S.spacing.md},children:[x.jsx("div",{style:{flex:1,color:"#333333",fontSize:"clamp(13px, 2.8vw, 15px)",fontWeight:"600",lineHeight:1.3},children:Ry(t)}),x.jsx(ke,{variant:"secondary",size:"sm",onClick:e,style:{minWidth:"80px",padding:"6px 12px",fontSize:"clamp(12px, 2.5vw, 14px)",fontWeight:"600",backgroundColor:"rgba(255, 255, 255, 0.9)",pointerEvents:"auto"},children:"Abbrechen"})]}),x.jsxs("div",{style:{marginTop:S.spacing.xs,display:"flex",alignItems:"center",gap:S.spacing.xs},children:[x.jsxs("span",{style:{fontSize:"clamp(10px, 2vw, 12px)",color:"#666666",fontWeight:"500"},children:[t.picked.length," / ",t.required," ausgewählt"]}),x.jsx("div",{style:{flex:1,height:"4px",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"2px",overflow:"hidden"},children:x.jsx("div",{style:{width:`${t.picked.length/t.required*100}%`,height:"100%",backgroundColor:"#4CAF50",borderRadius:"2px",transition:"width 0.3s ease"}})})]})]}),x.jsx("style",{children:`
        @keyframes slideInFromTop {
          from {
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
        }
      `})]}):null,Iy=({message:t,gridWidth:e})=>t?x.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:`${Math.max(e,320)}px`,padding:"0 20px",zIndex:99,pointerEvents:"none",display:"flex",justifyContent:"center",animation:"slideInFromTop 0.3s ease-out"},children:[x.jsx("div",{style:{width:"100%",maxWidth:"500px",padding:S.spacing.md,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(8px)"},children:x.jsxs("div",{style:{color:"#333333",fontSize:"clamp(13px, 2.8vw, 15px)",fontWeight:"600",lineHeight:1.3,textAlign:"center"},children:["⚠️ ",t]})}),x.jsx("style",{children:`
        @keyframes slideInFromTop {
          from {
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
        }
      `})]}):null,$y="modulepreload",zy=function(t){return"/emoji-fusion/"+t},td={},Qs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=zy(l),l in td)return;td[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":$y,u||(c.as="script"),c.crossOrigin="",c.href=l,a&&c.setAttribute("nonce",a),document.head.appendChild(c),u)return new Promise((f,g)=>{c.addEventListener("load",f),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ay=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>Dr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ou extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ny extends Ou{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nd extends Ou{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rd extends Ou{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kl||(kl={}));var My=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Fy{constructor(e,{headers:n={},customFetch:r,region:s=kl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Ay(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return My(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const c=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(v=>{throw new Ny(v)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new nd(c);if(!c.ok)throw new rd(c);let g=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield c.json():g==="application/octet-stream"?p=yield c.blob():g==="text/event-stream"?p=c:g==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null,response:c}}catch(s){return{data:null,error:s,response:s instanceof rd||s instanceof nd?s.context:void 0}}})}}var Ve={},Ru={},Ro={},Ys={},Lo={},Io={},Uy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nr=Uy();const Dy=Nr.fetch,pp=Nr.fetch.bind(Nr),gp=Nr.Headers,By=Nr.Request,Wy=Nr.Response,Dr=Object.freeze(Object.defineProperty({__proto__:null,Headers:gp,Request:By,Response:Wy,default:pp,fetch:Dy},Symbol.toStringTag,{value:"Module"})),Hy=mg(Dr);var $o={};Object.defineProperty($o,"__esModule",{value:!0});let Gy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$o.default=Gy;var mp=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Io,"__esModule",{value:!0});const Vy=mp(Hy),Ky=mp($o);let Jy=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Vy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,c=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&C&&C.length>1&&(c=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,c=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new Ky.default(u)}return{error:u,data:d,count:c,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Io.default=Jy;var qy=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lo,"__esModule",{value:!0});const Qy=qy(Io);let Yy=class extends Qy.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lo.default=Yy;var Xy=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ys,"__esModule",{value:!0});const Zy=Xy(Lo);let ev=class extends Zy.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ys.default=ev;var tv=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ro,"__esModule",{value:!0});const es=tv(Ys);let nv=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new es.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new es.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ro.default=nv;var zo={},Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.version=void 0;Ao.version="0.0.0-automated";Object.defineProperty(zo,"__esModule",{value:!0});zo.DEFAULT_HEADERS=void 0;const rv=Ao;zo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rv.version}`};var yp=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ru,"__esModule",{value:!0});const sv=yp(Ro),iv=yp(Ys),ov=zo;let av=class vp{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},ov.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new sv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vp(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,c])=>c!==void 0).map(([d,c])=>[d,Array.isArray(c)?`{${c.join(",")}}`:`${c}`]).forEach(([d,c])=>{a.searchParams.append(d,c)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new iv.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ru.default=av;var Br=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const wp=Br(Ru);Ve.PostgrestClient=wp.default;const Sp=Br(Ro);Ve.PostgrestQueryBuilder=Sp.default;const xp=Br(Ys);Ve.PostgrestFilterBuilder=xp.default;const kp=Br(Lo);Ve.PostgrestTransformBuilder=kp.default;const _p=Br(Io);Ve.PostgrestBuilder=_p.default;const bp=Br($o);Ve.PostgrestError=bp.default;var lv=Ve.default={PostgrestClient:wp.default,PostgrestQueryBuilder:Sp.default,PostgrestFilterBuilder:xp.default,PostgrestTransformBuilder:kp.default,PostgrestBuilder:_p.default,PostgrestError:bp.default};const{PostgrestClient:uv,PostgrestQueryBuilder:yx,PostgrestFilterBuilder:vx,PostgrestTransformBuilder:wx,PostgrestBuilder:Sx,PostgrestError:xx}=lv;function cv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const dv=cv(),fv="2.11.15",hv=`realtime-js/${fv}`,pv="1.0.0",Ep=1e4,gv=1e3;var xs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xs||(xs={}));var ze;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ze||(ze={}));var St;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(St||(St={}));var _l;(function(t){t.websocket="websocket"})(_l||(_l={}));var An;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(An||(An={}));class mv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Cp{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ce||(ce={}));const sd=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=yv(o,t,e,s),i),{})},yv=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Tp(i,o):bl(o)},Tp=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xv(e,n)}switch(t){case ce.bool:return vv(e);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return wv(e);case ce.json:case ce.jsonb:return Sv(e);case ce.timestamp:return kv(e);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return bl(e);default:return bl(e)}},bl=t=>t,vv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Tp(e,a))}return t},kv=t=>typeof t=="string"?t.replace(" ","T"):t,jp=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class pa{constructor(e,n,r={},s=Ep){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var id;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(id||(id={}));class ks{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ks.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ks.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ks.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const c=i[u];if(c){const f=d.map(C=>C.presence_ref),g=c.map(C=>C.presence_ref),p=d.filter(C=>g.indexOf(C.presence_ref)<0),v=c.filter(C=>f.indexOf(C.presence_ref)<0);p.length>0&&(a[u]=p),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const c=e[a].map(g=>g.presence_ref),f=d.filter(g=>c.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(c=>c.presence_ref);u=u.filter(c=>d.indexOf(c.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var od;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(od||(od={}));var ad;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ad||(ad={}));var Ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));class Lu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pa(this,St.join,this.params,this.timeout),this.rejoinTimer=new Cp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ks(this),this.broadcastEndpointURL=jp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Ut.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ut.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var c;if(this.socket.setAuth(),d===void 0){e==null||e(Ut.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(c=f==null?void 0:f.length)!==null&&c!==void 0?c:0,p=[];for(let v=0;v<g;v++){const C=f[v],{filter:{event:y,schema:h,table:m,filter:w}}=C,_=d&&d[v];if(_&&_.event===y&&_.schema===h&&_.table===m&&_.filter===w)p.push(Object.assign(Object.assign({},C),{id:_.id}));else{this.unsubscribe(),this.state=ze.errored,e==null||e(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Ut.SUBSCRIBED);return}}).receive("error",d=>{this.state=ze.errored,e==null||e(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new pa(this,St.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pa(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=St;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var p,v,C;return((p=g.filter)===null||p===void 0?void 0:p.event)==="*"||((C=(v=g.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var p,v,C,y,h,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,_=(p=g.filter)===null||p===void 0?void 0:p.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const w=(h=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return w==="*"||w===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:C,commit_timestamp:y,type:h,errors:m}=p;f=Object.assign(Object.assign({},{schema:v,table:C,commit_timestamp:y,eventType:h,new:{},old:{},errors:m}),this._getPayloadRecords(p))}g.callback(f,r)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Lu.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(St.close,{},e)}_onError(e){this._on(St.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sd(e.columns,e.old_record)),n}}const ld=()=>{},_v=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bv{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ep,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ld,this.ref=0,this.logger=ld,this.conn=null,this.sendBuffer=[],this.serializer=new mv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Qs(async()=>{const{default:l}=await Promise.resolve().then(()=>Dr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${_l.websocket}`,this.httpEndpoint=jp(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Cp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=dv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return An.Connecting;case xs.open:return An.Open;case xs.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Lu(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:hv};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(St.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(gv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(St.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([_v],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Iu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ev extends Iu{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class El extends Iu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Cv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Pp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>Dr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Tv=()=>Cv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qs(()=>Promise.resolve().then(()=>Dr),void 0)).Response:Response}),Cl=t=>{if(Array.isArray(t))return t.map(n=>Cl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cl(r)}),e};var Xn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ga=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jv=(t,e,n)=>Xn(void 0,void 0,void 0,function*(){const r=yield Tv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Ev(ga(s),t.status||500))}).catch(s=>{e(new El(ga(s),s))}):e(new El(ga(t),t))}),Pv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Xs(t,e,n,r,s,i){return Xn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Pv(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>jv(l,a,r))})})}function lo(t,e,n,r){return Xn(this,void 0,void 0,function*(){return Xs(t,"GET",e,n,r)})}function sn(t,e,n,r,s){return Xn(this,void 0,void 0,function*(){return Xs(t,"POST",e,r,s,n)})}function Ov(t,e,n,r,s){return Xn(this,void 0,void 0,function*(){return Xs(t,"PUT",e,r,s,n)})}function Rv(t,e,n,r){return Xn(this,void 0,void 0,function*(){return Xs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Op(t,e,n,r,s){return Xn(this,void 0,void 0,function*(){return Xs(t,"DELETE",e,r,s,n)})}var He=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Lv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ud={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Iv{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Pp(s)}uploadOrUpdate(e,n,r,s){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ud),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),c=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield c.json();return c.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}upload(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:ud.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const c=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield c.json();return c.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Iu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}copy(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return He(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield sn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return He(this,void 0,void 0,function*(){try{const s=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}download(e,n){return He(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield lo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}})}info(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield lo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cl(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Rv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof El){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return He(this,void 0,void 0,function*(){try{return{data:yield Op(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}list(e,n,r){return He(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Lv),n),{prefix:e||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const $v="2.7.1",zv={"X-Client-Info":`storage-js/${$v}`};var tr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Av{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},zv),n),this.fetch=Pp(r)}listBuckets(){return tr(this,void 0,void 0,function*(){try{return{data:yield lo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ce(e))return{data:null,error:e};throw e}})}getBucket(e){return tr(this,void 0,void 0,function*(){try{return{data:yield lo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return tr(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return tr(this,void 0,void 0,function*(){try{return{data:yield Ov(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(e){return tr(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tr(this,void 0,void 0,function*(){try{return{data:yield Op(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}}class Nv extends Av{constructor(e,n={},r){super(e,n,r)}from(e){return new Iv(this.url,this.headers,e,this.fetch)}}const Mv="2.52.1";let cs="";typeof Deno<"u"?cs="deno":typeof document<"u"?cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cs="react-native":cs="node";const Fv={"X-Client-Info":`supabase-js-${cs}/${Mv}`},Uv={headers:Fv},Dv={schema:"public"},Bv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wv={};var Hv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Gv=t=>{let e;return t?e=t:typeof fetch>"u"?e=pp:e=fetch,(...n)=>e(...n)},Vv=()=>typeof Headers>"u"?gp:Headers,Kv=(t,e,n)=>{const r=Gv(n),s=Vv();return(i,o)=>Hv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Jv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function qv(t){return t.endsWith("/")?t:t+"/"}function Qv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:c}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},c),a),{headers:Object.assign(Object.assign({},(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Jv(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Rp="2.71.1",lr=30*1e3,Tl=3,ma=Tl*lr,Yv="http://localhost:9999",Xv="supabase.auth.token",Zv={"X-Client-Info":`gotrue-js/${Rp}`},jl="X-Supabase-Api-Version",Lp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ew=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tw=10*60*1e3;class $u extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nw extends $u{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function rw(t){return q(t)&&t.name==="AuthApiError"}class Ip extends $u{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Cn extends $u{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class en extends Cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sw(t){return q(t)&&t.name==="AuthSessionMissingError"}class yi extends Cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vi extends Cn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wi extends Cn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iw(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class cd extends Cn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pl extends Cn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ya(t){return q(t)&&t.name==="AuthRetryableFetchError"}class dd extends Cn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ol extends Cn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fd=` 	
\r=`.split(""),ow=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fd.length;e+=1)t[fd[e].charCodeAt(0)]=-2;for(let e=0;e<uo.length;e+=1)t[uo[e].charCodeAt(0)]=e;return t})();function hd(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uo[r]),e.queuedBits-=6}}function $p(t,e,n){const r=ow[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pd(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{uw(o,r,n)};for(let o=0;o<t.length;o+=1)$p(t.charCodeAt(o),s,i);return e.join("")}function aw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lw(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}aw(r,e)}}function uw(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function cw(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)$p(t.charCodeAt(s),n,r);return new Uint8Array(e)}function dw(t){const e=[];return lw(t,n=>e.push(n)),new Uint8Array(e)}function fw(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>hd(s,n,r)),hd(null,n,r),e.join("")}function hw(t){return Math.round(Date.now()/1e3)+t}function pw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",On={tested:!1,writable:!1},zp=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(On.tested)return On.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),On.tested=!0,On.writable=!0}catch{On.tested=!0,On.writable=!1}return On.writable};function gw(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ap=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>Dr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},mw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ur=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Rn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zt=async(t,e)=>{await t.removeItem(e)};class No{constructor(){this.promise=new No.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}No.promiseConstructor=Promise;function va(t){const e=t.split(".");if(e.length!==3)throw new Ol("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ew.test(e[r]))throw new Ol("JWT not in base64url format");return{header:JSON.parse(pd(e[0])),payload:JSON.parse(pd(e[1])),signature:cw(e[2]),raw:{header:e[0],payload:e[1]}}}async function yw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vw(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ww(t){return("0"+t.toString(16)).substr(-2)}function Sw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ww).join("")}async function xw(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function kw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xw(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nr(t,e,n=!1){const r=Sw();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ur(t,`${e}-code-verifier`,s);const i=await kw(r);return[i,r===i?"plain":"s256"]}const _w=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bw(t){const e=t.headers.get(jl);if(!e||!e.match(_w))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ew(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Cw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rr(t){if(!Tw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wa(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gd(t){return JSON.parse(JSON.stringify(t))}var jw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pw=[502,503,504];async function md(t){var e;if(!mw(t))throw new Pl(zn(t),0);if(Pw.includes(t.status))throw new Pl(zn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ip(zn(i),i)}let r;const s=bw(t);if(s&&s.getTime()>=Lp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dd(zn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new dd(zn(n),t.status,n.weak_password.reasons);throw new nw(zn(n),t.status||500,r)}const Ow=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ee(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jl]||(i[jl]=Lp["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Rw(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Rw(t,e,n,r,s,i){const o=Ow(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Pl(zn(l),0)}if(a.ok||await md(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await md(l)}}function Mt(t){var e;let n=null;zw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=hw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function yd(t){const e=Mt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function un(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lw(t){return{data:t,error:null}}function Iw(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=jw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $w(t){return t}function zw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Sa=["global","local","others"];var Aw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Nw{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ap(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Sa[0]){if(Sa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sa.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:un})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Aw(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Iw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:un})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$w});if(d.error)throw d.error;const c=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(p.split(";")[1].split("=")[1]);u[`${C}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){rr(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:un})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rr(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:un})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){rr(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:un})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rr(e.userId);try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rr(e.userId),rr(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}function vd(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sr={debug:!!(globalThis&&zp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Np extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fw extends Np{}async function Uw(t,e,n){sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Mw();const Dw={url:Yv,storageKey:Xv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wd(t,e,n){return await n()}const ir={};class Ds{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ds.nextInstanceID,Ds.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Dw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Nw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ap(s.fetch),this.lock=s.lock||wd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Uw:this.lock=wd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:zp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=vd(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ir[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ir[this.storageKey]=Object.assign(Object.assign({},ir[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ir[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ir[this.storageKey]=Object.assign(Object.assign({},ir[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new Ip("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:c,options:f}=e;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await nr(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:p},xform:Mt})}else if("phone"in e){const{phone:d,password:c,options:f}=e;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:c,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Mt})}else throw new vi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yd})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yd})}else throw new vi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,c,f,g;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:C,wallet:y,statement:h,options:m}=e;let w;if(mt())if(typeof y=="object")w=y;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))w=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const _=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const b=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),h?{statement:h}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),v=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((c=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||c===void 0)&&c.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=b}}try{const{data:C,error:y}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:fw(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Mt});if(y)throw y;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new yi}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:y})}catch(C){if(q(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await Rn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Mt});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new yi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await nr(this.storage,this.storageKey));const{error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new vi("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Mt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await nr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Lw})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new en;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new vi("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ma:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Rn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=wa()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:un}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:un})})}catch(n){if(q(n))return sw(n)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new en;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await nr(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:un});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=va(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!mt())throw new wi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cd("No code detected.");const{data:h,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new wi("No session defined in URL");const d=Math.round(Date.now()/1e3),c=parseInt(a);let f=d+c;l&&(f=parseInt(l));const g=f-d;g*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${c}s`);const p=f-c;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:v,error:C}=await this._getUser(i);if(C)throw C;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:c,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Rn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(rw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=pw(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await nr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:c,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return mt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await vw(async s=>(s>0&&await yw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ya(i)&&Date.now()+o-r<lr})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Rn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ur(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:wa()}else if(s&&!s.user&&!s.user){const o=await Rn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Zt(this.storage,this.storageKey+"-user"),await ur(this.storage,this.storageKey,s)):s.user=wa()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ma;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ma}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ya(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new No;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new en;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={session:null,error:i};return ya(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ur(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=gd(s);await ur(this.storage,this.storageKey,i)}else{const s=gd(n);await ur(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lr}ms, refresh threshold is ${Tl} ticks`),s<=Tl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Np)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await nr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=va(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+tw>s)return r;const{data:i,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:p}=await this.getSession();if(p||!g.session)return{data:null,error:p};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=va(r);n!=null&&n.allowExpired||Ew(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=Cw(s.alg),c=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,c,o,dw(`${a}.${l}`)))throw new Ol("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}Ds.nextInstanceID=0;const Bw=Ds;class Ww extends Bw{constructor(e){super(e)}}var Hw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(c){o(c)}}function l(d){try{u(r.throw(d))}catch(c){o(c)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Gw{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=qv(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Dv,realtime:Wv,auth:Object.assign(Object.assign({},Bv),{storageKey:u}),global:Uv},c=Qv(r??{},d);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Kv(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new uv(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Fy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Nv(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Hw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ww({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new bv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vw=(t,e,n)=>new Gw(t,e,n);function Kw(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Kw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jw="https://cmyhfwogyzpmpyrxkahl.supabase.co",qw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNteWhmd29neXpwbXB5cnhrYWhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NTc0MDcsImV4cCI6MjA2OTAzMzQwN30.FdKq0u43jrHxUZZiUv6HJd8h-cd-TjnCRwGuhamReAc",Mp=Vw(Jw,qw),Qt={HIGH_SCORE:"emoji-fusion-high-score",LEADERBOARD:"emoji-fusion-leaderboard",SAVED_GAME:"emoji-fusion-saved-game",MAX_DISCOVERED_RANK:"emoji-fusion-max-discovered-rank"},Qw=()=>{try{const t=localStorage.getItem(Qt.HIGH_SCORE);return t?parseInt(t,10):0}catch(t){return console.warn("Failed to read high score from localStorage:",t),0}},Yw=t=>{try{localStorage.setItem(Qt.HIGH_SCORE,t.toString())}catch(e){console.warn("Failed to save high score to localStorage:",e)}},Mo=async()=>{try{const{data:t,error:e}=await Mp.from("leaderboard").select("*").order("score",{ascending:!1}).limit(100);return e?(console.warn("Failed to fetch leaderboard from Supabase:",e),[]):t.map((n,r)=>({score:n.score,name:n.name,rank:r+1,highestTile:n.tile}))}catch(t){return console.warn("Failed to read leaderboard from Supabase:",t),[]}},Rl=async(t,e="Anonymous",n=1)=>{try{const r=e.trim()||"Anonymous",{error:s}=await Mp.from("leaderboard").insert({name:r,score:t,tile:n});return s?(console.warn("Failed to save leaderboard entry to Supabase:",s),!1):(await Mo()).some(o=>o.score===t&&o.name===r)}catch(r){return console.warn("Failed to save leaderboard to Supabase:",r),!1}},Xw=async t=>{var n;const e=await Mo();return e.length<100||t>((n=e[e.length-1])==null?void 0:n.score)},Zw=t=>{try{localStorage.setItem(Qt.SAVED_GAME,JSON.stringify(t))}catch(e){console.warn("Failed to save game state to localStorage:",e)}},qn=()=>{try{const t=localStorage.getItem(Qt.SAVED_GAME);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read saved game state from localStorage:",t),null}},Nn=()=>{try{localStorage.removeItem(Qt.SAVED_GAME)}catch(t){console.warn("Failed to clear saved game state from localStorage:",t)}},Fp=()=>{const t=qn();return t!==null&&!t.gameFinalized},or=()=>{const t=qn();return t!==null&&t.gameFinalized===!0},jr=()=>{const t=qn();if(t){const e={...t,gameFinalized:!0,canUndoAfterGameOver:!1};try{localStorage.setItem(Qt.SAVED_GAME,JSON.stringify(e))}catch(n){console.warn("Failed to finalize game state:",n)}}},ts=()=>{const t=qn();return(t==null?void 0:t.canUndoAfterGameOver)===!0},ns=t=>{const e=qn();if(e){const n={...e,canUndoAfterGameOver:t};try{localStorage.setItem(Qt.SAVED_GAME,JSON.stringify(n))}catch(r){console.warn("Failed to update undo-after-game-over flag:",r)}}},Up=()=>{try{const t=localStorage.getItem(Qt.MAX_DISCOVERED_RANK);if(!t)return 1;const e=parseInt(t,10);return isNaN(e)||e<1?(console.warn("Invalid max discovered rank in localStorage, resetting to 1"),Dp(1),1):e}catch(t){return console.warn("Failed to load max discovered rank from localStorage:",t),1}},Dp=t=>{try{if(!Number.isInteger(t)||t<1){console.warn("Invalid rank provided to saveMaxDiscoveredRank:",t);return}localStorage.setItem(Qt.MAX_DISCOVERED_RANK,t.toString())}catch(e){console.warn("Failed to save max discovered rank to localStorage:",e)}},Ot=t=>{try{if(!Number.isInteger(t)||t<1){console.warn("Invalid candidate rank provided:",t);return}const e=Up();t>e&&(Dp(t),console.log(`🎉 New max discovered rank: ${t} (previous: ${e})`))}catch(e){console.warn("Failed to update max discovered rank:",e)}},eS=({onMove:t,onUndo:e,onRestart:n,onEscape:r,disabled:s=!1,canUndo:i=!1})=>{const o=$.useRef({isPressed:!1,startTime:0,timeoutId:null}),[a,l]=$.useState(0),[u,d]=$.useState(!1),c=$.useRef(null),f=$.useCallback(p=>{if(s)return;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d","W","A","S","D","u","U","r","R","Escape"].includes(p.key)&&p.preventDefault(),t)switch(p.key){case"ArrowUp":case"w":case"W":t("up");return;case"ArrowDown":case"s":case"S":t("down");return;case"ArrowLeft":case"a":case"A":t("left");return;case"ArrowRight":case"d":case"D":t("right");return}if((p.key==="u"||p.key==="U")&&e&&i){e();return}if(p.key==="Escape"&&r){r();return}p.key==="r"||p.key},[s,t,e,n,r,i]),g=$.useCallback(p=>{s||(p.key==="r"||p.key==="R")&&o.current.isPressed&&(o.current.isPressed=!1,d(!1),l(0),o.current.timeoutId&&(clearTimeout(o.current.timeoutId),o.current.timeoutId=null),c.current&&(clearInterval(c.current),c.current=null))},[s]);return $.useEffect(()=>(window.addEventListener("keydown",f),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",g),o.current.timeoutId&&clearTimeout(o.current.timeoutId),c.current&&clearInterval(c.current)}),[f,g]),{restartProgress:a,isRestartInProgress:u}},tS=({onSwipe:t,disabled:e=!1,minSwipeDistance:n=30,maxSwipeTime:r=1e3,element:s})=>{const i=$.useRef(null),o=$.useRef(!1);$.useEffect(()=>{o.current="ontouchstart"in window||navigator.maxTouchPoints>0},[]);const a=$.useCallback(c=>{const f=c;if(e||!t)return;if(f.touches.length!==1){i.current=null;return}const g=f.touches[0];i.current={x:g.clientX,y:g.clientY,timestamp:Date.now()},c.preventDefault()},[e,t]),l=$.useCallback(c=>{const f=c;if(e||!t||!i.current)return;if(f.changedTouches.length!==1){i.current=null;return}const g=f.changedTouches[0],p={x:g.clientX,y:g.clientY,timestamp:Date.now()},v=i.current;i.current=null;const C=p.timestamp-v.timestamp;if(C>r)return;const y=p.x-v.x,h=p.y-v.y,m=Math.abs(y),w=Math.abs(h),_=Math.max(m,w);if(_<n)return;let b;m>w?b=y>0?"right":"left":b=h>0?"down":"up",console.log(`📱 Touch swipe detected: ${b} (${_}px in ${C}ms)`),t(b),c.preventDefault()},[e,t,n,r]),u=$.useCallback(c=>{e||!i.current||i.current&&c.preventDefault()},[e]),d=$.useCallback(()=>{i.current=null},[]);return $.useEffect(()=>{if(e||!o.current)return;const c=(s==null?void 0:s.current)||document,f={passive:!1},g={passive:!1},p={passive:!1};return c.addEventListener("touchstart",a,f),c.addEventListener("touchmove",u,g),c.addEventListener("touchend",l,p),c.addEventListener("touchcancel",d,{passive:!0}),()=>{c.removeEventListener("touchstart",a),c.removeEventListener("touchmove",u),c.removeEventListener("touchend",l),c.removeEventListener("touchcancel",d)}},[e,a,u,l,d,s]),{isTouchDevice:o.current,isSwipeInProgress:i.current!==null}},Si=(t,e,n={})=>{if(t.merged||e.merged)return!1;const r=(s,i)=>i[s.toString()]>0;return r(t.id,n)||r(e.id,n)?!1:t.isJoker&&!e.isJoker||e.isJoker&&!t.isJoker?!0:t.isJoker&&e.isJoker?!1:t.level===e.level},Bp=(t,e)=>{for(let n=0;n<4;n++)for(let r=0;r<4;r++)if(!t[n][r])return!0;for(let n=0;n<4;n++)for(let r=0;r<4;r++){const s=t[n][r];if(s&&(r<3&&t[n][r+1]&&Si(s,t[n][r+1],e)||n<3&&t[n+1][r]&&Si(s,t[n+1][r],e)||r>0&&t[n][r-1]&&Si(s,t[n][r-1],e)||n>0&&t[n-1][r]&&Si(s,t[n-1][r],e)))return!0}return!1},nS=(t,e,n,r)=>{const s={...n,[e.toString()]:3};return Bp(t,s)?!1:r>0?(console.log("🚨 Freeze would cause deadlock: No moves possible and slowmo prevents new tiles"),!0):t.some(a=>a.some(l=>!l))?(console.log("⚠️ Freeze might be risky but allowing it: No moves now but new tiles could help"),!1):(console.log("🚨 Freeze would cause deadlock: No moves possible and board is full"),!0)},rS=()=>{const t=["freeze","swap","delete","undo","slowmo"],e=t[Math.floor(Math.random()*t.length)];return{id:`powerup_${Date.now()}_${Math.random()}`,type:e,createdAt:Date.now()}},sS=(t,e,n)=>{const r=n>e,s=t.length<4;return r&&s},Sd=()=>({powerUps:[],frozenTiles:{},slowMotionTurns:0,extraUndos:0,spawnedUndos:0,activePowerUp:null,swapSelection:null,selectingPowerUp:null,inputLocked:!1}),rs=(t,e)=>t.filter(n=>n.id!==e),iS=t=>{const e={};return Object.entries(t).forEach(([n,r])=>{r>1&&(e[n]=r-1)}),e},ot=(t,e)=>e[t.toString()]>0,oS=(t,e)=>e[t.toString()]||0,xd=(t,e,n=3)=>{const r=t[e.toString()]||0;return{...t,[e.toString()]:r+n}},aS=t=>["freeze","swap","delete","undo","slowmo"].includes(t),lS=(t,e)=>{const n=[];switch(t){case"swap":return{type:"swap",required:2,picked:n,powerUpId:e};case"delete":return{type:"delete",required:1,picked:n,powerUpId:e};case"freeze":return{type:"freeze",required:1,picked:n,powerUpId:e}}},kd=(t,e,n,r,s)=>{var o;if(!r)return!1;const i=(o=n[t])==null?void 0:o[e];return!(!i||r.type==="swap"&&ot(i.id,s))},uS=(t,e)=>{if(!t)return null;if(t.picked.some(s=>s.row===e.row&&s.col===e.col))return t;const r=[...t.picked,e];return{...t,picked:r}},cS=t=>t?t.picked.length>=t.required:!1,dS=t=>({powerUps:Array.isArray(t.powerUps)?t.powerUps.slice(0,4):[],frozenTiles:typeof t.frozenTiles=="object"?t.frozenTiles:{},slowMotionTurns:Math.max(0,t.slowMotionTurns||0),extraUndos:Math.max(0,t.extraUndos||0),spawnedUndos:Math.max(0,t.spawnedUndos||0),activePowerUp:t.activePowerUp&&aS(t.activePowerUp)?t.activePowerUp:null,swapSelection:t.swapSelection||null,selectingPowerUp:t.selectingPowerUp||null,inputLocked:!!t.inputLocked}),fS=(t,e,n,r)=>!nS(t,e,n,r),hS=t=>{const e=Object.keys(t).filter(r=>t[r]>0);if(e.length===0)return null;const n=Math.floor(Math.random()*e.length);return e[n]},pS=(t,e)=>{const n={...t};return delete n[e],n},xa={FREEZE_WOULD_CAUSE_DEADLOCK:"Einfrieren würde eine Blockade verursachen.",FROZEN_TILE_FREED:"Ein gefrorenes Tile wurde automatisch befreit.",SLOWMO_DISABLED:"Sanduhr-Effekt beendet, um eine Blockade zu vermeiden."},Ll=t=>{const e=[];for(let n=0;n<4;n++)for(let r=0;r<4;r++)t[n][r]||e.push({row:n,col:r});return e},Ln=(t,e,n={})=>t.merged||e.merged||ot(t.id,n)||ot(e.id,n)?!1:t.isJoker&&!e.isJoker||e.isJoker&&!t.isJoker||t.isJoker&&e.isJoker?!0:t.level===e.level,ss=(t,e)=>t.isJoker&&e.isJoker?{level:-1,isJoker:!1,isJokerFusion:!0}:t.isJoker&&!e.isJoker?{level:e.level+1,isJoker:!1}:e.isJoker&&!t.isJoker?{level:t.level+1,isJoker:!1}:{level:t.level+1,isJoker:!1},Il=()=>{const t=Math.random();return t<.9?{level:1,isJoker:!1}:t<.99?{level:2,isJoker:!1}:{level:oy,isJoker:!0}},_d=()=>{const t=Array(4).fill(null).map(()=>Array(4).fill(null)),e=Ll(t),n=Math.floor(Math.random()*e.length),r=e[n],s=Il();t[r.row][r.col]={id:1,level:s.level,row:r.row,col:r.col,justSpawned:!0,isJoker:s.isJoker},e.splice(n,1);const i=Math.floor(Math.random()*e.length),o=e[i],a=Il();return t[o.row][o.col]={id:2,level:a.level,row:o.row,col:o.col,justSpawned:!0,isJoker:a.isJoker},t},gS=({onBackToStart:t,shouldLoadSavedGame:e,onPendingScore:n})=>{const r=$.useRef(null),s=P=>{let U=1;for(let k=0;k<4;k++)for(let M=0;M<4;M++){const N=P[k][M];N&&N.level>U&&(U=N.level)}return U},o=(()=>{if(e){const P=qn();if(P)return P.canUndoAfterGameOver&&ns(!0),{grid:P.grid,nextId:P.nextId,score:P.score,preRestartState:P.preRestartState||null,canUndo:P.canUndo||!1,wasRestartedViaHold:P.wasRestartedViaHold||!1,isGameOver:P.isGameOver||!1}}return{grid:_d(),nextId:3,score:0,preRestartState:null,canUndo:!1,wasRestartedViaHold:!1,isGameOver:!1}})(),[a,l]=$.useState(o.grid),[u,d]=$.useState(o.nextId),[c,f]=$.useState(o.isGameOver),[g,p]=$.useState(o.score),[v,C]=$.useState([]),[y,h]=$.useState([]),[m,w]=$.useState(o.canUndo),_=$.useRef(!1),b=$.useRef(new Set),[j,R]=$.useState(o.wasRestartedViaHold),[F,A]=$.useState(o.preRestartState),[G,ne]=$.useState(null),[ie,oe]=$.useState(!1),[xe,ve]=$.useState(s(o.grid)),[z,L]=$.useState(()=>{if(e){const P=qn();if(P!=null&&P.powerUpState)return dS(P.powerUpState)}return Sd()}),[W,H]=$.useState(!1),[Z,ae]=$.useState(!1),[it,Xe]=$.useState(null),[Yt,Tt]=$.useState(!1),[Tn,Au]=$.useState(null),jt=(P,U,k)=>{const M=k*(Pe+Q),N=U*(Pe+Q),B=`${Date.now()}-${Math.random()}`;C(E=>[...E,{id:B,score:P,x:M,y:N}])},Gp=P=>{C(U=>U.filter(k=>k.id!==P))},Uo=P=>{Xe(P),setTimeout(()=>Xe(null),3e3)},Wr=P=>{Au(P),setTimeout(()=>Au(null),3e3)},Hr=P=>{let U=0;for(let k=0;k<4;k++)for(let M=0;M<4;M++){const N=P[k][M];N&&!N.isJoker&&N.level>U&&(U=N.level)}return U||1},Zs=(P,U,k,M)=>{const N=P[U][k];if(!N.isJoker)return{moved:!1,merged:!1,jokerFusion:!1};const B={left:{dRow:0,dCol:-1},right:{dRow:0,dCol:1},up:{dRow:-1,dCol:0},down:{dRow:1,dCol:0}},{dRow:E,dCol:O}=B[M];let T=U,J=k;for(;;){const X=T+E,Y=J+O;if(X<0||X>=4||Y<0||Y>=4)break;const re=P[X][Y];if(!re)T=X,J=Y;else{if(Ln(N,re,z.frozenTiles)){const K=ss(re,N);if(K.isJokerFusion){const le=Hr(P),{newGrid:Zn,bonus:jn}=Gr(P,le);for(let pt=0;pt<4;pt++)for(let Pn=0;Pn<4;Pn++)P[pt][Pn]=Zn[pt][Pn];return p(pt=>pt+jn),jt(jn,X,Y),Ot(le),Wr(`Joker-Fusion! Alle Tiles auf Level ${le} umgewandelt`),ln(),{moved:!0,merged:!0,jokerFusion:!0}}else{const le=Math.pow(2,K.level);return P[X][Y]={...re,level:K.level,isJoker:K.isJoker,merged:!0,justMerged:!0},P[U][k]=null,p(Zn=>Zn+le),jt(le,X,Y),Ot(K.level),{moved:!0,merged:!0,jokerFusion:!1}}}break}}return T!==U||J!==k?(P[T][J]={...N,row:T,col:J},P[U][k]=null,{moved:!0,merged:!1,jokerFusion:!1}):{moved:!1,merged:!1,jokerFusion:!1}},Gr=(P,U)=>{const k=P.map(N=>[...N]);for(let N=0;N<4;N++)for(let B=0;B<4;B++){const E=k[N][B];E&&(k[N][B]={...E,level:U,isJoker:!1,frozenTurns:void 0,merged:!1,justMerged:!1,justSpawned:!1})}const M=U*ly;return{newGrid:k,bonus:M}},Vp=async P=>{if(!W){H(!0);try{await Xw(P)?(ne(P),n==null||n(P)):oe(!0)}catch(U){console.error("Error checking if score qualifies for leaderboard:",U),oe(!0)}finally{H(!1)}}},Kp=async P=>{if(G!==null&&!Z){ae(!0);try{await Rl(G,P,xe)?(oe(!0),ne(null),n==null||n(null),jr(),h([]),w(!1),A(null),R(!1),ns(!1)):console.error("Failed to save score to leaderboard")}catch(U){console.error("Error saving score to leaderboard:",U)}finally{ae(!1)}}},Jp=()=>{ne(null),n==null||n(null),jr(),h([]),w(!1),A(null),R(!1),ns(!1)},Nu=()=>{var Y,re,K,le,Zn;if(z.inputLocked){console.log("🔒 Undo blocked during power-up selection");return}if(y.length===0){console.log("🔴 No states available for undo");return}const P=or(),U=ts(),k=m&&!ie&&!P,M=c&&U&&!ie&&!P,N=z.extraUndos>0&&!ie&&!P;if(!(k||M||N)){console.log("🔴 Undo not available");return}console.log("🔄 GameBoard: Undoing last move"),_.current=!0,console.log("🚫 Disabled power-up generation during undo");const E=N;console.log("🔄 Undo info:",{normalGameUndo:k,useExtraUndo:E,extraUndos:z.extraUndos,historyLength:y.length});const O=y[y.length-1];h(jn=>jn.slice(0,-1)),console.log("📚 Used state from history, remaining states:",y.length-1),console.log("🔄 Restoring state:",{gridTiles:O.grid.flat().filter(Boolean).length,score:O.score,nextId:O.nextId,powerUpSlots:((re=(Y=O.powerUpState)==null?void 0:Y.powerUps)==null?void 0:re.length)||0,frozenTiles:Object.keys(((K=O.powerUpState)==null?void 0:K.frozenTiles)||{}).length,slowMotionTurns:((le=O.powerUpState)==null?void 0:le.slowMotionTurns)||0,spawnedUndos:((Zn=O.powerUpState)==null?void 0:Zn.spawnedUndos)||0,currentScore:g});const T=tg(O.grid);if(l(T),p(O.score),d(O.nextId),O.generatedPowerUpLevels&&(b.current=new Set(O.generatedPowerUpLevels),console.log("🔄 Restored generated power-up levels:",O.generatedPowerUpLevels)),O.powerUpState){const jn=z.powerUps;console.log("🔄 Undo - preserving power-up slots, restoring frozen/slowmo states"),console.log("   Power-up slots remain:",jn.length),console.log("   ExtraUndos before:",z.extraUndos,"useExtraUndo:",E),console.log("   SpawnedUndos: current=",z.spawnedUndos),L(pt=>{var Pn,Uu;return{...pt,powerUps:jn,frozenTiles:((Pn=O.powerUpState)==null?void 0:Pn.frozenTiles)||{},slowMotionTurns:((Uu=O.powerUpState)==null?void 0:Uu.slowMotionTurns)||0,extraUndos:E?Math.max(0,pt.extraUndos-1):pt.extraUndos,spawnedUndos:pt.spawnedUndos,activePowerUp:null,swapSelection:null,selectingPowerUp:null,inputLocked:!1}})}E||k&&w(!1),C([]),f(!1),ne(null),oe(!1);const J=xe,X=s(O.grid);console.log("🔄 Undo: Keeping highest tile at",J,"(grid has",X,") - no power-up generation"),n==null||n(null),E&&z.extraUndos<=1&&ns(!1),setTimeout(()=>{_.current=!1,console.log("✅ Re-enabled power-up generation")},100)},qp=P=>{if(Ll(P).length>0)return!0;for(let U=0;U<4;U++)for(let k=0;k<4;k++){const M=P[U][k];if(M&&(k<3&&P[U][k+1]&&Ln(M,P[U][k+1],z.frozenTiles)||U<3&&P[U+1][k]&&Ln(M,P[U+1][k],z.frozenTiles)))return!0}return!1},Qp=P=>!qp(P),Yp=()=>{Nn(),l(_d()),d(3),p(0),f(!1),C([]),h([]),h([]),w(!1),ne(null),oe(!1),ve(1),n==null||n(null),R(!1),A(null),L(Sd())},Xp=()=>{z.inputLocked||(jr(),Yp(),t())},Zp=P=>{const U=z.powerUps.find(k=>k.id===P);if(!(!U||c))switch(U.type){case"undo":console.log("🎮 Undo power-up activated"),L(k=>(console.log("🎮 Incrementing UI extraUndos from",k.extraUndos,"to",k.extraUndos+1),{...k,powerUps:rs(k.powerUps,P),extraUndos:k.extraUndos+1}));break;case"slowmo":L(k=>({...k,powerUps:rs(k.powerUps,P),slowMotionTurns:k.slowMotionTurns+5}));break;case"freeze":case"swap":case"delete":L(k=>({...k,selectingPowerUp:lS(U.type,P),inputLocked:!0}));break}},eg=P=>({powerUps:[],frozenTiles:P.frozenTiles,slowMotionTurns:P.slowMotionTurns,extraUndos:P.extraUndos,spawnedUndos:P.spawnedUndos,activePowerUp:null,swapSelection:null,selectingPowerUp:null,inputLocked:!1}),tg=P=>P.map((U,k)=>U.map((M,N)=>M?{...M,row:k,col:N}:null)),Mu=()=>{L(P=>({...P,selectingPowerUp:null,inputLocked:!1}))},ng=(P,U,k)=>{const{selectingPowerUp:M}=z;if(!M)return;if(!kd(U,k,a,M,z.frozenTiles)){xl();return}const N=uS(M,{row:U,col:k});L(B=>({...B,selectingPowerUp:N})),N&&cS(N)&&rg(N)},rg=P=>{if(!P)return;const{type:U,picked:k,powerUpId:M}=P;switch(U){case"freeze":if(k.length===1){const{row:N,col:B}=k[0],E=a[N][B];if(E){if(!fS(a,E.id,z.frozenTiles,z.slowMotionTurns)){Uo(xa.FREEZE_WOULD_CAUSE_DEADLOCK),L(O=>({...O,selectingPowerUp:null,inputLocked:!1}));return}L(O=>({...O,powerUps:rs(O.powerUps,M),frozenTiles:xd(O.frozenTiles,E.id,3),selectingPowerUp:null,inputLocked:!1}))}}break;case"delete":if(k.length===1){const{row:N,col:B}=k[0];if(a[N][B]){const E=a.map(O=>[...O]);E[N][B]=null,l(E),L(O=>({...O,powerUps:rs(O.powerUps,M),selectingPowerUp:null,inputLocked:!1}))}}break;case"swap":if(k.length===2){const[N,B]=k,E=a[N.row][N.col],O=a[B.row][B.col];if(E&&O){const T=a.map(J=>[...J]);T[N.row][N.col]={...O,row:N.row,col:N.col},T[B.row][B.col]={...E,row:B.row,col:B.col},l(T),L(J=>({...J,powerUps:rs(J.powerUps,M),selectingPowerUp:null,inputLocked:!1}))}}break}},sg=(P,U,k)=>{if(z.selectingPowerUp){ng(P,U,k);return}if(!(c||!z.activePowerUp))switch(z.activePowerUp){case"freeze":L(M=>({...M,frozenTiles:xd(M.frozenTiles,P.id,3),activePowerUp:null}));break;case"delete":l(M=>{const N=M.map(B=>[...B]);return N[U][k]=null,N}),L(M=>({...M,activePowerUp:null}));break;case"swap":if(z.swapSelection){const{tileId:M,position:N}=z.swapSelection;M!==P.id&&l(B=>{const E=B.map(J=>[...J]),O=E[N.row][N.col],T=E[U][k];return O&&(O.row=U),O&&(O.col=k),T&&(T.row=N.row),T&&(T.col=N.col),E[U][k]=O,E[N.row][N.col]=T,E}),L(B=>({...B,activePowerUp:null,swapSelection:null}))}else L(M=>({...M,swapSelection:{tileId:P.id,position:{row:U,col:k}}}));break}},ig=()=>{c||Nn(),t()},og=P=>{const U=Ll(P);if(U.length===0)return P;const k=U[Math.floor(Math.random()*U.length)],M=P.map(B=>[...B]),N=Il();return M[k.row][k.col]={id:u,level:N.level,row:k.row,col:k.col,justSpawned:!0,isJoker:N.isJoker},N.isJoker&&(Tt(!0),setTimeout(()=>{Tt(!1)},500),setTimeout(()=>{ky()},50)),d(B=>B+1),M},Fu=P=>{if(z.inputLocked||Yt)return;qs();const U=a.map(E=>[...E]),k=a.map(E=>[...E]);let M=!1,N=!1,B=!1;if(k.forEach(E=>E.forEach(O=>{O&&(O.merged=!1,O.justMerged=!1,O.justSpawned=!1)})),P==="left"){for(let E=0;E<4;E++){for(let O=1;O<4;O++)if(k[E][O]&&k[E][O].isJoker&&!ot(k[E][O].id,z.frozenTiles)){const T=Zs(k,E,O,"left");if(T.moved&&(M=!0),T.merged&&(N=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let E=0;E<4;E++)for(let O=1;O<4;O++)if(k[E][O]&&!k[E][O].isJoker&&!ot(k[E][O].id,z.frozenTiles)){let T=O;for(;T>0;)if(!k[E][T-1])k[E][T-1]={...k[E][T],col:T-1},k[E][T]=null,T--,M=!0;else if(Ln(k[E][T-1],k[E][T],z.frozenTiles)){const J=ss(k[E][T-1],k[E][T]);if(J.isJokerFusion){const X=Hr(k),{newGrid:Y,bonus:re}=Gr(k,X);for(let K=0;K<4;K++)for(let le=0;le<4;le++)k[K][le]=Y[K][le];p(K=>K+re),jt(re,E,T-1),Ot(X),Wr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),ln(),M=!0,N=!0,B=!0;break}else{const X=Math.pow(2,J.level);k[E][T-1]={...k[E][T-1],level:J.level,isJoker:J.isJoker,merged:!0,justMerged:!0},p(Y=>Y+X),jt(X,E,T-1),Ot(J.level),k[E][T]=null,M=!0,N=!0;break}}else break}}}else if(P==="right"){for(let E=0;E<4;E++){for(let O=2;O>=0;O--)if(k[E][O]&&k[E][O].isJoker&&!ot(k[E][O].id,z.frozenTiles)){const T=Zs(k,E,O,"right");if(T.moved&&(M=!0),T.merged&&(N=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let E=0;E<4;E++)for(let O=2;O>=0;O--)if(k[E][O]&&!k[E][O].isJoker&&!ot(k[E][O].id,z.frozenTiles)){let T=O;for(;T<3;)if(!k[E][T+1])k[E][T+1]={...k[E][T],col:T+1},k[E][T]=null,T++,M=!0;else if(Ln(k[E][T+1],k[E][T],z.frozenTiles)){const J=ss(k[E][T+1],k[E][T]);if(J.isJokerFusion){const X=Hr(k),{newGrid:Y,bonus:re}=Gr(k,X);for(let K=0;K<4;K++)for(let le=0;le<4;le++)k[K][le]=Y[K][le];p(K=>K+re),jt(re,E,T+1),Ot(X),Wr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),ln(),M=!0,N=!0,B=!0;break}else{const X=Math.pow(2,J.level);k[E][T+1]={...k[E][T+1],level:J.level,isJoker:J.isJoker,merged:!0,justMerged:!0},p(Y=>Y+X),jt(X,E,T+1),Ot(J.level),k[E][T]=null,M=!0,N=!0;break}}else break}}}else if(P==="up"){for(let E=0;E<4;E++){for(let O=1;O<4;O++)if(k[O][E]&&k[O][E].isJoker&&!ot(k[O][E].id,z.frozenTiles)){const T=Zs(k,O,E,"up");if(T.moved&&(M=!0),T.merged&&(N=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let E=0;E<4;E++)for(let O=1;O<4;O++)if(k[O][E]&&!k[O][E].isJoker&&!ot(k[O][E].id,z.frozenTiles)){let T=O;for(;T>0;)if(!k[T-1][E])k[T-1][E]={...k[T][E],row:T-1},k[T][E]=null,T--,M=!0;else if(Ln(k[T-1][E],k[T][E],z.frozenTiles)){const J=ss(k[T-1][E],k[T][E]);if(J.isJokerFusion){const X=Hr(k),{newGrid:Y,bonus:re}=Gr(k,X);for(let K=0;K<4;K++)for(let le=0;le<4;le++)k[K][le]=Y[K][le];p(K=>K+re),jt(re,T-1,E),Ot(X),Wr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),ln(),M=!0,N=!0,B=!0;break}else{const X=Math.pow(2,J.level);k[T-1][E]={...k[T-1][E],level:J.level,isJoker:J.isJoker,merged:!0,justMerged:!0},p(Y=>Y+X),jt(X,T-1,E),Ot(J.level),k[T][E]=null,M=!0,N=!0;break}}else break}}}else if(P==="down"){for(let E=0;E<4;E++){for(let O=2;O>=0;O--)if(k[O][E]&&k[O][E].isJoker&&!ot(k[O][E].id,z.frozenTiles)){const T=Zs(k,O,E,"down");if(T.moved&&(M=!0),T.merged&&(N=!0),T.jokerFusion&&(B=!0),T.jokerFusion)break}if(B)break}if(!B){for(let E=0;E<4;E++)for(let O=2;O>=0;O--)if(k[O][E]&&!k[O][E].isJoker&&!ot(k[O][E].id,z.frozenTiles)){let T=O;for(;T<3;)if(!k[T+1][E])k[T+1][E]={...k[T][E],row:T+1},k[T][E]=null,T++,M=!0;else if(Ln(k[T+1][E],k[T][E],z.frozenTiles)){const J=ss(k[T+1][E],k[T][E]);if(J.isJokerFusion){const X=Hr(k),{newGrid:Y,bonus:re}=Gr(k,X);for(let K=0;K<4;K++)for(let le=0;le<4;le++)k[K][le]=Y[K][le];p(K=>K+re),jt(re,T+1,E),Ot(X),Wr(`Joker-Fusion! Alle Tiles auf Level ${X} umgewandelt`),ln(),M=!0,N=!0,B=!0;break}else{const X=Math.pow(2,J.level);k[T+1][E]={...k[T+1][E],level:J.level,isJoker:J.isJoker,merged:!0,justMerged:!0},p(Y=>Y+X),jt(X,T+1,E),Ot(J.level),k[T][E]=null,M=!0,N=!0;break}}else break}}}if(M){const E={grid:U,score:g,nextId:u,powerUpState:eg(z),generatedPowerUpLevels:Array.from(b.current)};h(Y=>{const re=[...Y,E],K=1+z.spawnedUndos;return console.log("📚 Saving state to history. Total states:",re.length,"Max:",K),re.length>K?re.slice(-K):re});const O=z.slowMotionTurns>0||B?k:og(k);l(O),w(!0),N?op():ip();const T=s(O),J=T>xe,X=b.current.has(T);if(J&&!X){ve(T);const Y=sS(z.powerUps,xe,T);if(console.log("🎯 Power-up generation check:",{isUndoing:_.current,shouldGenerate:Y,alreadyGeneratedForThisLevel:X,highestTileReached:xe,currentHighest:T,isNewHighest:J,generatedLevels:Array.from(b.current)}),!_.current&&Y){const re=rS();b.current.add(T),console.log("🎯 Generated power-up for level",T,"type:",re.type),L(K=>({...K,powerUps:[...K.powerUps,re],spawnedUndos:re.type==="undo"?K.spawnedUndos+1:K.spawnedUndos})),re.type==="undo"&&(console.log("🎯 Undo power-up spawned, spawnedUndos increased to:",z.spawnedUndos+1),console.log("🎯 UI extraUndos remains at:",z.extraUndos))}}else J&&(ve(T),console.log("🎯 New highest tile",T,"but power-up already generated for this level"));if(L(Y=>({...Y,frozenTiles:iS(Y.frozenTiles),slowMotionTurns:Math.max(0,Y.slowMotionTurns-1)})),j&&(R(!1),A(null)),!Bp(O,z.frozenTiles)){console.log("🚨 Deadlock detected - attempting automatic resolution");const Y=hS(z.frozenTiles);Y?(console.log("🧊 Unfreezing tile to resolve deadlock:",Y),L(re=>({...re,frozenTiles:pS(re.frozenTiles,Y)})),Uo(xa.FROZEN_TILE_FREED)):z.slowMotionTurns>0&&(console.log("⏳ Disabling slow motion to resolve deadlock"),L(re=>({...re,slowMotionTurns:0})),Uo(xa.SLOWMO_DISABLED))}if(Qp(O)){f(!0),ap(),ns(!0);const Y=Qw();g>Y&&Yw(g),Vp(g)}}else xl()};eS({onMove:Fu,onUndo:Nu,onRestart:void 0,onEscape:z.selectingPowerUp?Mu:void 0,disabled:c,canUndo:m}),tS({onSwipe:Fu,disabled:c,minSwipeDistance:30,maxSwipeTime:1e3,element:r});const ag=()=>{try{Zw({grid:a,score:g,nextId:u,isPaused:!1,timestamp:Date.now(),preRestartState:F,canUndo:m,wasRestartedViaHold:j,isGameOver:c,powerUpState:z})}catch(P){console.warn("Failed to save current game state:",P)}};$.useEffect(()=>{c||ag()},[a,g,u,z]);const lg=()=>{const P=[];return a.forEach((U,k)=>{U.forEach((M,N)=>{M&&((M.row!==k||M.col!==N)&&(console.log(`Tile position mismatch: tile says (${M.row}, ${M.col}) but is at grid position (${k}, ${N})`),M.row=k,M.col=N),P.push(M))})}),P},ug=100,Do=typeof window<"u"?window.innerWidth:800,cg=typeof window<"u"?window.innerHeight:600,dg=Math.max(Do-100,320),fg=Math.max(cg-350,280),hg=Math.min(ug,Math.floor((dg-3*Q)/4),Math.floor((fg-3*Q)/4)),pg=Do<480?50:Do<768?65:75,Pe=Math.max(hg,pg);return x.jsxs(Oo,{allowScroll:!0,children:[x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:S.spacing.sm,width:"100%",flexShrink:0,position:"relative",paddingTop:S.spacing.lg,marginTop:S.spacing.md},children:[x.jsx(Ey,{onGoHome:t,disabled:c,gridWidth:(Pe+Q)*4-Q}),x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:`${(Pe+Q)*4-Q}px`,minWidth:"280px",gap:S.spacing.md},children:[x.jsxs("div",{style:{fontSize:S.fontSize.lg,color:"#666",margin:"0",fontWeight:"600",whiteSpace:"nowrap"},children:["Score: ",g.toLocaleString()]}),x.jsxs("div",{style:{fontSize:S.fontSize.lg,color:"#666",fontWeight:"600",whiteSpace:"nowrap"},children:["Power-Ups: ",z.powerUps.length,"/4"]})]})]}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",flex:1,justifyContent:"center",minHeight:0},children:[x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:S.spacing.md},children:[x.jsx(Oy,{powerUps:z.powerUps,onUsePowerUp:Zp,disabled:c||z.inputLocked,gridWidth:(Pe+Q)*4-Q,slowMotionTurns:z.slowMotionTurns}),x.jsx(Ly,{selectingPowerUp:z.selectingPowerUp,onCancel:Mu,gridWidth:(Pe+Q)*4-Q}),x.jsx(Iy,{message:it,gridWidth:(Pe+Q)*4-Q}),Tn&&x.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(255, 215, 0, 0.95)",color:"#333",padding:"12px 24px",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",textAlign:"center",zIndex:1e3,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",border:"2px solid #ffd700",animation:"pulse 0.5s ease-in-out",minWidth:"250px"},children:Tn})]}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:S.spacing.lg},children:[x.jsxs("div",{ref:r,className:"game-container",style:{position:"relative",width:(Pe+Q)*4-Q,height:(Pe+Q)*4-Q,margin:"0",isolation:"isolate",minWidth:"280px",minHeight:"280px",maxWidth:"min(90vw, 500px)",maxHeight:"min(90vw, 500px)",flexShrink:0},children:[a.map((P,U)=>P.map((k,M)=>x.jsx("div",{style:{position:"absolute",left:M*(Pe+Q),top:U*(Pe+Q),width:Pe,height:Pe,border:`${fy}px solid ${hy}`,borderRadius:zi,backgroundColor:py,boxSizing:"border-box",zIndex:1}},`${U}-${M}`))),lg().map(P=>{var M,N;const U=((M=z.selectingPowerUp)==null?void 0:M.picked.some(B=>B.row===P.row&&B.col===P.col))||!1,k=z.selectingPowerUp?kd(P.row,P.col,a,z.selectingPowerUp,z.frozenTiles):!1;return x.jsx(my,{tile:P,cellSize:Pe,onTileClick:sg,isFrozen:ot(P.id,z.frozenTiles),freezeTurns:oS(P.id,z.frozenTiles),isSelected:((N=z.swapSelection)==null?void 0:N.tileId)===P.id,canInteract:z.activePowerUp!==null&&!c,isSelectable:k,isPicked:U},P.id)}),v.map(P=>x.jsx(by,{score:P.score,x:P.x,y:P.y,cellSize:Pe,onComplete:()=>Gp(P.id)},P.id)),c&&x.jsx(_y,{score:g,onRestart:Xp,onMainMenu:ig,onBackToGame:()=>{f(!1),ne(null),oe(!1),w(!0)},canUndo:y.length>0&&!or()&&(ts()||z.extraUndos>0),extraUndos:z.extraUndos,onNameSubmit:Kp,onSkipHighScore:Jp,isCheckingScore:W,isSavingScore:Z,qualifiesForLeaderboard:G!==null,gridWidth:(Pe+Q)*4-Q})]}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:S.spacing.md,width:"100%",flexShrink:0,marginTop:S.spacing.lg},children:[x.jsx(Cy,{onUndo:Nu,canUndo:m&&!ie&&!or()||c&&ts()&&!ie&&!or()||z.extraUndos>0,disabled:c&&!(ts()||z.extraUndos>0)||z.inputLocked,allowUndoWhenDisabled:c&&ts()&&!ie&&!or()||c&&z.extraUndos>0&&y.length>0&&!ie&&!or(),gridWidth:(Pe+Q)*4-Q,extraUndos:z.extraUndos}),x.jsx(Ty,{style:{maxWidth:"90%",opacity:.8}})]})]})," "]})," "]})},mS=({style:t})=>{const{t:e}=Ct(),[n,r]=$.useState(null),[s,i]=$.useState(!0);$.useEffect(()=>{(async()=>{i(!0);try{const u=await Mo();r(u.length>0?u[0]:null)}catch(u){console.error("Failed to load high score:",u),r(null)}finally{i(!1)}})()},[]);const o=tp.md,a={width:"100%",minHeight:o.minHeight,padding:o.padding,fontSize:o.fontSize,fontWeight:"bold",borderRadius:o.borderRadius,background:"rgba(255, 215, 0, 0.7)",color:"#B8860B",border:"2px solid rgba(255, 215, 0, 0.6)",backdropFilter:"blur(5px)",boxShadow:S.boxShadow.base,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${S.transition.base}`,cursor:"default",userSelect:"none",...t};return s?x.jsx("div",{style:a,children:"⏳ Loading..."}):n?x.jsx("div",{style:a,children:x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[x.jsx("div",{style:{fontSize:"clamp(12px, 2.5vw, 14px)",fontWeight:"600",opacity:.9},children:e("startScreen.globalHighScoreTitle")}),x.jsx("div",{style:{fontSize:"clamp(14px, 3vw, 16px)",fontWeight:"bold"},children:n.score.toLocaleString()}),x.jsx("div",{style:{fontSize:"clamp(10px, 2vw, 12px)",fontWeight:"500",opacity:.8},children:e("startScreen.globalHighScoreBy",{name:n.name})})]})}):x.jsx("div",{style:a,children:e("startScreen.noScoresYet")})},zu=({containerWidth:t,containerHeight:e,maxEmojis:n=10})=>{const[r,s]=$.useState([]),{discoveredEmojis:i,weightedEmojiSelection:o}=$.useMemo(()=>{const a=Up(),l=[];for(let c=1;c<=a;c++)l.push(c);const u=l.map(c=>oo.get(c)).filter(c=>c!==void 0),d=[];return l.forEach(c=>{const f=oo.get(c);if(f){const g=Math.min(c,3);for(let p=0;p<g;p++)d.push(f)}}),{discoveredEmojis:u,weightedEmojiSelection:d}},[]);return $.useEffect(()=>{if(i.length===0||t===0||e===0)return;const a=u=>{const d=Math.floor(Math.random()*3),c=d===0?.3:d===1?.6:1,f=Math.floor(Math.random()*4);let g,p,v,C;const y=Math.random()*Math.PI*2,h=2+Math.random()*2*c;switch(f){case 0:g=-100,p=Math.random()*e;const m=(Math.random()-.5)*Math.PI;v=Math.cos(m)*h,C=Math.sin(m)*h;break;case 1:g=t+100,p=Math.random()*e;const w=Math.PI+(Math.random()-.5)*Math.PI;v=Math.cos(w)*h,C=Math.sin(w)*h;break;case 2:g=Math.random()*t,p=-100;const _=Math.random()*Math.PI;v=Math.cos(_)*h,C=Math.sin(_)*h;break;case 3:g=Math.random()*t,p=e+100;const b=Math.PI+Math.random()*Math.PI;v=Math.cos(b)*h,C=Math.sin(b)*h;break;default:g=-100,p=Math.random()*e,v=Math.cos(y)*h,C=Math.sin(y)*h}return{id:u,emoji:o[Math.floor(Math.random()*o.length)],x:g,y:p,vx:v,vy:C,scale:.6+Math.random()*.8*c,opacity:1,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*.8*c,layer:d}},l=Array.from({length:n},(u,d)=>a(d));s(l)},[i,t,e,n]),$.useEffect(()=>{if(r.length===0)return;let a;const u=1e3/60;let d=0;const c=f=>{f-d>=u&&(d=f,s(g=>g.map(p=>{let v=p.x+p.vx,C=p.y+p.vy,y=p.rotation+p.rotationSpeed;const h=100;if(v>t+h||v<-h||C>e+h||C<-h){const m=Math.floor(Math.random()*4),w=p.layer===0?.3:p.layer===1?.6:1;let _,b,j,R;const F=2+Math.random()*2*w;switch(m){case 0:_=-100,b=Math.random()*e;const G=(Math.random()-.5)*Math.PI;j=Math.cos(G)*F,R=Math.sin(G)*F;break;case 1:_=t+100,b=Math.random()*e;const ne=Math.PI+(Math.random()-.5)*Math.PI;j=Math.cos(ne)*F,R=Math.sin(ne)*F;break;case 2:_=Math.random()*t,b=-100;const ie=Math.random()*Math.PI;j=Math.cos(ie)*F,R=Math.sin(ie)*F;break;case 3:_=Math.random()*t,b=e+100;const oe=Math.PI+Math.random()*Math.PI;j=Math.cos(oe)*F,R=Math.sin(oe)*F;break;default:_=-100,b=Math.random()*e;const xe=Math.random()*Math.PI*2;j=Math.cos(xe)*F,R=Math.sin(xe)*F}const A=o[Math.floor(Math.random()*o.length)];return{...p,emoji:A,x:_,y:b,vx:j,vy:R,scale:.6+Math.random()*.8*w,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*.8*w}}return{...p,x:v,y:C,rotation:y}}))),a=requestAnimationFrame(c)};return a=requestAnimationFrame(c),()=>{a&&cancelAnimationFrame(a)}},[r.length,t,e]),i.length===0?null:x.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",overflow:"hidden",zIndex:0},children:r.map(a=>x.jsx("div",{style:{position:"absolute",left:a.x,top:a.y,fontSize:`${40+a.scale*20}px`,opacity:a.opacity,transform:`scale(${a.scale}) rotate(${a.rotation}deg)`,filter:"blur(0.3px)",userSelect:"none",zIndex:a.layer+1},children:a.emoji},a.id))})},xi=(t,e)=>()=>{e(),t()},yS=({onStartGame:t,onContinueGame:e,onShowLeaderboard:n,onShowSettings:r})=>{const{t:s}=Ct(),i=Fp(),o=xi(t,ao),a=xi(e,lp),l=xi(n,Je),u=xi(r,Je),c=(()=>{const g=typeof window<"u"?window.innerWidth:800,p=typeof window<"u"?window.innerHeight:600,v=Math.max(g-100,320),C=Math.max(p-350,280),y=Math.min(100,Math.floor((v-3*Q)/4),Math.floor((C-3*Q)/4)),h=g<480?50:g<768?65:75;return(Math.max(y,h)+Q)*4-Q})();return x.jsxs(Oo,{children:[x.jsx(zu,{containerWidth:typeof window<"u"?window.innerWidth:800,containerHeight:typeof window<"u"?window.innerHeight:600,maxEmojis:20}),x.jsx("div",{style:{fontSize:S.fontSize["4xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",position:"relative",zIndex:1},children:s("app.title")}),x.jsx("div",{style:{fontSize:S.fontSize.base,color:"#666",textAlign:"center",maxWidth:"90%",lineHeight:"1.5",margin:"0",position:"relative",zIndex:1},children:s("app.description")}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.lg,alignItems:"center",width:"100%",maxWidth:`${c}px`,position:"relative",zIndex:1},children:[x.jsx(mS,{}),x.jsx(ke,{onClick:o,variant:"primary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.startNewGame")}),x.jsx(ke,{onClick:a,disabled:!i,variant:"secondary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.continueGame")}),x.jsx(ke,{onClick:l,variant:"secondary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.leaderboard")}),x.jsx(ke,{onClick:u,variant:"secondary",style:{width:`${c}px`,minWidth:"280px",maxWidth:"500px"},children:s("startScreen.settings")})]})]})},vS=t=>t||"Anonymous",wS=({onBackToHome:t})=>{const{t:e}=Ct(),[n,r]=$.useState([]),[s,i]=$.useState(!0),{isMobile:o}=fp(),a=()=>{Je(),t()},u=(()=>{const f=typeof window<"u"?window.innerWidth:800,g=typeof window<"u"?window.innerHeight:600,p=Math.max(f-100,320),v=Math.max(g-350,280),C=Math.min(100,Math.floor((p-3*Q)/4),Math.floor((v-3*Q)/4)),y=f<480?50:f<768?65:75;return(Math.max(C,y)+Q)*4-Q})();$.useEffect(()=>{(async()=>{i(!0);try{const f=await Mo();r(f)}catch(f){console.error("Failed to load leaderboard:",f)}finally{i(!1)}})()},[]);const d=n.slice(0,100);return x.jsxs(Oo,{children:[x.jsx(zu,{containerWidth:typeof window<"u"?window.innerWidth:800,containerHeight:typeof window<"u"?window.innerHeight:600,maxEmojis:20}),x.jsx("div",{style:{fontSize:S.fontSize["3xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",position:"relative",zIndex:1},children:e("leaderboard.title")}),x.jsx("div",{style:{width:"100%",maxWidth:o?"100%":"500px",backgroundColor:"white",borderRadius:S.borderRadius.xl,boxShadow:S.boxShadow.overlay,padding:o?`${S.spacing.lg} ${S.spacing.md}`:`clamp(${S.spacing.xl}, 4vh, ${S.spacing["3xl"]})`,minHeight:"clamp(300px, 50vh, 400px)",maxHeight:"60vh",display:"flex",flexDirection:"column",overflowY:"auto",margin:"0",position:"relative",zIndex:1},children:s?x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[x.jsx("div",{style:{fontSize:S.fontSize["4xl"],marginBottom:S.spacing.lg},children:"⏳"}),x.jsx("div",{style:{fontSize:S.fontSize.lg,fontWeight:"bold",color:"#333"},children:e("leaderboard.loading")})]}):d.length>0?x.jsxs(x.Fragment,{children:[x.jsx("div",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",color:"#333",textAlign:"center",marginBottom:S.spacing.xl},children:e("leaderboard.topScores")}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,flex:1},children:d.map((c,f)=>{const g=f===0,p=f<3;return x.jsxs("div",{style:{position:"relative",display:"grid",gridTemplateColumns:o?"32px 1fr 60px 80px":"40px 1fr 80px 100px",alignItems:"center",gap:o?S.spacing.sm:S.spacing.md,padding:o?`${S.spacing.md} ${S.spacing.sm}`:`${S.spacing.lg} ${S.spacing.xl}`,backgroundColor:g?"rgba(255, 215, 0, 0.12)":p?"rgba(76, 175, 80, 0.06)":"rgba(248, 249, 250, 0.8)",borderRadius:S.borderRadius.lg,border:g?"1px solid rgba(255, 215, 0, 0.3)":p?"1px solid rgba(76, 175, 80, 0.15)":"1px solid rgba(0, 0, 0, 0.06)",transition:`transform ${S.transition.base}`},onMouseOver:v=>{v.currentTarget.style.transform="translateY(-2px)"},onMouseOut:v=>{v.currentTarget.style.transform="translateY(0)"},children:[x.jsx("div",{style:{fontSize:o?S.fontSize.base:S.fontSize.lg,fontWeight:"bold",textAlign:"center",color:g?"#FFD700":f===1?"#C0C0C0":f===2?"#CD7F32":"#666",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:g?"🥇":f===1?"🥈":f===2?"🥉":`#${c.rank}`}),x.jsx("div",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,fontWeight:"500",color:"#333",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:"0"},children:x.jsx("span",{lang:"und",suppressHydrationWarning:!0,children:vS(c.name)})}),x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:S.spacing.xs,color:"#666",fontWeight:"500",fontSize:o?S.fontSize.xs:S.fontSize.sm,textAlign:"center",width:"100%",position:"relative"},children:[x.jsx("span",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,lineHeight:"1"},children:oo.get(c.highestTile||1)||"❓"}),x.jsx("span",{style:{fontSize:o?S.fontSize.xs:S.fontSize.sm,lineHeight:"1",minWidth:o?"16px":"20px",textAlign:"left"},children:c.highestTile||1})]}),x.jsx("div",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,fontWeight:"600",color:"#333",textAlign:"right",whiteSpace:"nowrap",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:c.score.toLocaleString()})]},`${c.score}-${c.name}-${f}`)})})]}):x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[x.jsx("div",{style:{fontSize:S.fontSize["4xl"],marginBottom:S.spacing.lg},children:"🎮"}),x.jsx("div",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",marginBottom:S.spacing.sm,color:"#333"},children:e("leaderboard.noScores")}),x.jsx("div",{style:{fontSize:S.fontSize.base,lineHeight:"1.5"},children:e("leaderboard.noScoresDescription")})]})}),x.jsx("div",{style:{width:"100%",maxWidth:`${u}px`,position:"relative",zIndex:1},children:x.jsx(ke,{onClick:a,variant:"secondary",style:{width:`${u}px`,minWidth:"280px",maxWidth:"500px"},children:e("leaderboard.home")})})]})};let yt={},ds=8;try{yt=require("../constants/design-system").DESIGN_TOKENS||{}}catch{console.warn("Could not import DESIGN_TOKENS, using fallbacks")}try{ds=require("../constants/styles").CELL_GAP||8}catch{console.warn("Could not import CELL_GAP, using fallback")}const SS=({onBackToMenu:t})=>{var f,g,p,v,C,y,h,m,w,_;const{t:e}=Ct(),[n,r]=$.useState(!0);$.useEffect(()=>{const b=()=>{try{Xc()&&r(!xy())}catch(j){console.warn("Error reading sound state:",j),r(!0)}};if(b(),!Xc()){const j=setTimeout(b,100);return()=>clearTimeout(j)}},[]);const s=()=>{try{qs();const b=!n;r(b),Pu(!b),b&&setTimeout(()=>{try{Je()}catch(j){console.warn("Error playing sound:",j)}},100)}catch(b){console.warn("Error toggling sound:",b)}},i=()=>{try{Je()}catch(b){console.warn("Error playing sound:",b)}t()},a=(()=>{try{const j=typeof window<"u"?window.innerWidth:800,R=typeof window<"u"?window.innerHeight:600,F=Math.max(j-100,320),A=Math.max(R-350,280),G=Math.min(100,Math.floor((F-3*ds)/4),Math.floor((A-3*ds)/4)),ne=j<480?50:j<768?65:75;return(Math.max(G,ne)+ds)*4-ds}catch(b){return console.warn("Error calculating grid button width:",b),320}})(),l={"3xl":((f=yt.fontSize)==null?void 0:f["3xl"])||"1.875rem",base:((g=yt.fontSize)==null?void 0:g.base)||"1rem",lg:((p=yt.fontSize)==null?void 0:p.lg)||"1.125rem",sm:((v=yt.fontSize)==null?void 0:v.sm)||"0.875rem"},u={lg:((C=yt.spacing)==null?void 0:C.lg)||"24px",md:((y=yt.spacing)==null?void 0:y.md)||"16px",sm:((h=yt.spacing)==null?void 0:h.sm)||"8px"},d={primary:((m=yt.color)==null?void 0:m.primary)||"#4CAF50",secondary:((w=yt.color)==null?void 0:w.secondary)||"#f5f5f5"},c={lg:((_=yt.borderRadius)==null?void 0:_.lg)||"12px"};return x.jsxs(Oo,{children:[x.jsx(zu,{containerWidth:typeof window<"u"?window.innerWidth:800,containerHeight:typeof window<"u"?window.innerHeight:600,maxEmojis:15}),x.jsx("div",{style:{fontSize:l["3xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",position:"relative",zIndex:1},children:e("settings.title",{defaultValue:"Einstellungen"})}),x.jsx("div",{style:{fontSize:l.base,color:"#666",textAlign:"center",maxWidth:"90%",lineHeight:"1.5",margin:"0",position:"relative",zIndex:1},children:e("settings.subtitle",{defaultValue:"Passe dein Spielerlebnis an"})}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:u.lg,alignItems:"center",width:"100%",maxWidth:`${a}px`,position:"relative",zIndex:1},children:[x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:u.md,alignItems:"center",width:"100%",padding:u.lg,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:c.lg,border:`2px solid ${n?d.primary:"#ccc"}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[x.jsx("div",{style:{fontSize:l.lg,fontWeight:"600",color:"#333",textAlign:"center",marginBottom:u.sm},children:"Audio-Einstellungen"}),x.jsx(ke,{onClick:s,variant:n?"primary":"secondary",style:{width:"100%",minHeight:"60px",fontSize:l.lg,fontWeight:"bold",backgroundColor:n?d.primary:d.secondary,color:n?"white":"#666",border:`2px solid ${n?d.primary:"#ccc"}`,transition:"all 0.3s ease"},children:n?e("settings.soundOn",{defaultValue:"🔊 Sound: An"}):e("settings.soundOff",{defaultValue:"🔇 Sound: Aus"})}),x.jsx("div",{style:{fontSize:l.sm,color:"#666",textAlign:"center",fontStyle:"italic"},children:n?"Alle Spielsounds sind aktiviert":"Alle Spielsounds sind deaktiviert"})]}),x.jsxs(ke,{onClick:i,variant:"secondary",style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px"},children:["🏠 ",e("settings.backToMenu",{defaultValue:"Start"})]})]})]})},bd=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:s,confirmText:i,cancelText:o,gridWidth:a=320,confirmVariant:l="primary"})=>{const{t:u}=Ct(),d=()=>{Je(),r()},c=()=>{Je(),s()};return t?x.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,fontFamily:"Arial, sans-serif"},children:x.jsxs("div",{style:{backgroundColor:"white",borderRadius:S.borderRadius.xl,padding:S.layout.popupPadding,boxShadow:S.boxShadow.xl,width:"fit-content",minWidth:`${Math.max(a+48,328)}px`,maxWidth:"548px",textAlign:"center",border:"2px solid rgba(0, 0, 0, 0.1)",boxSizing:"border-box"},children:[x.jsx("h3",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",color:"#333",marginBottom:S.spacing.lg,marginTop:0},children:e}),x.jsx("p",{style:{fontSize:S.fontSize.base,color:"#666",lineHeight:"1.5",marginBottom:S.spacing["3xl"],marginTop:0},children:n}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,alignItems:"center",width:"100%",padding:`0 ${S.layout.popupContentPadding}`,boxSizing:"border-box"},children:[x.jsx(ke,{onClick:c,variant:"primary",size:"md",fullWidth:!1,style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:S.fontSize.base,fontWeight:"bold",borderRadius:S.borderRadius.lg,padding:`${S.spacing.md} ${S.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},children:o||u("confirmDialog.cancel")}),x.jsx(ke,{onClick:d,variant:l==="warning"?"warning":"primary",size:"md",fullWidth:!1,style:{width:`${a}px`,minWidth:"280px",maxWidth:"500px",minHeight:"56px",fontSize:S.fontSize.base,fontWeight:"bold",borderRadius:S.borderRadius.lg,padding:`${S.spacing.md} ${S.spacing.lg}`,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},children:i||u("confirmDialog.confirm")})]})]})}):null},xS=({isVisible:t,score:e,onSubmit:n,onCancel:r})=>{const{t:s}=Ct(),[i,o]=$.useState(""),[a,l]=$.useState(!1),d=(()=>{const v=typeof window<"u"?window.innerWidth:800,C=typeof window<"u"?window.innerHeight:600,y=Math.max(v-100,320),h=Math.max(C-350,280),m=Math.min(100,Math.floor((y-3*Q)/4),Math.floor((h-3*Q)/4)),w=v<480?50:v<768?65:75;return(Math.max(m,w)+Q)*4-Q})();$.useEffect(()=>{if(t){const p=setTimeout(()=>{l(!0)},50);return()=>clearTimeout(p)}else l(!1)},[t]),$.useEffect(()=>{t&&o("")},[t]);const c=p=>{p.preventDefault(),ln();const v=i.trim();n(v||s("common.anonymous"))},f=()=>{Je(),r()},g=p=>{const v=p.target.value;v.length<=12&&o(v)};return t?x.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,opacity:a?1:0,transition:"opacity 0.3s ease-in-out"},children:x.jsxs("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:S.borderRadius.xl,padding:S.layout.popupPadding,width:"fit-content",minWidth:`${d}px`,maxWidth:`max(${d}px, min(90vw, 500px))`,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",border:"2px solid rgba(255, 255, 255, 0.15)",color:"white",textAlign:"center"},children:[x.jsxs("div",{style:{textAlign:"center",marginBottom:S.spacing.xl},children:[x.jsx("h2",{style:{color:"white",fontSize:`clamp(${S.fontSize.lg}, 4vw, ${S.fontSize.xl})`,fontWeight:"bold",margin:`0 0 ${S.spacing.lg} 0`},children:s("nameEntry.newHighScore")}),x.jsx("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:`clamp(${S.fontSize.sm}, 3vw, ${S.fontSize.base})`,margin:`0 0 ${S.spacing.sm} 0`},children:s("nameEntry.score",{score:e.toLocaleString()})}),x.jsx("p",{style:{color:"#FFD700",fontSize:S.fontSize.sm,fontWeight:"bold",margin:"0"},children:s("nameEntry.enterNamePrompt")})]}),x.jsxs("form",{onSubmit:c,children:[x.jsx("input",{type:"text",value:i,onChange:g,placeholder:s("nameEntry.namePlaceholder"),autoFocus:!0,style:{width:"100%",padding:"12px 16px",fontSize:"16px",border:`2px solid ${rn.border.light}`,borderRadius:"8px",marginBottom:"20px",boxSizing:"border-box",backgroundColor:rn.background,color:rn.textPrimary,outline:"none",transition:"border-color 0.2s ease"},onFocus:p=>{p.target.style.borderColor=rn.primary},onBlur:p=>{p.target.style.borderColor=rn.border.light}}),x.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[x.jsx(ke,{variant:"secondary",size:"sm",fullWidth:!1,type:"button",onClick:f,style:{minWidth:"100px"},children:s("nameEntry.skip")}),x.jsx(ke,{variant:"primary",size:"sm",fullWidth:!1,type:"submit",style:{minWidth:"100px"},children:s("nameEntry.saveScore")})]})]}),x.jsx("div",{style:{textAlign:"center",marginTop:"16px",fontSize:"12px",color:rn.textSecondary},children:s("nameEntry.charactersRemaining",{current:i.length,max:12})})]})}):null};function kS(){const{t}=Ct(),[e,n]=$.useState("start"),[r,s]=$.useState(!1),[i,o]=$.useState(!1),[a,l]=$.useState(!1);$.useEffect(()=>{Sy()},[]);const d=(()=>{const ne=typeof window<"u"?window.innerWidth:800,ie=typeof window<"u"?window.innerHeight:600,oe=Math.max(ne-100,320),xe=Math.max(ie-350,280),ve=Math.min(100,Math.floor((oe-3*Q)/4),Math.floor((xe-3*Q)/4)),z=ne<480?50:ne<768?65:75;return(Math.max(ve,z)+Q)*4-Q})(),[c,f]=$.useState(null),[g,p]=$.useState(!1),v=()=>{if(c!==null){o(!0);return}Fp()?s(!0):(Nn(),l(!1),n("playing"))},C=()=>{l(!0),n("playing")},y=()=>{n("leaderboard")},h=()=>{n("settings")},m=()=>{n("start")},w=()=>{jr(),Nn(),l(!1),s(!1),n("playing")},_=G=>{f(G)},b=async G=>{if(c!==null)try{await Rl(c,G)}catch(ne){console.error("Failed to save score to leaderboard:",ne)}f(null),p(!1),jr(),Nn(),l(!1),n("start")},j=async()=>{if(c!==null)try{await Rl(c,t("common.anonymous"))}catch(G){console.error("Failed to save score to leaderboard:",G)}f(null),p(!1),jr(),Nn(),l(!1),n("start")},R=()=>{s(!1)},F=()=>{f(null),o(!1),Nn(),l(!1),n("playing")},A=()=>{o(!1),p(!0)};return x.jsxs("div",{children:[e==="start"&&x.jsx(yS,{onStartGame:v,onContinueGame:C,onShowLeaderboard:y,onShowSettings:h}),e==="playing"&&x.jsx(gS,{onBackToStart:m,shouldLoadSavedGame:a,onPendingScore:_}),e==="leaderboard"&&x.jsx(wS,{onBackToHome:m}),e==="settings"&&x.jsx(SS,{onBackToMenu:m}),x.jsx(bd,{isOpen:r,title:t("confirmDialog.startNewGameTitle"),message:t("confirmDialog.startNewGameMessage"),onConfirm:w,onCancel:R,confirmText:t("confirmDialog.startNewGame"),cancelText:t("confirmDialog.cancel"),gridWidth:d}),x.jsx(bd,{isOpen:i,title:t("confirmDialog.skipHighScoreTitle"),message:t("confirmDialog.skipHighScoreMessage"),onConfirm:F,onCancel:A,confirmText:t("confirmDialog.skipHighScoreConfirm"),cancelText:t("confirmDialog.skipHighScoreCancel"),gridWidth:d,confirmVariant:"warning"}),x.jsx(xS,{isVisible:g,score:c||0,onSubmit:b,onCancel:j})]})}const V=t=>typeof t=="string",is=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},Ed=t=>t==null?"":""+t,_S=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},bS=/###/g,Cd=t=>t&&t.indexOf("###")>-1?t.replace(bS,"."):t,Td=t=>!t||V(t),_s=(t,e,n)=>{const r=V(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(Td(t))return{};const i=Cd(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Td(t)?{}:{obj:t,k:Cd(r[s])}},jd=(t,e,n)=>{const{obj:r,k:s}=_s(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=_s(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=_s(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},ES=(t,e,n,r)=>{const{obj:s,k:i}=_s(t,e,Object);s[i]=s[i]||[],s[i].push(n)},co=(t,e)=>{const{obj:n,k:r}=_s(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},CS=(t,e,n)=>{const r=co(t,n);return r!==void 0?r:co(e,n)},Wp=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?V(t[r])||t[r]instanceof String||V(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Wp(t[r],e[r],n):t[r]=e[r]);return t},ar=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var TS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jS=t=>V(t)?t.replace(/[&<>"'\/]/g,e=>TS[e]):t;class PS{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const OS=[" ",",","?","!",";"],RS=new PS(20),LS=(t,e,n)=>{e=e||"",n=n||"";const r=OS.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=RS.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},$l=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},Bs=t=>t==null?void 0:t.replace("_","-"),IS={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class fo{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||IS,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(V(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new fo(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new fo(this.logger,e)}}var It=new fo;class Fo{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...n])})}}class Pd extends Fo{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var u,d;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):V(r)&&i?a.push(...r.split(i)):a.push(r)));const l=co(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!V(r)?l:$l((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),jd(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(V(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=co(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Wp(l,r,i):l={...l,...r},jd(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Hp={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,n,r,s))??e}),e}};const Od={},Rd=t=>!V(t)&&typeof t!="boolean"&&typeof t!="number";class ho extends Fo{constructor(e,n={}){super(),_S(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=It.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!LS(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:V(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:V(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const c=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode")return f?i?{res:`${u}${d}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${d}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:a;const g=this.resolve(e,s);let p=g==null?void 0:g.res;const v=(g==null?void 0:g.usedKey)||a,C=(g==null?void 0:g.exactUsedKey)||a,y=["[object Number]","[object Function]","[object RegExp]"],h=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,w=s.count!==void 0&&!V(s.count),_=ho.hasDefaultValue(s),b=w?this.pluralResolver.getSuffix(c,s.count,s):"",j=s.ordinal&&w?this.pluralResolver.getSuffix(c,s.count,{ordinal:!1}):"",R=w&&!s.ordinal&&s.count===0,F=R&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${b}`]||s[`defaultValue${j}`]||s.defaultValue;let A=p;m&&!p&&_&&(A=F);const G=Rd(A),ne=Object.prototype.toString.apply(A);if(m&&A&&G&&y.indexOf(ne)<0&&!(V(h)&&Array.isArray(A))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ie=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,A,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(g.res=ie,g.usedParams=this.getUsedParamsDetails(s),g):ie}if(o){const ie=Array.isArray(A),oe=ie?[]:{},xe=ie?C:v;for(const ve in A)if(Object.prototype.hasOwnProperty.call(A,ve)){const z=`${xe}${o}${ve}`;_&&!p?oe[ve]=this.translate(z,{...s,defaultValue:Rd(F)?F[ve]:void 0,joinArrays:!1,ns:l}):oe[ve]=this.translate(z,{...s,joinArrays:!1,ns:l}),oe[ve]===z&&(oe[ve]=A[ve])}p=oe}}else if(m&&V(h)&&Array.isArray(p))p=p.join(h),p&&(p=this.extendTranslation(p,e,s,r));else{let ie=!1,oe=!1;!this.isValidLookup(p)&&_&&(ie=!0,p=F),this.isValidLookup(p)||(oe=!0,p=a);const ve=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&oe?void 0:p,z=_&&F!==p&&this.options.updateMissing;if(oe||ie||z){if(this.logger.log(z?"updateKey":"missingKey",c,u,a,z?F:p),o){const Z=this.resolve(a,{...s,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&W&&W[0])for(let Z=0;Z<W.length;Z++)L.push(W[Z]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(s.lng||this.language):L.push(s.lng||this.language);const H=(Z,ae,it)=>{var Yt;const Xe=_&&it!==p?it:ve;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,ae,Xe,z,s):(Yt=this.backendConnector)!=null&&Yt.saveMissing&&this.backendConnector.saveMissing(Z,u,ae,Xe,z,s),this.emit("missingKey",Z,u,ae,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?L.forEach(Z=>{const ae=this.pluralResolver.getSuffixes(Z,s);R&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(it=>{H([Z],a+it,s[`defaultValue${it}`]||F)})}):H(L,a,F))}p=this.extendTranslation(p,e,s,g,r),oe&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${a}`),(oe||ie)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${a}`:a,ie?p:void 0,s))}return i?(g.res=p,g.usedParams=this.getUsedParamsDetails(s),g):p}extendTranslation(e,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=V(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(d){const g=e.match(this.interpolator.nestingRegexp);c=g&&g.length}let f=r.replace&&!V(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||s.usedLng,r),d){const g=e.match(this.interpolator.nestingRegexp),p=g&&g.length;c<p&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>(i==null?void 0:i[0])===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=V(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=Hp.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,o,a;return V(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;s=d;let c=u.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const f=n.count!==void 0&&!V(n.count),g=f&&!n.ordinal&&n.count===0,p=n.context!==void 0&&(V(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);c.forEach(C=>{var y,h;this.isValidLookup(r)||(a=C,!Od[`${v[0]}-${C}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((h=this.utils)!=null&&h.hasLoadedNamespace(a))&&(Od[`${v[0]}-${C}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(m=>{var b;if(this.isValidLookup(r))return;o=m;const w=[d];if((b=this.i18nFormat)!=null&&b.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,m,C,n);else{let j;f&&(j=this.pluralResolver.getSuffix(m,n.count,n));const R=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(w.push(d+j),n.ordinal&&j.indexOf(F)===0&&w.push(d+j.replace(F,this.options.pluralSeparator)),g&&w.push(d+R)),p){const A=`${d}${this.options.contextSeparator}${n.context}`;w.push(A),f&&(w.push(A+j),n.ordinal&&j.indexOf(F)===0&&w.push(A+j.replace(F,this.options.pluralSeparator)),g&&w.push(A+R))}}let _;for(;_=w.pop();)this.isValidLookup(r)||(i=_,r=this.getResource(m,C,_,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!V(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Ld{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=It.create("languageUtils")}getScriptPartFromCode(e){if(e=Bs(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Bs(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(V(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),V(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return V(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):V(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const Id={zero:0,one:1,two:2,few:3,many:4,other:5},$d={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class $S{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=It.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Bs(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),$d;if(!e.match(/-|_/))return $d;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Id[s]-Id[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const zd=(t,e,n,r=".",s=!0)=>{let i=CS(t,e,n);return!i&&s&&V(n)&&(i=$l(t,n,r),i===void 0&&(i=$l(e,n,r))),i},ka=t=>t.replace(/\$/g,"$$$$");class zS{constructor(e={}){var n;this.logger=It.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:c,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:p,nestingSuffixEscaped:v,nestingOptionsSeparator:C,maxReplaces:y,alwaysFormat:h}=e.interpolation;this.escape=n!==void 0?n:jS,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?ar(i):o||"{{",this.suffix=a?ar(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?ar(f):g||ar("$t("),this.nestingSuffix=p?ar(p):v||ar(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=y||1e3,this.alwaysFormat=h!==void 0?h:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var g;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const h=zd(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(h,void 0,r,{...s,...n,interpolationkey:p}):h}const v=p.split(this.formatSeparator),C=v.shift().trim(),y=v.join(this.formatSeparator).trim();return this.format(zd(n,l,C,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...n,interpolationkey:C})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,c=((g=s==null?void 0:s.interpolation)==null?void 0:g.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>ka(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?ka(this.escape(p)):ka(p)}].forEach(p=>{for(a=0;i=p.regex.exec(e);){const v=i[1].trim();if(o=u(v),o===void 0)if(typeof d=="function"){const y=d(e,i,s);o=V(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))o="";else if(c){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!V(o)&&!this.useRawValueToEscape&&(o=Ed(o));const C=p.safeValue(o);if(e=e.replace(i[0],C),c?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,o;const a=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const c=l.split(new RegExp(`${d}[ ]*{`));let f=`{${c[1]}`;l=c[0],f=this.interpolate(f,o);const g=f.match(/'/g),p=f.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!p||p.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${d}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!V(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!V(i))return i;V(i)||(i=Ed(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((d,c)=>this.format(d,c,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const AS=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Ad=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(Bs(r),s),e[o]=a),a(n)}},NS=t=>(e,n,r)=>t(Bs(n),r)(e);class MS{constructor(e={}){this.logger=It.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Ad:NS;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ad(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var c;const{formatName:u,formatOptions:d}=AS(l);if(this.formats[u]){let f=a;try{const g=((c=s==null?void 0:s.formatParams)==null?void 0:c[s.interpolationkey])||{},p=g.locale||g.lng||s.locale||s.lng||r;f=this.formats[u](a,p,{...d,...s,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const FS=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class US extends Fo{constructor(e,n,r,s={}){var i,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=It.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let d=!0;n.forEach(c=>{const f=`${u}|${c}`;!r.reload&&this.store.hasResourceBundle(u,c)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,d=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),l[c]===void 0&&(l[c]=!0)))}),d||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{ES(l.loaded,[i],o),FS(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const d=l.loaded[u];d.length&&d.forEach(c=>{a[u][c]===void 0&&(a[u][c]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();V(e)&&(e=this.languageUtils.toResolveHierarchy(e)),V(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i,o={},a=()=>{}){var l,u,d,c,f;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((c=(d=this.services)==null?void 0:d.utils)!=null&&c.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const g={...o,isUpdate:i},p=this.backend.create.bind(this.backend);if(p.length<6)try{let v;p.length===5?v=p(e,n,r,s,g):v=p(e,n,r,s),v&&typeof v.then=="function"?v.then(C=>a(null,C)).catch(a):a(null,v)}catch(v){a(v)}else p(e,n,r,s,a,g)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const Nd=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),V(t[1])&&(e.defaultValue=t[1]),V(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Md=t=>{var e,n;return V(t.ns)&&(t.ns=[t.ns]),V(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),V(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},ki=()=>{},DS=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Ws extends Fo{constructor(e={},n){if(super(),this.options=Md(e),this.services={},this.logger=It,this.modules={external:[]},DS(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(V(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Nd();this.options={...r,...this.options,...Md(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?It.init(s(this.modules.logger),this.options):It.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=MS;const d=new Ld(this.options);this.store=new Pd(this.options.resources,this.options);const c=this.services;c.logger=It,c.resourceStore=this.store,c.languageUtils=d,c.pluralResolver=new $S(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(c.formatter=s(u),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new zS(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new US(s(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(g,...p)=>{this.emit(g,...p)}),this.modules.languageDetector&&(c.languageDetector=s(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=s(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new ho(this.services,this.options),this.translator.on("*",(g,...p)=>{this.emit(g,...p)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ki),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const a=is(),l=()=>{const u=(d,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(c),n(d,c)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=ki){var i,o;let r=n;const s=V(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const s=is();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=ki),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Hp.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=is();this.emit("languageChanging",e);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var d,c;!e&&!a&&this.services.languageDetector&&(a=[]);const l=V(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(V(a)?[a]:a);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(c=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||c.call(d,u)),this.loadResources(u,f=>{i(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(i)?d=i.map(c=>`${l.keyPrefix}${u}${c}`):d=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i,this.t(d,l)};return V(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=is();return this.options.ns?(V(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=is();V(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new Ld(Nd());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Ws(e,n)}cloneInstance(e={},n=ki){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Ws(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((d,c)=>(d[c]={...l[u][c]},d),l[u]),l),{});i.store=new Pd(a,s),i.services.resourceStore=i.store}return i.translator=new ho(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Me=Ws.createInstance();Me.createInstance=Ws.createInstance;Me.createInstance;Me.dir;Me.init;Me.loadResources;Me.reloadResources;Me.use;Me.changeLanguage;Me.getFixedT;Me.t;Me.exists;Me.setDefaultNamespace;Me.hasLoadedNamespace;Me.loadNamespaces;Me.loadLanguages;const BS=()=>{var n;return(navigator.language||((n=navigator.languages)==null?void 0:n[0])||"en").toLowerCase().substring(0,2)==="de"?"de":"en"},WS={title:"🎮 Emoji Fusion",description:"Merge tiles with the same emoji to create new ones! Use arrow keys to move tiles and reach the highest score possible."},HS={highScore:"🏆 High Score: {{score}}",globalHighScore:"🏆 Global High Score: {{score}}",globalHighScoreTitle:"🏆 Global Record",globalHighScoreBy:"by {{name}}",noScoresYet:"🎮 No scores yet!",startNewGame:"✅ Start New Game",continueGame:"▶️ Continue Game",leaderboard:"🏆 Leaderboard",settings:"⚙️ Settings"},GS={home:"🏠 Home",undo:"↩️ Undo Last Move",undoShortcut:"↩️ Undo Last Move (U)"},VS={title:"Game Over!",finalScore:"Final Score: {{score}}",undo:"Undo Last Move",backToGame:"Back to Game",checkingLeaderboard:"⏳ Checking leaderboard...",savingScore:"💾 Saving score...",topScore:"🎉 Top 100 Score! Enter your name:",enterName:"Enter name (max 12 chars)",saveScore:"💾 Save Score",saving:"⏳ Saving...",scoreSaved:"✅ Score saved to leaderboard!",newGame:"✅ New Game",mainMenu:"🏠 Main Menu",pleaseWait:"⏳ Please wait...",skipHighScore:"You reached a high score! Are you sure you want to skip submitting it?",skipConfirm:"⚠️ Start New Game!",skipCancel:"Enter Name"},KS={title:"🏆 Leaderboard",topScores:"Top Scores",loading:"Loading leaderboard...",noScores:"No Scores Yet",noScoresDescription:"Play your first game to start building your leaderboard!",home:"🏠 Home"},JS={newHighScore:"🎉 New High Score!",score:"Score: {{score}}",enterNamePrompt:"Enter your name for the leaderboard:",namePlaceholder:"Your name (max 12 chars)",skip:"Skip",saveScore:"Save Score",charactersRemaining:"{{current}}/{{max}} characters"},qS={confirm:"Confirm",cancel:"Cancel",startNewGame:"Start New Game",startNewGameTitle:"Start New Game?",startNewGameMessage:"You already have a game in progress. Are you sure you want to start over?",skipHighScoreTitle:"Skip High Score?",skipHighScoreMessage:"You reached a high score! Are you sure you don't want to submit it?",skipHighScoreConfirm:"⚠️ Start New Game!",skipHighScoreCancel:"Enter Name"},QS={keyboardInstructions:"Use WASD or arrow keys to move",touchInstructions:"Swipe to move",keyboardShortcuts:"Press U to undo, R to reset",restartGame:"Restart Game"},YS={anonymous:"Anonymous",player:"Player"},XS={title:"Settings",subtitle:"Customize your experience",soundLabel:"Audio Settings",soundOn:"🔊 Sound: On",soundOff:"🔇 Sound: Off",soundOnDescription:"All game sounds are enabled",soundOffDescription:"All game sounds are disabled",backToMenu:"Start"},ZS={app:WS,startScreen:HS,gameControls:GS,gameOver:VS,leaderboard:KS,nameEntry:JS,confirmDialog:qS,controls:QS,common:YS,settings:XS},ex={title:"🎮 Emoji Fusion",description:"Verbinde Kacheln mit demselben Emoji, um neue zu erstellen! Verwende die Pfeiltasten, um Kacheln zu bewegen und die höchste Punktzahl zu erreichen."},tx={highScore:"🏆 Rekord: {{score}}",globalHighScore:"🏆 Globaler Rekord: {{score}}",globalHighScoreTitle:"🏆 Globaler Rekord",globalHighScoreBy:"von {{name}}",noScoresYet:"🎮 Noch keine Ergebnisse!",startNewGame:"✅ Neues Spiel",continueGame:"▶️ Spiel fortsetzen",leaderboard:"🏆 Bestenliste",settings:"⚙️ Einstellungen"},nx={home:"🏠 Start",undo:"↩️ Letzten Zug rückgängig",undoShortcut:"↩️ Letzten Zug rückgängig (U)"},rx={title:"Spiel beendet!",finalScore:"Endpunktzahl: {{score}}",undo:"Letzter Zug rückgängig",backToGame:"Zurück zum Spiel",checkingLeaderboard:"⏳ Prüfe Bestenliste...",savingScore:"💾 Speichere Punktzahl...",topScore:"🎉 Top 100 Punktzahl! Gib deinen Namen ein:",enterName:"Namen eingeben (max. 12 Zeichen)",saveScore:"💾 Punktzahl speichern",saving:"⏳ Speichern...",scoreSaved:"✅ Punktzahl in Bestenliste gespeichert!",newGame:"✅ Neues Spiel",mainMenu:"🏠 Hauptmenü",pleaseWait:"⏳ Bitte warten...",skipHighScore:"Du hast einen Rekord erreicht! Bist du sicher, dass du ihn nicht einreichen möchtest?",skipConfirm:"⚠️ Neues Spiel starten!",skipCancel:"Namen eingeben"},sx={title:"🏆 Bestenliste",topScores:"Beste Ergebnisse",loading:"Lade Bestenliste...",noScores:"Noch keine Ergebnisse",noScoresDescription:"Spiele dein erstes Spiel, um deine Bestenliste aufzubauen!",home:"🏠 Start"},ix={newHighScore:"🎉 Neuer Rekord!",score:"Punktzahl: {{score}}",enterNamePrompt:"Gib deinen Namen für die Bestenliste ein:",namePlaceholder:"Dein Name (max. 12 Zeichen)",skip:"Überspringen",saveScore:"Punktzahl speichern",charactersRemaining:"{{current}}/{{max}} Zeichen"},ox={confirm:"Bestätigen",cancel:"Abbrechen",startNewGame:"Neues Spiel starten",startNewGameTitle:"Neues Spiel starten?",startNewGameMessage:"Du hast bereits ein Spiel in Bearbeitung. Bist du sicher, dass du von vorne anfangen möchtest?",skipHighScoreTitle:"Rekord überspringen?",skipHighScoreMessage:"Du hast einen Rekord erreicht! Bist du sicher, dass du ihn nicht einreichen möchtest?",skipHighScoreConfirm:"⚠️ Neues Spiel starten!",skipHighScoreCancel:"Namen eingeben"},ax={keyboardInstructions:"Verwende WASD oder Pfeiltasten zum Bewegen",touchInstructions:"Wischen zum Bewegen",keyboardShortcuts:"Drücke U für Rückgängig, R zum Zurücksetzen",restartGame:"Spiel neu starten"},lx={anonymous:"Anonym",player:"Spieler"},ux={title:"Einstellungen",subtitle:"Passe dein Spielerlebnis an",soundLabel:"Audio-Einstellungen",soundOn:"🔊 Sound: An",soundOff:"🔇 Sound: Aus",soundOnDescription:"Alle Spielsounds sind aktiviert",soundOffDescription:"Alle Spielsounds sind deaktiviert",backToMenu:"Start"},cx={app:ex,startScreen:tx,gameControls:nx,gameOver:rx,leaderboard:sx,nameEntry:ix,confirmDialog:ox,controls:ax,common:lx,settings:ux},dx={en:{translation:ZS},de:{translation:cx}};Me.use(ty).init({resources:dx,lng:BS(),fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,keySeparator:".",nsSeparator:!1,returnEmptyString:!1,returnNull:!1,returnObjects:!1,parseMissingKeyHandler:t=>t,missingKeyHandler:!1,saveMissing:!1});_a.createRoot(document.getElementById("root")).render(x.jsx(Lg.StrictMode,{children:x.jsx(kS,{})}));
