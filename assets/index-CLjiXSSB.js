(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Wc={exports:{}},$i={},Vc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),Qh=Symbol.for("react.portal"),Yh=Symbol.for("react.fragment"),Xh=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),sp=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),eu=Symbol.iterator;function op(t){return t===null||typeof t!="object"?null:(t=eu&&t[eu]||t["@@iterator"],typeof t=="function"?t:null)}var Gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kc=Object.assign,qc={};function gr(t,e,n){this.props=t,this.context=e,this.refs=qc,this.updater=n||Gc}gr.prototype.isReactComponent={};gr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jc(){}Jc.prototype=gr.prototype;function Ya(t,e,n){this.props=t,this.context=e,this.refs=qc,this.updater=n||Gc}var Xa=Ya.prototype=new Jc;Xa.constructor=Ya;Kc(Xa,gr.prototype);Xa.isPureReactComponent=!0;var tu=Array.isArray,Qc=Object.prototype.hasOwnProperty,Za={current:null},Yc={key:!0,ref:!0,__self:!0,__source:!0};function Xc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qc.call(e,r)&&!Yc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ps,type:t,key:i,ref:o,props:s,_owner:Za.current}}function ap(t,e){return{$$typeof:ps,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function el(t){return typeof t=="object"&&t!==null&&t.$$typeof===ps}function lp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nu=/\/+/g;function io(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lp(""+t.key):e.toString(36)}function Gs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ps:case Qh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+io(o,0):r,tu(s)?(n="",t!=null&&(n=t.replace(nu,"$&/")+"/"),Gs(s,e,n,"",function(u){return u})):s!=null&&(el(s)&&(s=ap(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",tu(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+io(i,a);o+=Gs(i,e,n,l,s)}else if(l=op(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+io(i,a++),o+=Gs(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xs(t,e,n){if(t==null)return t;var r=[],s=0;return Gs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function up(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},Ks={transition:null},cp={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:Za};function Zc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:xs,forEach:function(t,e,n){xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!el(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=gr;W.Fragment=Yh;W.Profiler=Zh;W.PureComponent=Ya;W.StrictMode=Xh;W.Suspense=rp;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;W.act=Zc;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Za.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Qc.call(e,l)&&!Yc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ps,type:t.type,key:s,ref:i,props:r,_owner:o}};W.createContext=function(t){return t={$$typeof:tp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ep,_context:t},t.Consumer=t};W.createElement=Xc;W.createFactory=function(t){var e=Xc.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:np,render:t}};W.isValidElement=el;W.lazy=function(t){return{$$typeof:ip,_payload:{_status:-1,_result:t},_init:up}};W.memo=function(t,e){return{$$typeof:sp,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Ks.transition;Ks.transition={};try{t()}finally{Ks.transition=e}};W.unstable_act=Zc;W.useCallback=function(t,e){return je.current.useCallback(t,e)};W.useContext=function(t){return je.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return je.current.useDeferredValue(t)};W.useEffect=function(t,e){return je.current.useEffect(t,e)};W.useId=function(){return je.current.useId()};W.useImperativeHandle=function(t,e,n){return je.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return je.current.useMemo(t,e)};W.useReducer=function(t,e,n){return je.current.useReducer(t,e,n)};W.useRef=function(t){return je.current.useRef(t)};W.useState=function(t){return je.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return je.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return je.current.useTransition()};W.version="18.3.1";Vc.exports=W;var T=Vc.exports;const dp=qh(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=T,hp=Symbol.for("react.element"),pp=Symbol.for("react.fragment"),gp=Object.prototype.hasOwnProperty,mp=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vp={key:!0,ref:!0,__self:!0,__source:!0};function ed(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gp.call(e,r)&&!vp.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:hp,type:t,key:i,ref:o,props:s,_owner:mp.current}}$i.Fragment=pp;$i.jsx=ed;$i.jsxs=ed;Wc.exports=$i;var E=Wc.exports,Bo={},td={exports:{}},We={},nd={exports:{}},rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,A){var U=L.length;L.push(A);e:for(;0<U;){var B=U-1>>>1,J=L[B];if(0<s(J,A))L[B]=A,L[U]=J,U=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var A=L[0],U=L.pop();if(U!==A){L[0]=U;e:for(var B=0,J=L.length,Ge=J>>>1;B<Ge;){var Ke=2*(B+1)-1,_t=L[Ke],xt=Ke+1,Rn=L[xt];if(0>s(_t,U))xt<J&&0>s(Rn,_t)?(L[B]=Rn,L[xt]=U,B=xt):(L[B]=_t,L[Ke]=U,B=Ke);else if(xt<J&&0>s(Rn,U))L[B]=Rn,L[xt]=U,B=xt;else break e}}return A}function s(L,A){var U=L.sortIndex-A.sortIndex;return U!==0?U:L.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=L)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function y(L){if(w=!1,g(L),!v)if(n(l)!==null)v=!0,oe(_);else{var A=n(u);A!==null&&we(y,A.startTime-L)}}function _(L,A){v=!1,w&&(w=!1,m(j),j=-1),p=!0;var U=f;try{for(g(A),d=n(l);d!==null&&(!(d.expirationTime>A)||L&&!V());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var J=B(d.expirationTime<=A);A=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),g(A)}else r(l);d=n(l)}if(d!==null)var Ge=!0;else{var Ke=n(u);Ke!==null&&we(y,Ke.startTime-A),Ge=!1}return Ge}finally{d=null,f=U,p=!1}}var x=!1,b=null,j=-1,D=5,$=-1;function V(){return!(t.unstable_now()-$<D)}function Re(){if(b!==null){var L=t.unstable_now();$=L;var A=!0;try{A=b(!0,L)}finally{A?ue():(x=!1,b=null)}}else x=!1}var ue;if(typeof h=="function")ue=function(){h(Re)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,St=ce.port2;ce.port1.onmessage=Re,ue=function(){St.postMessage(null)}}else ue=function(){k(Re,0)};function oe(L){b=L,x||(x=!0,ue())}function we(L,A){j=k(function(){L(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,oe(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var U=f;f=A;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,A){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return A()}finally{f=U}},t.unstable_scheduleCallback=function(L,A,U){var B=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?B+U:B):U=B,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,L={id:c++,callback:A,priorityLevel:L,startTime:U,expirationTime:J,sortIndex:-1},U>B?(L.sortIndex=U,e(u,L),n(l)===null&&L===n(u)&&(w?(m(j),j=-1):w=!0,we(y,U-B))):(L.sortIndex=J,e(l,L),v||p||(v=!0,oe(_))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var A=f;return function(){var U=f;f=A;try{return L.apply(this,arguments)}finally{f=U}}}})(rd);nd.exports=rd;var yp=nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=T,He=yp;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sd=new Set,qr={};function Tn(t,e){ar(t,e),ar(t+"Capture",e)}function ar(t,e){for(qr[t]=e,t=0;t<e.length;t++)sd.add(e[t])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=Object.prototype.hasOwnProperty,Sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ru={},su={};function _p(t){return Ho.call(su,t)?!0:Ho.call(ru,t)?!1:Sp.test(t)?su[t]=!0:(ru[t]=!0,!1)}function xp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kp(t,e,n,r){if(e===null||typeof e>"u"||xp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var tl=/[\-:]([a-z])/g;function nl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tl,nl);ye[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tl,nl);ye[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tl,nl);ye[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function rl(t,e,n,r){var s=ye.hasOwnProperty(e)?ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kp(e,n,s,r)&&(n=null),r||s===null?_p(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var It=wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Bn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),sl=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),od=Symbol.for("react.context"),il=Symbol.for("react.forward_ref"),Vo=Symbol.for("react.suspense"),Go=Symbol.for("react.suspense_list"),ol=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),ad=Symbol.for("react.offscreen"),iu=Symbol.iterator;function _r(t){return t===null||typeof t!="object"?null:(t=iu&&t[iu]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,oo;function Rr(t){if(oo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);oo=e&&e[1]||""}return`
`+oo+t}var ao=!1;function lo(t,e){if(!t||ao)return"";ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ao=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rr(t):""}function Ep(t){switch(t.tag){case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return t=lo(t.type,!1),t;case 11:return t=lo(t.type.render,!1),t;case 1:return t=lo(t.type,!0),t;default:return""}}function Ko(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hn:return"Fragment";case Bn:return"Portal";case Wo:return"Profiler";case sl:return"StrictMode";case Vo:return"Suspense";case Go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case od:return(t.displayName||"Context")+".Consumer";case id:return(t._context.displayName||"Context")+".Provider";case il:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ol:return e=t.displayName||null,e!==null?e:Ko(t.type)||"Memo";case zt:e=t._payload,t=t._init;try{return Ko(t(e))}catch{}}return null}function Cp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ko(e);case 8:return e===sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ld(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bp(t){var e=ld(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Es(t){t._valueTracker||(t._valueTracker=bp(t))}function ud(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ld(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qo(t,e){var n=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ou(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cd(t,e){e=e.checked,e!=null&&rl(t,"checked",e,!1)}function Jo(t,e){cd(t,e);var n=tn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qo(t,e.type,tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function au(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qo(t,e,n){(e!=="number"||si(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lr=Array.isArray;function tr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Lr(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tn(n)}}function dd(t,e){var n=tn(e.value),r=tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cs,hd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tp=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(t){Tp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ar[e]=Ar[t]})});function pd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ar.hasOwnProperty(t)&&Ar[t]?(""+e).trim():e+"px"}function gd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Op=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(t,e){if(e){if(Op[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var na=null,nr=null,rr=null;function cu(t){if(t=vs(t)){if(typeof na!="function")throw Error(O(280));var e=t.stateNode;e&&(e=zi(e),na(t.stateNode,t.type,e))}}function md(t){nr?rr?rr.push(t):rr=[t]:nr=t}function vd(){if(nr){var t=nr,e=rr;if(rr=nr=null,cu(t),e)for(t=0;t<e.length;t++)cu(e[t])}}function yd(t,e){return t(e)}function wd(){}var uo=!1;function Sd(t,e,n){if(uo)return t(e,n);uo=!0;try{return yd(t,e,n)}finally{uo=!1,(nr!==null||rr!==null)&&(wd(),vd())}}function Qr(t,e){var n=t.stateNode;if(n===null)return null;var r=zi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var ra=!1;if(Pt)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){ra=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{ra=!1}function jp(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Dr=!1,ii=null,oi=!1,sa=null,Pp={onError:function(t){Dr=!0,ii=t}};function Rp(t,e,n,r,s,i,o,a,l){Dr=!1,ii=null,jp.apply(Pp,arguments)}function Lp(t,e,n,r,s,i,o,a,l){if(Rp.apply(this,arguments),Dr){if(Dr){var u=ii;Dr=!1,ii=null}else throw Error(O(198));oi||(oi=!0,sa=u)}}function On(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function du(t){if(On(t)!==t)throw Error(O(188))}function $p(t){var e=t.alternate;if(!e){if(e=On(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return du(s),t;if(i===r)return du(s),e;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function xd(t){return t=$p(t),t!==null?kd(t):null}function kd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kd(t);if(e!==null)return e;t=t.sibling}return null}var Ed=He.unstable_scheduleCallback,fu=He.unstable_cancelCallback,Ip=He.unstable_shouldYield,Np=He.unstable_requestPaint,ae=He.unstable_now,Ap=He.unstable_getCurrentPriorityLevel,ll=He.unstable_ImmediatePriority,Cd=He.unstable_UserBlockingPriority,ai=He.unstable_NormalPriority,Dp=He.unstable_LowPriority,bd=He.unstable_IdlePriority,Ii=null,vt=null;function zp(t){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Ii,t,void 0,(t.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Mp,Fp=Math.log,Up=Math.LN2;function Mp(t){return t>>>=0,t===0?32:31-(Fp(t)/Up|0)|0}var bs=64,Ts=4194304;function $r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function li(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=$r(a):(i&=o,i!==0&&(r=$r(i)))}else o=n&~s,o!==0?r=$r(o):i!==0&&(r=$r(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ut(e),s=1<<n,r|=t[n],e&=~s;return r}function Bp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ut(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Bp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ia(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Td(){var t=bs;return bs<<=1,!(bs&4194240)&&(bs=64),t}function co(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ut(e),t[e]=n}function Wp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ut(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ul(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ut(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Q=0;function Od(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jd,cl,Pd,Rd,Ld,oa=!1,Os=[],Kt=null,qt=null,Jt=null,Yr=new Map,Xr=new Map,Mt=[],Vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(t,e){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Yr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(e.pointerId)}}function kr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vs(e),e!==null&&cl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Gp(t,e,n,r,s){switch(e){case"focusin":return Kt=kr(Kt,t,e,n,r,s),!0;case"dragenter":return qt=kr(qt,t,e,n,r,s),!0;case"mouseover":return Jt=kr(Jt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yr.set(i,kr(Yr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xr.set(i,kr(Xr.get(i)||null,t,e,n,r,s)),!0}return!1}function $d(t){var e=gn(t.target);if(e!==null){var n=On(e);if(n!==null){if(e=n.tag,e===13){if(e=_d(n),e!==null){t.blockedOn=e,Ld(t.priority,function(){Pd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=aa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ta=r,n.target.dispatchEvent(r),ta=null}else return e=vs(n),e!==null&&cl(e),t.blockedOn=n,!1;e.shift()}return!0}function pu(t,e,n){qs(t)&&n.delete(e)}function Kp(){oa=!1,Kt!==null&&qs(Kt)&&(Kt=null),qt!==null&&qs(qt)&&(qt=null),Jt!==null&&qs(Jt)&&(Jt=null),Yr.forEach(pu),Xr.forEach(pu)}function Er(t,e){t.blockedOn===e&&(t.blockedOn=null,oa||(oa=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Kp)))}function Zr(t){function e(s){return Er(s,t)}if(0<Os.length){Er(Os[0],t);for(var n=1;n<Os.length;n++){var r=Os[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kt!==null&&Er(Kt,t),qt!==null&&Er(qt,t),Jt!==null&&Er(Jt,t),Yr.forEach(e),Xr.forEach(e),n=0;n<Mt.length;n++)r=Mt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)$d(n),n.blockedOn===null&&Mt.shift()}var sr=It.ReactCurrentBatchConfig,ui=!0;function qp(t,e,n,r){var s=Q,i=sr.transition;sr.transition=null;try{Q=1,dl(t,e,n,r)}finally{Q=s,sr.transition=i}}function Jp(t,e,n,r){var s=Q,i=sr.transition;sr.transition=null;try{Q=4,dl(t,e,n,r)}finally{Q=s,sr.transition=i}}function dl(t,e,n,r){if(ui){var s=aa(t,e,n,r);if(s===null)_o(t,e,r,ci,n),hu(t,r);else if(Gp(s,t,e,n,r))r.stopPropagation();else if(hu(t,r),e&4&&-1<Vp.indexOf(t)){for(;s!==null;){var i=vs(s);if(i!==null&&jd(i),i=aa(t,e,n,r),i===null&&_o(t,e,r,ci,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _o(t,e,r,null,n)}}var ci=null;function aa(t,e,n,r){if(ci=null,t=al(r),t=gn(t),t!==null)if(e=On(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_d(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ci=t,null}function Id(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case ll:return 1;case Cd:return 4;case ai:case Dp:return 16;case bd:return 536870912;default:return 16}default:return 16}}var Wt=null,fl=null,Js=null;function Nd(){if(Js)return Js;var t,e=fl,n=e.length,r,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Js=s.slice(t,1<r?1-r:void 0)}function Qs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function gu(){return!1}function Ve(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?js:gu,this.isPropagationStopped=gu,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),e}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=Ve(mr),ms=se({},mr,{view:0,detail:0}),Qp=Ve(ms),fo,ho,Cr,Ni=se({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(fo=t.screenX-Cr.screenX,ho=t.screenY-Cr.screenY):ho=fo=0,Cr=t),fo)},movementY:function(t){return"movementY"in t?t.movementY:ho}}),mu=Ve(Ni),Yp=se({},Ni,{dataTransfer:0}),Xp=Ve(Yp),Zp=se({},ms,{relatedTarget:0}),po=Ve(Zp),eg=se({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=Ve(eg),ng=se({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rg=Ve(ng),sg=se({},mr,{data:0}),vu=Ve(sg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ag[t])?!!e[t]:!1}function pl(){return lg}var ug=se({},ms,{key:function(t){if(t.key){var e=ig[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?og[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(t){return t.type==="keypress"?Qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cg=Ve(ug),dg=se({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=Ve(dg),fg=se({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),hg=Ve(fg),pg=se({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=Ve(pg),mg=se({},Ni,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=Ve(mg),yg=[9,13,27,32],gl=Pt&&"CompositionEvent"in window,zr=null;Pt&&"documentMode"in document&&(zr=document.documentMode);var wg=Pt&&"TextEvent"in window&&!zr,Ad=Pt&&(!gl||zr&&8<zr&&11>=zr),wu=" ",Su=!1;function Dd(t,e){switch(t){case"keyup":return yg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wn=!1;function Sg(t,e){switch(t){case"compositionend":return zd(e);case"keypress":return e.which!==32?null:(Su=!0,wu);case"textInput":return t=e.data,t===wu&&Su?null:t;default:return null}}function _g(t,e){if(Wn)return t==="compositionend"||!gl&&Dd(t,e)?(t=Nd(),Js=fl=Wt=null,Wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ad&&e.locale!=="ko"?null:e.data;default:return null}}var xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xg[t.type]:e==="textarea"}function Fd(t,e,n,r){md(r),e=di(e,"onChange"),0<e.length&&(n=new hl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fr=null,es=null;function kg(t){Qd(t,0)}function Ai(t){var e=Kn(t);if(ud(e))return t}function Eg(t,e){if(t==="change")return e}var Ud=!1;if(Pt){var go;if(Pt){var mo="oninput"in document;if(!mo){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),mo=typeof xu.oninput=="function"}go=mo}else go=!1;Ud=go&&(!document.documentMode||9<document.documentMode)}function ku(){Fr&&(Fr.detachEvent("onpropertychange",Md),es=Fr=null)}function Md(t){if(t.propertyName==="value"&&Ai(es)){var e=[];Fd(e,es,t,al(t)),Sd(kg,e)}}function Cg(t,e,n){t==="focusin"?(ku(),Fr=e,es=n,Fr.attachEvent("onpropertychange",Md)):t==="focusout"&&ku()}function bg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ai(es)}function Tg(t,e){if(t==="click")return Ai(e)}function Og(t,e){if(t==="input"||t==="change")return Ai(e)}function jg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dt=typeof Object.is=="function"?Object.is:jg;function ts(t,e){if(dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ho.call(e,s)||!dt(t[s],e[s]))return!1}return!0}function Eu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cu(t,e){var n=Eu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eu(n)}}function Bd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hd(){for(var t=window,e=si();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=si(t.document)}return e}function ml(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pg(t){var e=Hd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bd(n.ownerDocument.documentElement,n)){if(r!==null&&ml(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Cu(n,i);var o=Cu(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rg=Pt&&"documentMode"in document&&11>=document.documentMode,Vn=null,la=null,Ur=null,ua=!1;function bu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ua||Vn==null||Vn!==si(r)||(r=Vn,"selectionStart"in r&&ml(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ur&&ts(Ur,r)||(Ur=r,r=di(la,"onSelect"),0<r.length&&(e=new hl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vn)))}function Ps(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gn={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},vo={},Wd={};Pt&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Di(t){if(vo[t])return vo[t];if(!Gn[t])return t;var e=Gn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wd)return vo[t]=e[n];return t}var Vd=Di("animationend"),Gd=Di("animationiteration"),Kd=Di("animationstart"),qd=Di("transitionend"),Jd=new Map,Tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(t,e){Jd.set(t,e),Tn(e,[t])}for(var yo=0;yo<Tu.length;yo++){var wo=Tu[yo],Lg=wo.toLowerCase(),$g=wo[0].toUpperCase()+wo.slice(1);rn(Lg,"on"+$g)}rn(Vd,"onAnimationEnd");rn(Gd,"onAnimationIteration");rn(Kd,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(qd,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Ou(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Lp(r,e,void 0,t),t.currentTarget=null}function Qd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ou(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ou(s,a,u),i=l}}}if(oi)throw t=sa,oi=!1,sa=null,t}function Z(t,e){var n=e[pa];n===void 0&&(n=e[pa]=new Set);var r=t+"__bubble";n.has(r)||(Yd(e,t,2,!1),n.add(r))}function So(t,e,n){var r=0;e&&(r|=4),Yd(n,t,r,e)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function ns(t){if(!t[Rs]){t[Rs]=!0,sd.forEach(function(n){n!=="selectionchange"&&(Ig.has(n)||So(n,!1,t),So(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rs]||(e[Rs]=!0,So("selectionchange",!1,e))}}function Yd(t,e,n,r){switch(Id(e)){case 1:var s=qp;break;case 4:s=Jp;break;default:s=dl}n=s.bind(null,e,n,t),s=void 0,!ra||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _o(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=gn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Sd(function(){var u=i,c=al(n),d=[];e:{var f=Jd.get(t);if(f!==void 0){var p=hl,v=t;switch(t){case"keypress":if(Qs(n)===0)break e;case"keydown":case"keyup":p=cg;break;case"focusin":v="focus",p=po;break;case"focusout":v="blur",p=po;break;case"beforeblur":case"afterblur":p=po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hg;break;case Vd:case Gd:case Kd:p=tg;break;case qd:p=gg;break;case"scroll":p=Qp;break;case"wheel":p=vg;break;case"copy":case"cut":case"paste":p=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yu}var w=(e&4)!==0,k=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,g;h!==null;){g=h;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,m!==null&&(y=Qr(h,m),y!=null&&w.push(rs(h,y,g)))),k)break;h=h.return}0<w.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ta&&(v=n.relatedTarget||n.fromElement)&&(gn(v)||v[Rt]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?gn(v):null,v!==null&&(k=On(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=mu,y="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=yu,y="onPointerLeave",m="onPointerEnter",h="pointer"),k=p==null?f:Kn(p),g=v==null?f:Kn(v),f=new w(y,h+"leave",p,n,c),f.target=k,f.relatedTarget=g,y=null,gn(c)===u&&(w=new w(m,h+"enter",v,n,c),w.target=g,w.relatedTarget=k,y=w),k=y,p&&v)t:{for(w=p,m=v,h=0,g=w;g;g=Ln(g))h++;for(g=0,y=m;y;y=Ln(y))g++;for(;0<h-g;)w=Ln(w),h--;for(;0<g-h;)m=Ln(m),g--;for(;h--;){if(w===m||m!==null&&w===m.alternate)break t;w=Ln(w),m=Ln(m)}w=null}else w=null;p!==null&&ju(d,f,p,w,!1),v!==null&&k!==null&&ju(d,k,v,w,!0)}}e:{if(f=u?Kn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=Eg;else if(_u(f))if(Ud)_=Og;else{_=bg;var x=Cg}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Tg);if(_&&(_=_(t,u))){Fd(d,_,n,c);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&Qo(f,"number",f.value)}switch(x=u?Kn(u):window,t){case"focusin":(_u(x)||x.contentEditable==="true")&&(Vn=x,la=u,Ur=null);break;case"focusout":Ur=la=Vn=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,bu(d,n,c);break;case"selectionchange":if(Rg)break;case"keydown":case"keyup":bu(d,n,c)}var b;if(gl)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Wn?Dd(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Ad&&n.locale!=="ko"&&(Wn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Wn&&(b=Nd()):(Wt=c,fl="value"in Wt?Wt.value:Wt.textContent,Wn=!0)),x=di(u,j),0<x.length&&(j=new vu(j,t,null,n,c),d.push({event:j,listeners:x}),b?j.data=b:(b=zd(n),b!==null&&(j.data=b)))),(b=wg?Sg(t,n):_g(t,n))&&(u=di(u,"onBeforeInput"),0<u.length&&(c=new vu("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}Qd(d,e)})}function rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function di(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qr(t,n),i!=null&&r.unshift(rs(t,i,s)),i=Qr(t,e),i!=null&&r.push(rs(t,i,s))),t=t.return}return r}function Ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ju(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Qr(n,i),l!=null&&o.unshift(rs(n,l,a))):s||(l=Qr(n,i),l!=null&&o.push(rs(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ng=/\r\n?/g,Ag=/\u0000|\uFFFD/g;function Pu(t){return(typeof t=="string"?t:""+t).replace(Ng,`
`).replace(Ag,"")}function Ls(t,e,n){if(e=Pu(e),Pu(t)!==e&&n)throw Error(O(425))}function fi(){}var ca=null,da=null;function fa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,Dg=typeof clearTimeout=="function"?clearTimeout:void 0,Ru=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ru<"u"?function(t){return Ru.resolve(null).then(t).catch(Fg)}:ha;function Fg(t){setTimeout(function(){throw t})}function xo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Zr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zr(e)}function Qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vr=Math.random().toString(36).slice(2),gt="__reactFiber$"+vr,ss="__reactProps$"+vr,Rt="__reactContainer$"+vr,pa="__reactEvents$"+vr,Ug="__reactListeners$"+vr,Mg="__reactHandles$"+vr;function gn(t){var e=t[gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rt]||n[gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lu(t);t!==null;){if(n=t[gt])return n;t=Lu(t)}return e}t=n,n=t.parentNode}return null}function vs(t){return t=t[gt]||t[Rt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function zi(t){return t[ss]||null}var ga=[],qn=-1;function sn(t){return{current:t}}function ee(t){0>qn||(t.current=ga[qn],ga[qn]=null,qn--)}function X(t,e){qn++,ga[qn]=t.current,t.current=e}var nn={},Ee=sn(nn),Ae=sn(!1),xn=nn;function lr(t,e){var n=t.type.contextTypes;if(!n)return nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function De(t){return t=t.childContextTypes,t!=null}function hi(){ee(Ae),ee(Ee)}function $u(t,e,n){if(Ee.current!==nn)throw Error(O(168));X(Ee,e),X(Ae,n)}function Xd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(O(108,Cp(t)||"Unknown",s));return se({},n,r)}function pi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nn,xn=Ee.current,X(Ee,t),X(Ae,Ae.current),!0}function Iu(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Xd(t,e,xn),r.__reactInternalMemoizedMergedChildContext=t,ee(Ae),ee(Ee),X(Ee,t)):ee(Ae),X(Ae,n)}var bt=null,Fi=!1,ko=!1;function Zd(t){bt===null?bt=[t]:bt.push(t)}function Bg(t){Fi=!0,Zd(t)}function on(){if(!ko&&bt!==null){ko=!0;var t=0,e=Q;try{var n=bt;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bt=null,Fi=!1}catch(s){throw bt!==null&&(bt=bt.slice(t+1)),Ed(ll,on),s}finally{Q=e,ko=!1}}return null}var Jn=[],Qn=0,gi=null,mi=0,Je=[],Qe=0,kn=null,Tt=1,Ot="";function dn(t,e){Jn[Qn++]=mi,Jn[Qn++]=gi,gi=t,mi=e}function ef(t,e,n){Je[Qe++]=Tt,Je[Qe++]=Ot,Je[Qe++]=kn,kn=t;var r=Tt;t=Ot;var s=32-ut(r)-1;r&=~(1<<s),n+=1;var i=32-ut(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tt=1<<32-ut(e)+s|n<<s|r,Ot=i+t}else Tt=1<<i|n<<s|r,Ot=t}function vl(t){t.return!==null&&(dn(t,1),ef(t,1,0))}function yl(t){for(;t===gi;)gi=Jn[--Qn],Jn[Qn]=null,mi=Jn[--Qn],Jn[Qn]=null;for(;t===kn;)kn=Je[--Qe],Je[Qe]=null,Ot=Je[--Qe],Je[Qe]=null,Tt=Je[--Qe],Je[Qe]=null}var Be=null,Me=null,te=!1,lt=null;function tf(t,e){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Be=t,Me=Qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Be=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kn!==null?{id:Tt,overflow:Ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Be=t,Me=null,!0):!1;default:return!1}}function ma(t){return(t.mode&1)!==0&&(t.flags&128)===0}function va(t){if(te){var e=Me;if(e){var n=e;if(!Nu(t,e)){if(ma(t))throw Error(O(418));e=Qt(n.nextSibling);var r=Be;e&&Nu(t,e)?tf(r,n):(t.flags=t.flags&-4097|2,te=!1,Be=t)}}else{if(ma(t))throw Error(O(418));t.flags=t.flags&-4097|2,te=!1,Be=t}}}function Au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Be=t}function $s(t){if(t!==Be)return!1;if(!te)return Au(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fa(t.type,t.memoizedProps)),e&&(e=Me)){if(ma(t))throw nf(),Error(O(418));for(;e;)tf(t,e),e=Qt(e.nextSibling)}if(Au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Me=Qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=Be?Qt(t.stateNode.nextSibling):null;return!0}function nf(){for(var t=Me;t;)t=Qt(t.nextSibling)}function ur(){Me=Be=null,te=!1}function wl(t){lt===null?lt=[t]:lt.push(t)}var Hg=It.ReactCurrentBatchConfig;function br(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Is(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Du(t){var e=t._init;return e(t._payload)}function rf(t){function e(m,h){if(t){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function s(m,h){return m=en(m,h),m.index=0,m.sibling=null,m}function i(m,h,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,h,g,y){return h===null||h.tag!==6?(h=Po(g,m.mode,y),h.return=m,h):(h=s(h,g),h.return=m,h)}function l(m,h,g,y){var _=g.type;return _===Hn?c(m,h,g.props.children,y,g.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zt&&Du(_)===h.type)?(y=s(h,g.props),y.ref=br(m,h,g),y.return=m,y):(y=ri(g.type,g.key,g.props,null,m.mode,y),y.ref=br(m,h,g),y.return=m,y)}function u(m,h,g,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Ro(g,m.mode,y),h.return=m,h):(h=s(h,g.children||[]),h.return=m,h)}function c(m,h,g,y,_){return h===null||h.tag!==7?(h=Sn(g,m.mode,y,_),h.return=m,h):(h=s(h,g),h.return=m,h)}function d(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Po(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ks:return g=ri(h.type,h.key,h.props,null,m.mode,g),g.ref=br(m,null,h),g.return=m,g;case Bn:return h=Ro(h,m.mode,g),h.return=m,h;case zt:var y=h._init;return d(m,y(h._payload),g)}if(Lr(h)||_r(h))return h=Sn(h,m.mode,g,null),h.return=m,h;Is(m,h)}return null}function f(m,h,g,y){var _=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(m,h,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ks:return g.key===_?l(m,h,g,y):null;case Bn:return g.key===_?u(m,h,g,y):null;case zt:return _=g._init,f(m,h,_(g._payload),y)}if(Lr(g)||_r(g))return _!==null?null:c(m,h,g,y,null);Is(m,g)}return null}function p(m,h,g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(g)||null,a(h,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ks:return m=m.get(y.key===null?g:y.key)||null,l(h,m,y,_);case Bn:return m=m.get(y.key===null?g:y.key)||null,u(h,m,y,_);case zt:var x=y._init;return p(m,h,g,x(y._payload),_)}if(Lr(y)||_r(y))return m=m.get(g)||null,c(h,m,y,_,null);Is(h,y)}return null}function v(m,h,g,y){for(var _=null,x=null,b=h,j=h=0,D=null;b!==null&&j<g.length;j++){b.index>j?(D=b,b=null):D=b.sibling;var $=f(m,b,g[j],y);if($===null){b===null&&(b=D);break}t&&b&&$.alternate===null&&e(m,b),h=i($,h,j),x===null?_=$:x.sibling=$,x=$,b=D}if(j===g.length)return n(m,b),te&&dn(m,j),_;if(b===null){for(;j<g.length;j++)b=d(m,g[j],y),b!==null&&(h=i(b,h,j),x===null?_=b:x.sibling=b,x=b);return te&&dn(m,j),_}for(b=r(m,b);j<g.length;j++)D=p(b,m,j,g[j],y),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?j:D.key),h=i(D,h,j),x===null?_=D:x.sibling=D,x=D);return t&&b.forEach(function(V){return e(m,V)}),te&&dn(m,j),_}function w(m,h,g,y){var _=_r(g);if(typeof _!="function")throw Error(O(150));if(g=_.call(g),g==null)throw Error(O(151));for(var x=_=null,b=h,j=h=0,D=null,$=g.next();b!==null&&!$.done;j++,$=g.next()){b.index>j?(D=b,b=null):D=b.sibling;var V=f(m,b,$.value,y);if(V===null){b===null&&(b=D);break}t&&b&&V.alternate===null&&e(m,b),h=i(V,h,j),x===null?_=V:x.sibling=V,x=V,b=D}if($.done)return n(m,b),te&&dn(m,j),_;if(b===null){for(;!$.done;j++,$=g.next())$=d(m,$.value,y),$!==null&&(h=i($,h,j),x===null?_=$:x.sibling=$,x=$);return te&&dn(m,j),_}for(b=r(m,b);!$.done;j++,$=g.next())$=p(b,m,j,$.value,y),$!==null&&(t&&$.alternate!==null&&b.delete($.key===null?j:$.key),h=i($,h,j),x===null?_=$:x.sibling=$,x=$);return t&&b.forEach(function(Re){return e(m,Re)}),te&&dn(m,j),_}function k(m,h,g,y){if(typeof g=="object"&&g!==null&&g.type===Hn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ks:e:{for(var _=g.key,x=h;x!==null;){if(x.key===_){if(_=g.type,_===Hn){if(x.tag===7){n(m,x.sibling),h=s(x,g.props.children),h.return=m,m=h;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zt&&Du(_)===x.type){n(m,x.sibling),h=s(x,g.props),h.ref=br(m,x,g),h.return=m,m=h;break e}n(m,x);break}else e(m,x);x=x.sibling}g.type===Hn?(h=Sn(g.props.children,m.mode,y,g.key),h.return=m,m=h):(y=ri(g.type,g.key,g.props,null,m.mode,y),y.ref=br(m,h,g),y.return=m,m=y)}return o(m);case Bn:e:{for(x=g.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=s(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=Ro(g,m.mode,y),h.return=m,m=h}return o(m);case zt:return x=g._init,k(m,h,x(g._payload),y)}if(Lr(g))return v(m,h,g,y);if(_r(g))return w(m,h,g,y);Is(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=s(h,g),h.return=m,m=h):(n(m,h),h=Po(g,m.mode,y),h.return=m,m=h),o(m)):n(m,h)}return k}var cr=rf(!0),sf=rf(!1),vi=sn(null),yi=null,Yn=null,Sl=null;function _l(){Sl=Yn=yi=null}function xl(t){var e=vi.current;ee(vi),t._currentValue=e}function ya(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ir(t,e){yi=t,Sl=Yn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(Sl!==t)if(t={context:t,memoizedValue:e,next:null},Yn===null){if(yi===null)throw Error(O(308));Yn=t,yi.dependencies={lanes:0,firstContext:t}}else Yn=Yn.next=t;return e}var mn=null;function kl(t){mn===null?mn=[t]:mn.push(t)}function of(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,kl(e)):(n.next=s.next,s.next=n),e.interleaved=n,Lt(t,r)}function Lt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ft=!1;function El(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function af(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Lt(t,n)}return s=r.interleaved,s===null?(e.next=e,kl(r)):(e.next=s.next,s.next=e),r.interleaved=e,Lt(t,n)}function Ys(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ul(t,n)}}function zu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wi(t,e,n,r){var s=t.updateQueue;Ft=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=se({},d,f);break e;case 2:Ft=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Cn|=o,t.lanes=o,t.memoizedState=d}}function Fu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var ys={},yt=sn(ys),is=sn(ys),os=sn(ys);function vn(t){if(t===ys)throw Error(O(174));return t}function Cl(t,e){switch(X(os,e),X(is,t),X(yt,ys),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xo(e,t)}ee(yt),X(yt,e)}function dr(){ee(yt),ee(is),ee(os)}function lf(t){vn(os.current);var e=vn(yt.current),n=Xo(e,t.type);e!==n&&(X(is,t),X(yt,n))}function bl(t){is.current===t&&(ee(yt),ee(is))}var ne=sn(0);function Si(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eo=[];function Tl(){for(var t=0;t<Eo.length;t++)Eo[t]._workInProgressVersionPrimary=null;Eo.length=0}var Xs=It.ReactCurrentDispatcher,Co=It.ReactCurrentBatchConfig,En=0,re=null,de=null,pe=null,_i=!1,Mr=!1,as=0,Wg=0;function Se(){throw Error(O(321))}function Ol(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dt(t[n],e[n]))return!1;return!0}function jl(t,e,n,r,s,i){if(En=i,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xs.current=t===null||t.memoizedState===null?qg:Jg,t=n(r,s),Mr){i=0;do{if(Mr=!1,as=0,25<=i)throw Error(O(301));i+=1,pe=de=null,e.updateQueue=null,Xs.current=Qg,t=n(r,s)}while(Mr)}if(Xs.current=xi,e=de!==null&&de.next!==null,En=0,pe=de=re=null,_i=!1,e)throw Error(O(300));return t}function Pl(){var t=as!==0;return as=0,t}function pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=t:pe=pe.next=t,pe}function tt(){if(de===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=pe===null?re.memoizedState:pe.next;if(e!==null)pe=e,de=t;else{if(t===null)throw Error(O(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?re.memoizedState=pe=t:pe=pe.next=t}return pe}function ls(t,e){return typeof e=="function"?e(t):e}function bo(t){var e=tt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((En&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,re.lanes|=c,Cn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,dt(r,e.memoizedState)||(Ne=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,re.lanes|=i,Cn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function To(t){var e=tt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dt(i,e.memoizedState)||(Ne=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uf(){}function cf(t,e){var n=re,r=tt(),s=e(),i=!dt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ne=!0),r=r.queue,Rl(hf.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,us(9,ff.bind(null,n,r,s,e),void 0,null),ge===null)throw Error(O(349));En&30||df(n,e,s)}return s}function df(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ff(t,e,n,r){e.value=n,e.getSnapshot=r,pf(e)&&gf(t)}function hf(t,e,n){return n(function(){pf(e)&&gf(t)})}function pf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dt(t,n)}catch{return!0}}function gf(t){var e=Lt(t,1);e!==null&&ct(e,t,1,-1)}function Uu(t){var e=pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},e.queue=t,t=t.dispatch=Kg.bind(null,re,t),[e.memoizedState,t]}function us(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mf(){return tt().memoizedState}function Zs(t,e,n,r){var s=pt();re.flags|=t,s.memoizedState=us(1|e,n,void 0,r===void 0?null:r)}function Ui(t,e,n,r){var s=tt();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&Ol(r,o.deps)){s.memoizedState=us(e,n,i,r);return}}re.flags|=t,s.memoizedState=us(1|e,n,i,r)}function Mu(t,e){return Zs(8390656,8,t,e)}function Rl(t,e){return Ui(2048,8,t,e)}function vf(t,e){return Ui(4,2,t,e)}function yf(t,e){return Ui(4,4,t,e)}function wf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sf(t,e,n){return n=n!=null?n.concat([t]):null,Ui(4,4,wf.bind(null,e,t),n)}function Ll(){}function _f(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ol(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xf(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ol(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kf(t,e,n){return En&21?(dt(n,e)||(n=Td(),re.lanes|=n,Cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=n)}function Vg(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=Co.transition;Co.transition={};try{t(!1),e()}finally{Q=n,Co.transition=r}}function Ef(){return tt().memoizedState}function Gg(t,e,n){var r=Zt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cf(t))bf(e,n);else if(n=of(t,e,n,r),n!==null){var s=Oe();ct(n,t,r,s),Tf(n,e,r)}}function Kg(t,e,n){var r=Zt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cf(t))bf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,dt(a,o)){var l=e.interleaved;l===null?(s.next=s,kl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=of(t,e,s,r),n!==null&&(s=Oe(),ct(n,t,r,s),Tf(n,e,r))}}function Cf(t){var e=t.alternate;return t===re||e!==null&&e===re}function bf(t,e){Mr=_i=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ul(t,n)}}var xi={readContext:et,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},qg={readContext:et,useCallback:function(t,e){return pt().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:Mu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zs(4194308,4,wf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zs(4,2,t,e)},useMemo:function(t,e){var n=pt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Gg.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=pt();return t={current:t},e.memoizedState=t},useState:Uu,useDebugValue:Ll,useDeferredValue:function(t){return pt().memoizedState=t},useTransition:function(){var t=Uu(!1),e=t[0];return t=Vg.bind(null,t[1]),pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=re,s=pt();if(te){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),ge===null)throw Error(O(349));En&30||df(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Mu(hf.bind(null,r,i,t),[t]),r.flags|=2048,us(9,ff.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pt(),e=ge.identifierPrefix;if(te){var n=Ot,r=Tt;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=as++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Wg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jg={readContext:et,useCallback:_f,useContext:et,useEffect:Rl,useImperativeHandle:Sf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:xf,useReducer:bo,useRef:mf,useState:function(){return bo(ls)},useDebugValue:Ll,useDeferredValue:function(t){var e=tt();return kf(e,de.memoizedState,t)},useTransition:function(){var t=bo(ls)[0],e=tt().memoizedState;return[t,e]},useMutableSource:uf,useSyncExternalStore:cf,useId:Ef,unstable_isNewReconciler:!1},Qg={readContext:et,useCallback:_f,useContext:et,useEffect:Rl,useImperativeHandle:Sf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:xf,useReducer:To,useRef:mf,useState:function(){return To(ls)},useDebugValue:Ll,useDeferredValue:function(t){var e=tt();return de===null?e.memoizedState=t:kf(e,de.memoizedState,t)},useTransition:function(){var t=To(ls)[0],e=tt().memoizedState;return[t,e]},useMutableSource:uf,useSyncExternalStore:cf,useId:Ef,unstable_isNewReconciler:!1};function it(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mi={isMounted:function(t){return(t=t._reactInternals)?On(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Oe(),s=Zt(t),i=jt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Yt(t,i,s),e!==null&&(ct(e,t,s,r),Ys(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Oe(),s=Zt(t),i=jt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yt(t,i,s),e!==null&&(ct(e,t,s,r),Ys(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),r=Zt(t),s=jt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Yt(t,s,r),e!==null&&(ct(e,t,r,n),Ys(e,t,r))}};function Bu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ts(n,r)||!ts(s,i):!0}function Of(t,e,n){var r=!1,s=nn,i=e.contextType;return typeof i=="object"&&i!==null?i=et(i):(s=De(e)?xn:Ee.current,r=e.contextTypes,i=(r=r!=null)?lr(t,s):nn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Hu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mi.enqueueReplaceState(e,e.state,null)}function Sa(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},El(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=et(i):(i=De(e)?xn:Ee.current,s.context=lr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wa(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mi.enqueueReplaceState(s,s.state,null),wi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fr(t,e){try{var n="",r=e;do n+=Ep(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Oo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _a(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Yg=typeof WeakMap=="function"?WeakMap:Map;function jf(t,e,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ei||(Ei=!0,Ra=r),_a(t,e)},n}function Pf(t,e,n){n=jt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_a(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_a(t,e),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Yg;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dm.bind(null,t,e,n),e.then(t,t))}function Vu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jt(-1,1),e.tag=2,Yt(n,e,1))),n.lanes|=1),t)}var Xg=It.ReactCurrentOwner,Ne=!1;function be(t,e,n,r){e.child=t===null?sf(e,null,n,r):cr(e,t.child,n,r)}function Ku(t,e,n,r,s){n=n.render;var i=e.ref;return ir(e,s),r=jl(t,e,n,r,i,s),n=Pl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$t(t,e,s)):(te&&n&&vl(e),e.flags|=1,be(t,e,r,s),e.child)}function qu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ul(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Rf(t,e,i,r,s)):(t=ri(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(o,r)&&t.ref===e.ref)return $t(t,e,s)}return e.flags|=1,t=en(i,r),t.ref=e.ref,t.return=e,e.child=t}function Rf(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ts(i,r)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,$t(t,e,s)}return xa(t,e,n,r,s)}function Lf(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Zn,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Zn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(Zn,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,X(Zn,Ue),Ue|=r;return be(t,e,s,n),e.child}function $f(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xa(t,e,n,r,s){var i=De(n)?xn:Ee.current;return i=lr(e,i),ir(e,s),n=jl(t,e,n,r,i,s),r=Pl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$t(t,e,s)):(te&&r&&vl(e),e.flags|=1,be(t,e,n,s),e.child)}function Ju(t,e,n,r,s){if(De(n)){var i=!0;pi(e)}else i=!1;if(ir(e,s),e.stateNode===null)ei(t,e),Of(e,n,r),Sa(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=et(u):(u=De(n)?xn:Ee.current,u=lr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hu(e,o,r,u),Ft=!1;var f=e.memoizedState;o.state=f,wi(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ae.current||Ft?(typeof c=="function"&&(wa(e,n,c,r),l=e.memoizedState),(a=Ft||Bu(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,af(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:it(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=et(l):(l=De(n)?xn:Ee.current,l=lr(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Hu(e,o,r,l),Ft=!1,f=e.memoizedState,o.state=f,wi(e,r,o,s);var v=e.memoizedState;a!==d||f!==v||Ae.current||Ft?(typeof p=="function"&&(wa(e,n,p,r),v=e.memoizedState),(u=Ft||Bu(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ka(t,e,n,r,i,s)}function ka(t,e,n,r,s,i){$f(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Iu(e,n,!1),$t(t,e,i);r=e.stateNode,Xg.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cr(e,t.child,null,i),e.child=cr(e,null,a,i)):be(t,e,a,i),e.memoizedState=r.state,s&&Iu(e,n,!0),e.child}function If(t){var e=t.stateNode;e.pendingContext?$u(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$u(t,e.context,!1),Cl(t,e.containerInfo)}function Qu(t,e,n,r,s){return ur(),wl(s),e.flags|=256,be(t,e,n,r),e.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Ca(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nf(t,e,n){var r=e.pendingProps,s=ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(ne,s&1),t===null)return va(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wi(o,r,0,null),t=Sn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ca(n),e.memoizedState=Ea,t):$l(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Zg(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=en(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=en(a,i):(i=Sn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ca(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ea,r}return i=t.child,t=i.sibling,r=en(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $l(t,e){return e=Wi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ns(t,e,n,r){return r!==null&&wl(r),cr(e,t.child,null,n),t=$l(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zg(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Oo(Error(O(422))),Ns(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wi({mode:"visible",children:r.children},s,0,null),i=Sn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&cr(e,t.child,null,o),e.child.memoizedState=Ca(o),e.memoizedState=Ea,i);if(!(e.mode&1))return Ns(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(O(419)),r=Oo(i,r,void 0),Ns(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ne||a){if(r=ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lt(t,s),ct(r,t,s,-1))}return Fl(),r=Oo(Error(O(421))),Ns(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Me=Qt(s.nextSibling),Be=e,te=!0,lt=null,t!==null&&(Je[Qe++]=Tt,Je[Qe++]=Ot,Je[Qe++]=kn,Tt=t.id,Ot=t.overflow,kn=e),e=$l(e,r.children),e.flags|=4096,e)}function Yu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ya(t.return,e,n)}function jo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Af(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(be(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yu(t,n,e);else if(t.tag===19)Yu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Si(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Si(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jo(e,!0,n,null,i);break;case"together":jo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ei(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=en(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=en(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function em(t,e,n){switch(e.tag){case 3:If(e),ur();break;case 5:lf(e);break;case 1:De(e.type)&&pi(e);break;case 4:Cl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;X(vi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?Nf(t,e,n):(X(ne,ne.current&1),t=$t(t,e,n),t!==null?t.sibling:null);X(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Af(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Lf(t,e,n)}return $t(t,e,n)}var Df,ba,zf,Ff;Df=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ba=function(){};zf=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vn(yt.current);var i=null;switch(n){case"input":s=qo(t,s),r=qo(t,r),i=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),i=[];break;case"textarea":s=Yo(t,s),r=Yo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fi)}Zo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ff=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tr(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tm(t,e,n){var r=e.pendingProps;switch(yl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return De(e.type)&&hi(),_e(e),null;case 3:return r=e.stateNode,dr(),ee(Ae),ee(Ee),Tl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($s(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(Ia(lt),lt=null))),ba(t,e),_e(e),null;case 5:bl(e);var s=vn(os.current);if(n=e.type,t!==null&&e.stateNode!=null)zf(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return _e(e),null}if(t=vn(yt.current),$s(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gt]=e,r[ss]=i,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<Ir.length;s++)Z(Ir[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":ou(r,i),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Z("invalid",r);break;case"textarea":lu(r,i),Z("invalid",r)}Zo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ls(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ls(r.textContent,a,t),s=["children",""+a]):qr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":Es(r),au(r,i,!0);break;case"textarea":Es(r),uu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gt]=e,t[ss]=r,Df(t,e,!1,!1),e.stateNode=t;e:{switch(o=ea(n,r),n){case"dialog":Z("cancel",t),Z("close",t),s=r;break;case"iframe":case"object":case"embed":Z("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ir.length;s++)Z(Ir[s],t);s=r;break;case"source":Z("error",t),s=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),s=r;break;case"details":Z("toggle",t),s=r;break;case"input":ou(t,r),s=qo(t,r),Z("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),Z("invalid",t);break;case"textarea":lu(t,r),s=Yo(t,r),Z("invalid",t);break;default:s=r}Zo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hd(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jr(t,l):typeof l=="number"&&Jr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",t):l!=null&&rl(t,i,l,o))}switch(n){case"input":Es(t),au(t,r,!1);break;case"textarea":Es(t),uu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?tr(t,!!r.multiple,i,!1):r.defaultValue!=null&&tr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)Ff(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=vn(os.current),vn(yt.current),$s(e)){if(r=e.stateNode,n=e.memoizedProps,r[gt]=e,(i=r.nodeValue!==n)&&(t=Be,t!==null))switch(t.tag){case 3:Ls(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ls(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=e,e.stateNode=r}return _e(e),null;case 13:if(ee(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Me!==null&&e.mode&1&&!(e.flags&128))nf(),ur(),e.flags|=98560,i=!1;else if(i=$s(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[gt]=e}else ur(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else lt!==null&&(Ia(lt),lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?fe===0&&(fe=3):Fl())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return dr(),ba(t,e),t===null&&ns(e.stateNode.containerInfo),_e(e),null;case 10:return xl(e.type._context),_e(e),null;case 17:return De(e.type)&&hi(),_e(e),null;case 19:if(ee(ne),i=e.memoizedState,i===null)return _e(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Tr(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Si(t),o!==null){for(e.flags|=128,Tr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(ne,ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>hr&&(e.flags|=128,r=!0,Tr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Si(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return _e(e),null}else 2*ae()-i.renderingStartTime>hr&&n!==1073741824&&(e.flags|=128,r=!0,Tr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=ne.current,X(ne,r?n&1|2:n&1),e):(_e(e),null);case 22:case 23:return zl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function nm(t,e){switch(yl(e),e.tag){case 1:return De(e.type)&&hi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dr(),ee(Ae),ee(Ee),Tl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bl(e),null;case 13:if(ee(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ur()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(ne),null;case 4:return dr(),null;case 10:return xl(e.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var As=!1,ke=!1,rm=typeof WeakSet=="function"?WeakSet:Set,N=null;function Xn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(t,e,r)}else n.current=null}function Ta(t,e,n){try{n()}catch(r){ie(t,e,r)}}var Xu=!1;function sm(t,e){if(ca=ui,t=Hd(),ml(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:t,selectionRange:n},ui=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:it(e.type,w),k);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(y){ie(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return v=Xu,Xu=!1,v}function Br(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ta(e,n,i)}s=s.next}while(s!==r)}}function Bi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Uf(t){var e=t.alternate;e!==null&&(t.alternate=null,Uf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gt],delete e[ss],delete e[pa],delete e[Ug],delete e[Mg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mf(t){return t.tag===5||t.tag===3||t.tag===4}function Zu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ja(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fi));else if(r!==4&&(t=t.child,t!==null))for(ja(t,e,n),t=t.sibling;t!==null;)ja(t,e,n),t=t.sibling}function Pa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pa(t,e,n),t=t.sibling;t!==null;)Pa(t,e,n),t=t.sibling}var me=null,ot=!1;function Nt(t,e,n){for(n=n.child;n!==null;)Bf(t,e,n),n=n.sibling}function Bf(t,e,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Ii,n)}catch{}switch(n.tag){case 5:ke||Xn(n,e);case 6:var r=me,s=ot;me=null,Nt(t,e,n),me=r,ot=s,me!==null&&(ot?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(ot?(t=me,n=n.stateNode,t.nodeType===8?xo(t.parentNode,n):t.nodeType===1&&xo(t,n),Zr(t)):xo(me,n.stateNode));break;case 4:r=me,s=ot,me=n.stateNode.containerInfo,ot=!0,Nt(t,e,n),me=r,ot=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ta(n,e,o),s=s.next}while(s!==r)}Nt(t,e,n);break;case 1:if(!ke&&(Xn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ie(n,e,a)}Nt(t,e,n);break;case 21:Nt(t,e,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,Nt(t,e,n),ke=r):Nt(t,e,n);break;default:Nt(t,e,n)}}function ec(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rm),e.forEach(function(r){var s=hm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:me=a.stateNode,ot=!1;break e;case 3:me=a.stateNode.containerInfo,ot=!0;break e;case 4:me=a.stateNode.containerInfo,ot=!0;break e}a=a.return}if(me===null)throw Error(O(160));Bf(i,o,s),me=null,ot=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ie(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hf(e,t),e=e.sibling}function Hf(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rt(e,t),ht(t),r&4){try{Br(3,t,t.return),Bi(3,t)}catch(w){ie(t,t.return,w)}try{Br(5,t,t.return)}catch(w){ie(t,t.return,w)}}break;case 1:rt(e,t),ht(t),r&512&&n!==null&&Xn(n,n.return);break;case 5:if(rt(e,t),ht(t),r&512&&n!==null&&Xn(n,n.return),t.flags&32){var s=t.stateNode;try{Jr(s,"")}catch(w){ie(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cd(s,i),ea(a,o);var u=ea(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?gd(s,d):c==="dangerouslySetInnerHTML"?hd(s,d):c==="children"?Jr(s,d):rl(s,c,d,u)}switch(a){case"input":Jo(s,i);break;case"textarea":dd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?tr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?tr(s,!!i.multiple,i.defaultValue,!0):tr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ss]=i}catch(w){ie(t,t.return,w)}}break;case 6:if(rt(e,t),ht(t),r&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ie(t,t.return,w)}}break;case 3:if(rt(e,t),ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(e.containerInfo)}catch(w){ie(t,t.return,w)}break;case 4:rt(e,t),ht(t);break;case 13:rt(e,t),ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Al=ae())),r&4&&ec(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ke=(u=ke)||c,rt(e,t),ke=u):rt(e,t),ht(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(N=t,c=t.child;c!==null;){for(d=N=c;N!==null;){switch(f=N,p=f.child,f.tag){case 0:case 11:case 14:case 15:Br(4,f,f.return);break;case 1:Xn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ie(r,n,w)}}break;case 5:Xn(f,f.return);break;case 22:if(f.memoizedState!==null){nc(d);continue}}p!==null?(p.return=f,N=p):nc(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pd("display",o))}catch(w){ie(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ie(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rt(e,t),ht(t),r&4&&ec(t);break;case 21:break;default:rt(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Mf(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jr(s,""),r.flags&=-33);var i=Zu(t);Pa(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zu(t);ja(t,a,o);break;default:throw Error(O(161))}}catch(l){ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function im(t,e,n){N=t,Wf(t)}function Wf(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||As;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ke;a=As;var u=ke;if(As=o,(ke=l)&&!u)for(N=s;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?rc(s):l!==null?(l.return=o,N=l):rc(s);for(;i!==null;)N=i,Wf(i),i=i.sibling;N=s,As=a,ke=u}tc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):tc(t)}}function tc(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ke||Bi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:it(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Zr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}ke||e.flags&512&&Oa(e)}catch(f){ie(e,e.return,f)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function nc(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function rc(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bi(4,e)}catch(l){ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ie(e,s,l)}}var i=e.return;try{Oa(e)}catch(l){ie(e,i,l)}break;case 5:var o=e.return;try{Oa(e)}catch(l){ie(e,o,l)}}}catch(l){ie(e,e.return,l)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var om=Math.ceil,ki=It.ReactCurrentDispatcher,Il=It.ReactCurrentOwner,Xe=It.ReactCurrentBatchConfig,K=0,ge=null,le=null,ve=0,Ue=0,Zn=sn(0),fe=0,cs=null,Cn=0,Hi=0,Nl=0,Hr=null,$e=null,Al=0,hr=1/0,Et=null,Ei=!1,Ra=null,Xt=null,Ds=!1,Vt=null,Ci=0,Wr=0,La=null,ti=-1,ni=0;function Oe(){return K&6?ae():ti!==-1?ti:ti=ae()}function Zt(t){return t.mode&1?K&2&&ve!==0?ve&-ve:Hg.transition!==null?(ni===0&&(ni=Td()),ni):(t=Q,t!==0||(t=window.event,t=t===void 0?16:Id(t.type)),t):1}function ct(t,e,n,r){if(50<Wr)throw Wr=0,La=null,Error(O(185));gs(t,n,r),(!(K&2)||t!==ge)&&(t===ge&&(!(K&2)&&(Hi|=n),fe===4&&Bt(t,ve)),ze(t,r),n===1&&K===0&&!(e.mode&1)&&(hr=ae()+500,Fi&&on()))}function ze(t,e){var n=t.callbackNode;Hp(t,e);var r=li(t,t===ge?ve:0);if(r===0)n!==null&&fu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fu(n),e===1)t.tag===0?Bg(sc.bind(null,t)):Zd(sc.bind(null,t)),zg(function(){!(K&6)&&on()}),n=null;else{switch(Od(r)){case 1:n=ll;break;case 4:n=Cd;break;case 16:n=ai;break;case 536870912:n=bd;break;default:n=ai}n=Xf(n,Vf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vf(t,e){if(ti=-1,ni=0,K&6)throw Error(O(327));var n=t.callbackNode;if(or()&&t.callbackNode!==n)return null;var r=li(t,t===ge?ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bi(t,r);else{e=r;var s=K;K|=2;var i=Kf();(ge!==t||ve!==e)&&(Et=null,hr=ae()+500,wn(t,e));do try{um();break}catch(a){Gf(t,a)}while(!0);_l(),ki.current=i,K=s,le!==null?e=0:(ge=null,ve=0,e=fe)}if(e!==0){if(e===2&&(s=ia(t),s!==0&&(r=s,e=$a(t,s))),e===1)throw n=cs,wn(t,0),Bt(t,r),ze(t,ae()),n;if(e===6)Bt(t,r);else{if(s=t.current.alternate,!(r&30)&&!am(s)&&(e=bi(t,r),e===2&&(i=ia(t),i!==0&&(r=i,e=$a(t,i))),e===1))throw n=cs,wn(t,0),Bt(t,r),ze(t,ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:fn(t,$e,Et);break;case 3:if(Bt(t,r),(r&130023424)===r&&(e=Al+500-ae(),10<e)){if(li(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Oe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ha(fn.bind(null,t,$e,Et),e);break}fn(t,$e,Et);break;case 4:if(Bt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ut(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*om(r/1960))-r,10<r){t.timeoutHandle=ha(fn.bind(null,t,$e,Et),r);break}fn(t,$e,Et);break;case 5:fn(t,$e,Et);break;default:throw Error(O(329))}}}return ze(t,ae()),t.callbackNode===n?Vf.bind(null,t):null}function $a(t,e){var n=Hr;return t.current.memoizedState.isDehydrated&&(wn(t,e).flags|=256),t=bi(t,e),t!==2&&(e=$e,$e=n,e!==null&&Ia(e)),t}function Ia(t){$e===null?$e=t:$e.push.apply($e,t)}function am(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bt(t,e){for(e&=~Nl,e&=~Hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ut(e),r=1<<n;t[n]=-1,e&=~r}}function sc(t){if(K&6)throw Error(O(327));or();var e=li(t,0);if(!(e&1))return ze(t,ae()),null;var n=bi(t,e);if(t.tag!==0&&n===2){var r=ia(t);r!==0&&(e=r,n=$a(t,r))}if(n===1)throw n=cs,wn(t,0),Bt(t,e),ze(t,ae()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fn(t,$e,Et),ze(t,ae()),null}function Dl(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(hr=ae()+500,Fi&&on())}}function bn(t){Vt!==null&&Vt.tag===0&&!(K&6)&&or();var e=K;K|=1;var n=Xe.transition,r=Q;try{if(Xe.transition=null,Q=1,t)return t()}finally{Q=r,Xe.transition=n,K=e,!(K&6)&&on()}}function zl(){Ue=Zn.current,ee(Zn)}function wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Dg(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(yl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hi();break;case 3:dr(),ee(Ae),ee(Ee),Tl();break;case 5:bl(r);break;case 4:dr();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:xl(r.type._context);break;case 22:case 23:zl()}n=n.return}if(ge=t,le=t=en(t.current,null),ve=Ue=e,fe=0,cs=null,Nl=Hi=Cn=0,$e=Hr=null,mn!==null){for(e=0;e<mn.length;e++)if(n=mn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mn=null}return t}function Gf(t,e){do{var n=le;try{if(_l(),Xs.current=xi,_i){for(var r=re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_i=!1}if(En=0,pe=de=re=null,Mr=!1,as=0,Il.current=null,n===null||n.return===null){fe=1,cs=e,le=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Vu(o);if(p!==null){p.flags&=-257,Gu(p,o,a,i,e),p.mode&1&&Wu(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Wu(i,u,e),Fl();break e}l=Error(O(426))}}else if(te&&a.mode&1){var k=Vu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Gu(k,o,a,i,e),wl(fr(l,a));break e}}i=l=fr(l,a),fe!==4&&(fe=2),Hr===null?Hr=[i]:Hr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=jf(i,l,e);zu(i,m);break e;case 1:a=l;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xt===null||!Xt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Pf(i,a,e);zu(i,y);break e}}i=i.return}while(i!==null)}Jf(n)}catch(_){e=_,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function Kf(){var t=ki.current;return ki.current=xi,t===null?xi:t}function Fl(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(Cn&268435455)&&!(Hi&268435455)||Bt(ge,ve)}function bi(t,e){var n=K;K|=2;var r=Kf();(ge!==t||ve!==e)&&(Et=null,wn(t,e));do try{lm();break}catch(s){Gf(t,s)}while(!0);if(_l(),K=n,ki.current=r,le!==null)throw Error(O(261));return ge=null,ve=0,fe}function lm(){for(;le!==null;)qf(le)}function um(){for(;le!==null&&!Ip();)qf(le)}function qf(t){var e=Yf(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Jf(t):le=e,Il.current=null}function Jf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nm(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,le=null;return}}else if(n=tm(n,e,Ue),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);fe===0&&(fe=5)}function fn(t,e,n){var r=Q,s=Xe.transition;try{Xe.transition=null,Q=1,cm(t,e,n,r)}finally{Xe.transition=s,Q=r}return null}function cm(t,e,n,r){do or();while(Vt!==null);if(K&6)throw Error(O(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Wp(t,i),t===ge&&(le=ge=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ds||(Ds=!0,Xf(ai,function(){return or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var o=Q;Q=1;var a=K;K|=4,Il.current=null,sm(t,n),Hf(n,t),Pg(da),ui=!!ca,da=ca=null,t.current=n,im(n),Np(),K=a,Q=o,Xe.transition=i}else t.current=n;if(Ds&&(Ds=!1,Vt=t,Ci=s),i=t.pendingLanes,i===0&&(Xt=null),zp(n.stateNode),ze(t,ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ei)throw Ei=!1,t=Ra,Ra=null,t;return Ci&1&&t.tag!==0&&or(),i=t.pendingLanes,i&1?t===La?Wr++:(Wr=0,La=t):Wr=0,on(),null}function or(){if(Vt!==null){var t=Od(Ci),e=Xe.transition,n=Q;try{if(Xe.transition=null,Q=16>t?16:t,Vt===null)var r=!1;else{if(t=Vt,Vt=null,Ci=0,K&6)throw Error(O(331));var s=K;for(K|=4,N=t.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Br(8,c,i)}var d=c.child;if(d!==null)d.return=c,N=d;else for(;N!==null;){c=N;var f=c.sibling,p=c.return;if(Uf(c),c===u){N=null;break}if(f!==null){f.return=p,N=f;break}N=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Br(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,N=m;break e}N=i.return}}var h=t.current;for(N=h;N!==null;){o=N;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,N=g;else e:for(o=h;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bi(9,a)}}catch(_){ie(a,a.return,_)}if(a===o){N=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,N=y;break e}N=a.return}}if(K=s,on(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Ii,t)}catch{}r=!0}return r}finally{Q=n,Xe.transition=e}}return!1}function ic(t,e,n){e=fr(n,e),e=jf(t,e,1),t=Yt(t,e,1),e=Oe(),t!==null&&(gs(t,1,e),ze(t,e))}function ie(t,e,n){if(t.tag===3)ic(t,t,n);else for(;e!==null;){if(e.tag===3){ic(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){t=fr(n,t),t=Pf(e,t,1),e=Yt(e,t,1),t=Oe(),e!==null&&(gs(e,1,t),ze(e,t));break}}e=e.return}}function dm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(ve&n)===n&&(fe===4||fe===3&&(ve&130023424)===ve&&500>ae()-Al?wn(t,0):Nl|=n),ze(t,e)}function Qf(t,e){e===0&&(t.mode&1?(e=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):e=1);var n=Oe();t=Lt(t,e),t!==null&&(gs(t,e,n),ze(t,n))}function fm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qf(t,n)}function hm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Qf(t,n)}var Yf;Yf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Ne=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ne=!1,em(t,e,n);Ne=!!(t.flags&131072)}else Ne=!1,te&&e.flags&1048576&&ef(e,mi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ei(t,e),t=e.pendingProps;var s=lr(e,Ee.current);ir(e,n),s=jl(null,e,r,t,s,n);var i=Pl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(r)?(i=!0,pi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,El(e),s.updater=Mi,e.stateNode=s,s._reactInternals=e,Sa(e,r,t,n),e=ka(null,e,r,!0,i,n)):(e.tag=0,te&&i&&vl(e),be(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ei(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gm(r),t=it(r,t),s){case 0:e=xa(null,e,r,t,n);break e;case 1:e=Ju(null,e,r,t,n);break e;case 11:e=Ku(null,e,r,t,n);break e;case 14:e=qu(null,e,r,it(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),xa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),Ju(t,e,r,s,n);case 3:e:{if(If(e),t===null)throw Error(O(387));r=e.pendingProps,i=e.memoizedState,s=i.element,af(t,e),wi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fr(Error(O(423)),e),e=Qu(t,e,r,n,s);break e}else if(r!==s){s=fr(Error(O(424)),e),e=Qu(t,e,r,n,s);break e}else for(Me=Qt(e.stateNode.containerInfo.firstChild),Be=e,te=!0,lt=null,n=sf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),r===s){e=$t(t,e,n);break e}be(t,e,r,n)}e=e.child}return e;case 5:return lf(e),t===null&&va(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,fa(r,s)?o=null:i!==null&&fa(r,i)&&(e.flags|=32),$f(t,e),be(t,e,o,n),e.child;case 6:return t===null&&va(e),null;case 13:return Nf(t,e,n);case 4:return Cl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cr(e,null,r,n):be(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),Ku(t,e,r,s,n);case 7:return be(t,e,e.pendingProps,n),e.child;case 8:return be(t,e,e.pendingProps.children,n),e.child;case 12:return be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,X(vi,r._currentValue),r._currentValue=o,i!==null)if(dt(i.value,o)){if(i.children===s.children&&!Ae.current){e=$t(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=jt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ya(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ya(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ir(e,n),s=et(s),r=r(s),e.flags|=1,be(t,e,r,n),e.child;case 14:return r=e.type,s=it(r,e.pendingProps),s=it(r.type,s),qu(t,e,r,s,n);case 15:return Rf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:it(r,s),ei(t,e),e.tag=1,De(r)?(t=!0,pi(e)):t=!1,ir(e,n),Of(e,r,s),Sa(e,r,s,n),ka(null,e,r,!0,t,n);case 19:return Af(t,e,n);case 22:return Lf(t,e,n)}throw Error(O(156,e.tag))};function Xf(t,e){return Ed(t,e)}function pm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(t,e,n,r){return new pm(t,e,n,r)}function Ul(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gm(t){if(typeof t=="function")return Ul(t)?1:0;if(t!=null){if(t=t.$$typeof,t===il)return 11;if(t===ol)return 14}return 2}function en(t,e){var n=t.alternate;return n===null?(n=Ye(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ri(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ul(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hn:return Sn(n.children,s,i,e);case sl:o=8,s|=8;break;case Wo:return t=Ye(12,n,e,s|2),t.elementType=Wo,t.lanes=i,t;case Vo:return t=Ye(13,n,e,s),t.elementType=Vo,t.lanes=i,t;case Go:return t=Ye(19,n,e,s),t.elementType=Go,t.lanes=i,t;case ad:return Wi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case id:o=10;break e;case od:o=9;break e;case il:o=11;break e;case ol:o=14;break e;case zt:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Ye(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Sn(t,e,n,r){return t=Ye(7,t,r,e),t.lanes=n,t}function Wi(t,e,n,r){return t=Ye(22,t,r,e),t.elementType=ad,t.lanes=n,t.stateNode={isHidden:!1},t}function Po(t,e,n){return t=Ye(6,t,null,e),t.lanes=n,t}function Ro(t,e,n){return e=Ye(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=co(0),this.expirationTimes=co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ml(t,e,n,r,s,i,o,a,l){return t=new mm(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ye(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),t}function vm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zf(t){if(!t)return nn;t=t._reactInternals;e:{if(On(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(De(n))return Xd(t,n,e)}return e}function eh(t,e,n,r,s,i,o,a,l){return t=Ml(n,r,!0,t,s,i,o,a,l),t.context=Zf(null),n=t.current,r=Oe(),s=Zt(n),i=jt(r,s),i.callback=e??null,Yt(n,i,s),t.current.lanes=s,gs(t,s,r),ze(t,r),t}function Vi(t,e,n,r){var s=e.current,i=Oe(),o=Zt(s);return n=Zf(n),e.context===null?e.context=n:e.pendingContext=n,e=jt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yt(s,e,o),t!==null&&(ct(t,s,o,i),Ys(t,s,o)),o}function Ti(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bl(t,e){oc(t,e),(t=t.alternate)&&oc(t,e)}function ym(){return null}var th=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hl(t){this._internalRoot=t}Gi.prototype.render=Hl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Vi(t,e,null,null)};Gi.prototype.unmount=Hl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bn(function(){Vi(null,t,null,null)}),e[Rt]=null}};function Gi(t){this._internalRoot=t}Gi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mt.length&&e!==0&&e<Mt[n].priority;n++);Mt.splice(n,0,t),n===0&&$d(t)}};function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ki(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ac(){}function wm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ti(o);i.call(u)}}var o=eh(e,r,t,0,null,!1,!1,"",ac);return t._reactRootContainer=o,t[Rt]=o.current,ns(t.nodeType===8?t.parentNode:t),bn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ti(l);a.call(u)}}var l=Ml(t,0,!1,null,null,!1,!1,"",ac);return t._reactRootContainer=l,t[Rt]=l.current,ns(t.nodeType===8?t.parentNode:t),bn(function(){Vi(e,l,n,r)}),l}function qi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ti(o);a.call(l)}}Vi(e,o,t,s)}else o=wm(n,e,t,s,r);return Ti(o)}jd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$r(e.pendingLanes);n!==0&&(ul(e,n|1),ze(e,ae()),!(K&6)&&(hr=ae()+500,on()))}break;case 13:bn(function(){var r=Lt(t,1);if(r!==null){var s=Oe();ct(r,t,1,s)}}),Bl(t,1)}};cl=function(t){if(t.tag===13){var e=Lt(t,134217728);if(e!==null){var n=Oe();ct(e,t,134217728,n)}Bl(t,134217728)}};Pd=function(t){if(t.tag===13){var e=Zt(t),n=Lt(t,e);if(n!==null){var r=Oe();ct(n,t,e,r)}Bl(t,e)}};Rd=function(){return Q};Ld=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};na=function(t,e,n){switch(e){case"input":if(Jo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zi(r);if(!s)throw Error(O(90));ud(r),Jo(r,s)}}}break;case"textarea":dd(t,n);break;case"select":e=n.value,e!=null&&tr(t,!!n.multiple,e,!1)}};yd=Dl;wd=bn;var Sm={usingClientEntryPoint:!1,Events:[vs,Kn,zi,md,vd,Dl]},Or={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_m={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xd(t),t===null?null:t.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{Ii=zs.inject(_m),vt=zs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm;We.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wl(e))throw Error(O(200));return vm(t,e,null,n)};We.createRoot=function(t,e){if(!Wl(t))throw Error(O(299));var n=!1,r="",s=th;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ml(t,1,!1,null,null,n,!1,r,s),t[Rt]=e.current,ns(t.nodeType===8?t.parentNode:t),new Hl(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=xd(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return bn(t)};We.hydrate=function(t,e,n){if(!Ki(e))throw Error(O(200));return qi(null,t,e,!0,n)};We.hydrateRoot=function(t,e,n){if(!Wl(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=th;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eh(e,null,t,1,n??null,s,!1,i,o),t[Rt]=e.current,ns(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gi(e)};We.render=function(t,e,n){if(!Ki(e))throw Error(O(200));return qi(null,t,e,!1,n)};We.unmountComponentAtNode=function(t){if(!Ki(t))throw Error(O(40));return t._reactRootContainer?(bn(function(){qi(null,null,t,!1,function(){t._reactRootContainer=null,t[Rt]=null})}),!0):!1};We.unstable_batchedUpdates=Dl;We.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ki(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return qi(t,e,n,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function nh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nh)}catch(t){console.error(t)}}nh(),td.exports=We;var xm=td.exports,lc=xm;Bo.createRoot=lc.createRoot,Bo.hydrateRoot=lc.hydrateRoot;const km=(t,e,n,r)=>{var i,o,a,l;const s=[n,{code:e,...r||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);_n(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},uc={},Na=(t,e,n,r)=>{_n(n)&&uc[n]||(_n(n)&&(uc[n]=new Date),km(t,e,n,r))},rh=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Aa=(t,e,n)=>{t.loadNamespaces(e,rh(t,n))},cc=(t,e,n,r)=>{if(_n(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Aa(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,rh(t,r))},Em=(t,e,n={})=>!e.languages||!e.languages.length?(Na(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),_n=t=>typeof t=="string",Cm=t=>typeof t=="object"&&t!==null,bm=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Tm={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Om=t=>Tm[t],jm=t=>t.replace(bm,Om);let Da={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:jm};const Pm=(t={})=>{Da={...Da,...t}},Rm=()=>Da;let sh;const Lm=t=>{sh=t},$m=()=>sh,Im={type:"3rdParty",init(t){Pm(t.options.react),Lm(t)}},Nm=T.createContext();class Am{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Dm=(t,e)=>{const n=T.useRef();return T.useEffect(()=>{n.current=t},[t,e]),n.current},ih=(t,e,n,r)=>t.getFixedT(e,n,r),zm=(t,e,n,r)=>T.useCallback(ih(t,e,n,r),[t,e,n,r]),wt=(t,e={})=>{var y,_,x,b;const{i18n:n}=e,{i18n:r,defaultNS:s}=T.useContext(Nm)||{},i=n||r||$m();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Am),!i){Na(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=($,V)=>_n(V)?V:Cm(V)&&_n(V.defaultValue)?V.defaultValue:Array.isArray($)?$[$.length-1]:$,D=[j,{},!1];return D.t=j,D.i18n={},D.ready=!1,D}(y=i.options.react)!=null&&y.wait&&Na(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Rm(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=s||((_=i.options)==null?void 0:_.defaultNS);u=_n(u)?[u]:u||["translation"],(b=(x=i.reportNamespaces).addUsedNamespaces)==null||b.call(x,u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(j=>Em(j,i,o)),d=zm(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),f=()=>d,p=()=>ih(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[v,w]=T.useState(f);let k=u.join();e.lng&&(k=`${e.lng}${k}`);const m=Dm(k),h=T.useRef(!0);T.useEffect(()=>{const{bindI18n:j,bindI18nStore:D}=o;h.current=!0,!c&&!a&&(e.lng?cc(i,e.lng,u,()=>{h.current&&w(p)}):Aa(i,u,()=>{h.current&&w(p)})),c&&m&&m!==k&&h.current&&w(p);const $=()=>{h.current&&w(p)};return j&&(i==null||i.on(j,$)),D&&(i==null||i.store.on(D,$)),()=>{h.current=!1,i&&j&&(j==null||j.split(" ").forEach(V=>i.off(V,$))),D&&i&&D.split(" ").forEach(V=>i.store.off(V,$))}},[i,k]),T.useEffect(()=>{h.current&&c&&w(f)},[i,l,c]);const g=[v,i,c];if(g.t=v,g.i18n=i,g.ready=c,c||!c&&!a)return g;throw new Promise(j=>{e.lng?cc(i,e.lng,u,()=>j()):Aa(i,u,()=>j())})},oh=new Map([[1,"✨"],[2,"💧"],[3,"🌱"],[4,"🌿"],[5,"🐞"],[6,"🐦"],[7,"🌤️"],[8,"🌈"],[9,"🔭"],[10,"🚀"],[11,"🌍"],[12,"🌌"],[13,"🪐"],[14,"👽"],[15,"🧠"],[16,"📿"],[17,"🧘"],[18,"🕊️"]]),q={primary:"#4CAF50",warning:"#FFEB3B",danger:"#F44336",background:"#FAFAFA",tileBackground:"#ECEFF1",tileBorder:"#CFD8DC",uiGray:"#9E9E9E",textPrimary:"#212121",textInverse:"#FFFFFF",textSecondary:"#666666",hover:{secondary:"#e9ecef"},border:{light:"#e9ecef",medium:"#CFD8DC",dark:"#6c757d"}},Fm=new Map([[1,"#FFF3E0"],[2,"#E3F2FD"],[3,"#E8F5E8"],[4,"#F1F8E9"],[5,"#FFEBEE"],[6,"#E0F2F1"],[7,"#FFF8E1"],[8,"#F3E5F5"],[9,"#E8EAF6"],[10,"#E1F5FE"],[11,"#E0F7FA"],[12,"#F9FBE7"],[13,"#FCE4EC"],[14,"#E4C441"],[15,"#FFECB3"],[16,"#F0F4C3"],[17,"#E1BEE7"],[18,"#FFFFFF"]]),Um=t=>Fm.get(t)||"#F5F5F5",Mm=t=>t===14?"#2D2D2D":"#424242",ah="8px",Bm=1,Hm=q.tileBorder,Wm=q.tileBackground,qe=10,Vm=4,Gm=({tile:t,cellSize:e})=>{const[n,r]=T.useState(t.justSpawned?.7:1),[s,i]=T.useState(t.justSpawned?.5:1);T.useEffect(()=>{t.justSpawned&&setTimeout(()=>{r(1),i(1)},10)},[t.justSpawned]),T.useEffect(()=>{t.justMerged&&(r(1.3),setTimeout(()=>r(1),150))},[t.justMerged]);const o=oh.get(t.level)||"❓",a=t.col*(e+qe),l=t.row*(e+qe),u=Um(t.level),c=Mm(t.level);return E.jsxs("div",{style:{position:"absolute",left:a,top:l,width:e,height:e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:t.justMerged?"rgba(255, 215, 0, 0.8)":u,borderRadius:ah,border:"1px solid rgba(255, 255, 255, 0.3)",transform:`scale(${n})`,opacity:s,transition:"left 0.2s ease, top 0.2s ease, transform 0.15s ease, opacity 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease",boxSizing:"border-box",boxShadow:t.justMerged?"0 4px 16px rgba(255, 215, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:t.justMerged?100:10,padding:Vm},children:[E.jsx("div",{style:{fontSize:Math.max(16,e*.35),lineHeight:"1",marginBottom:Math.max(1,e*.025),display:"flex",alignItems:"center",justifyContent:"center"},children:o}),E.jsx("div",{style:{fontSize:Math.max(8,e*.15),fontWeight:"600",color:c,lineHeight:"1",fontFamily:"Arial, sans-serif",textShadow:"0 1px 2px rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.level})]})},S={spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.25rem","2xl":"1.5rem","3xl":"2rem"},fontSize:{xs:"clamp(0.75rem, 1.5vh, 0.875rem)",sm:"clamp(0.875rem, 2vh, 1rem)",base:"clamp(1rem, 2.5vh, 1.125rem)",lg:"clamp(1.125rem, 3vh, 1.25rem)",xl:"clamp(1.25rem, 3.5vh, 1.5rem)","2xl":"clamp(1.5rem, 4vh, 1.875rem)","3xl":"clamp(1.875rem, 5vh, 2.25rem)","4xl":"clamp(2.25rem, 6vh, 3rem)"},borderRadius:{md:"0.5rem",lg:"0.75rem",xl:"1rem"},boxShadow:{base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",button:"0 6px 20px rgba(76, 175, 80, 0.3)",buttonHover:"0 8px 25px rgba(76, 175, 80, 0.4)",overlay:"0 8px 32px rgba(0, 0, 0, 0.1)"},transition:{base:"0.2s ease",smooth:"0.3s cubic-bezier(0.4, 0, 0.2, 1)"},layout:{maxContainerWidth:"600px",buttonMaxWidth:"320px",buttonMinHeight:"clamp(56px, 8vh, 64px)"}},er={sm:{fontSize:S.fontSize.sm,padding:`${S.spacing.sm} ${S.spacing.lg}`,minHeight:"clamp(40px, 6vh, 48px)",borderRadius:S.borderRadius.md},md:{fontSize:S.fontSize.base,padding:`${S.spacing.md} ${S.spacing.xl}`,minHeight:S.layout.buttonMinHeight,borderRadius:S.borderRadius.lg},lg:{fontSize:S.fontSize.lg,padding:`${S.spacing.lg} ${S.spacing["2xl"]}`,minHeight:"clamp(64px, 10vh, 72px)",borderRadius:S.borderRadius.xl}},Km={primary:{background:"#4CAF50",backgroundHover:"#45a049",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:S.boxShadow.button,shadowHover:S.boxShadow.buttonHover,border:"none"},secondary:{background:"rgba(255, 255, 255, 0.9)",backgroundHover:"#f8f9fa",color:"#666666",colorHover:"#333333",shadow:S.boxShadow.base,shadowHover:S.boxShadow.md,border:"2px solid #e9ecef"},danger:{background:"#F44336",backgroundHover:"#E04949",color:"#FFFFFF",colorHover:"#FFFFFF",shadow:"0 6px 20px rgba(244, 67, 54, 0.3)",shadowHover:"0 8px 25px rgba(244, 67, 54, 0.4)",border:"none"},warning:{background:"#FFEB3B",backgroundHover:"#E6B800",color:"#333333",colorHover:"#333333",shadow:"0 6px 20px rgba(255, 235, 59, 0.3)",shadowHover:"0 8px 25px rgba(255, 235, 59, 0.4)",border:"none"}},Te=({children:t,variant:e="primary",size:n="md",disabled:r=!1,fullWidth:s=!0,style:i,onMouseOver:o,onMouseOut:a,onMouseDown:l,onMouseUp:u,...c})=>{const d=Km[e],f=er[n],p={width:s?"100%":"auto",maxWidth:s?S.layout.buttonMaxWidth:"none",minHeight:f.minHeight,fontSize:f.fontSize,fontWeight:"bold",fontFamily:"inherit",color:r?"rgba(255, 255, 255, 0.6)":d.color,backgroundColor:r?"rgba(76, 175, 80, 0.4)":d.background,border:r?"none":d.border,borderRadius:f.borderRadius,padding:f.padding,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",gap:S.spacing.sm,cursor:r?"not-allowed":"pointer",opacity:r?.6:1,boxShadow:r?"none":d.shadow,transition:`all ${S.transition.smooth}`,transform:"translateY(0)",outline:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"},v=y=>{if(!r){const _=y.currentTarget;_.style.backgroundColor=d.backgroundHover,_.style.color=d.colorHover,_.style.transform="translateY(-2px)",_.style.boxShadow=d.shadowHover,e==="secondary"&&(_.style.borderColor="#6c757d")}o==null||o(y)},w=y=>{if(!r){const _=y.currentTarget;_.style.backgroundColor=d.background,_.style.color=d.color,_.style.transform="translateY(0)",_.style.boxShadow=d.shadow,e==="secondary"&&(_.style.borderColor="#e9ecef")}a==null||a(y)},k=y=>{r||(y.currentTarget.style.transform="translateY(0) scale(0.98)"),l==null||l(y)},m=y=>{r||(y.currentTarget.style.transform="translateY(-2px) scale(1)"),u==null||u(y)},h=y=>{r||(y.currentTarget.style.outline="2px solid rgba(76, 175, 80, 0.5)",y.currentTarget.style.outlineOffset="2px")},g=y=>{y.currentTarget.style.outline="none"};return E.jsx("button",{style:{...p,...i},disabled:r,onMouseOver:v,onMouseOut:w,onMouseDown:k,onMouseUp:m,onFocus:h,onBlur:g,...c,children:t})},qm=({score:t,onRestart:e,onMainMenu:n,onNameSubmit:r,onSkipHighScore:s,isCheckingScore:i=!1,isSavingScore:o=!1,qualifiesForLeaderboard:a=!1})=>{const{t:l}=wt(),[u,c]=T.useState(!1),[d,f]=T.useState(l("common.player")),[p,v]=T.useState(!1),[w,k]=T.useState(!1);T.useEffect(()=>{const b=setTimeout(()=>{c(!0)},50);return()=>clearTimeout(b)},[]);const m=()=>{r&&d.trim()&&!o&&(r(d.trim()),v(!0))};T.useEffect(()=>{},[o,p]);const h=b=>{b.key==="Enter"&&a&&!p&&m()},g=()=>{a&&!p?k(!0):e()},y=()=>{a&&!p?k(!0):n()},_=()=>{k(!1),s&&s(),e()},x=()=>{k(!1)};return E.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:S.borderRadius.lg,color:"white",fontSize:S.fontSize.xl,fontWeight:"bold",zIndex:1e3,backdropFilter:"blur(3px)",padding:`clamp(${S.spacing.lg}, 3vh, ${S.spacing["2xl"]})`,boxSizing:"border-box",opacity:u?1:0,transition:"opacity 1s ease-in-out"},children:[E.jsx("div",{style:{marginBottom:S.spacing.xl,fontSize:S.fontSize.xl},children:l("gameOver.title")}),E.jsx("div",{style:{fontSize:S.fontSize.base,marginBottom:S.spacing["2xl"],opacity:.9,textAlign:"center"},children:l("gameOver.finalScore",{score:t.toLocaleString()})}),i&&E.jsx("div",{style:{marginBottom:S.spacing["2xl"],textAlign:"center",color:"#FFD700"},children:E.jsx("div",{style:{fontSize:S.fontSize.base,fontWeight:"bold"},children:l("gameOver.checkingLeaderboard")})}),o&&E.jsx("div",{style:{marginBottom:S.spacing["2xl"],textAlign:"center",color:"#FFD700"},children:E.jsx("div",{style:{fontSize:S.fontSize.base,fontWeight:"bold"},children:l("gameOver.savingScore")})}),!i&&!o&&a&&!p&&E.jsxs("div",{style:{marginBottom:S.spacing["2xl"],width:"100%",maxWidth:"300px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:S.fontSize.sm,color:"#FFD700",fontWeight:"bold",marginBottom:S.spacing.md},children:l("gameOver.topScore")}),E.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value.slice(0,12)),onKeyPress:h,placeholder:l("gameOver.enterName"),autoFocus:!0,style:{width:"100%",padding:S.spacing.md,fontSize:S.fontSize.sm,border:"2px solid #FFD700",borderRadius:S.borderRadius.lg,textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",marginBottom:S.spacing.lg,outline:"none",boxSizing:"border-box"}}),E.jsx(Te,{onClick:m,variant:"primary",size:"sm",disabled:o||!d.trim(),children:l(o?"gameOver.saving":"gameOver.saveScore")})]}),a&&p&&E.jsx("div",{style:{fontSize:S.fontSize.sm,color:"#4CAF50",fontWeight:"bold",marginBottom:S.spacing["2xl"],textAlign:"center"},children:l("gameOver.scoreSaved")}),w&&E.jsxs("div",{style:{marginBottom:S.spacing["2xl"],textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.1)",padding:S.spacing.xl,borderRadius:S.borderRadius.lg,border:"2px solid rgba(255, 215, 0, 0.3)",maxWidth:"400px"},children:[E.jsx("div",{style:{fontSize:S.fontSize.base,color:"#FFD700",fontWeight:"bold",marginBottom:S.spacing.lg},children:l("gameOver.skipHighScore")}),E.jsxs("div",{style:{display:"flex",gap:S.spacing.md,justifyContent:"center"},children:[E.jsx(Te,{onClick:_,variant:"primary",size:"sm",children:l("gameOver.skipConfirm")}),E.jsx(Te,{onClick:x,variant:"secondary",size:"sm",children:l("gameOver.skipCancel")})]})]}),!w&&E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.lg,alignItems:"center",width:"100%",maxWidth:S.layout.buttonMaxWidth},children:[E.jsx(Te,{onClick:g,disabled:i||o,variant:"primary",children:l(i||o?"gameOver.pleaseWait":"gameOver.newGame")}),E.jsx(Te,{onClick:y,disabled:i||o,variant:"secondary",children:l(i||o?"gameOver.pleaseWait":"gameOver.mainMenu")})]})]})},Jm=({score:t,x:e,y:n,cellSize:r,onComplete:s})=>{const[i,o]=T.useState(!0);return T.useEffect(()=>{const a=setTimeout(()=>{o(!1),setTimeout(s,50)},700);return()=>clearTimeout(a)},[s]),i?E.jsxs("div",{style:{position:"absolute",left:e+r/2,top:n+r/2,transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1e3,fontSize:"20px",fontWeight:"bold",color:"#FFFFFF",fontFamily:"Arial, sans-serif",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.8), -1px -1px 2px rgba(0, 0, 0, 0.5)",animation:"mergeScoreFloat 0.7s ease-out forwards"},children:["+",t,E.jsx("style",{children:`
        @keyframes mergeScoreFloat {
          0% {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
          }
          20% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.2);
          }
          40% {
            opacity: 1;
            transform: translate(-50%, -60%) scale(1);
          }
          100% {
            opacity: 0;
            transform: translate(-50%, -80%) scale(0.9);
          }
        }
      `})]}):null},lh=()=>{const[t,e]=T.useState(typeof window<"u"?window.innerWidth:768);T.useEffect(()=>{const i=()=>{e(window.innerWidth)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const n=t<768,r=t>=768&&t<1024,s=t>=1024;return{windowWidth:t,isMobile:n,isTablet:r,isDesktop:s}},Vl=({children:t,className:e,allowScroll:n=!0})=>{const{isMobile:r}=lh();return E.jsx("div",{className:e,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100dvh",maxHeight:"100dvh",height:"100dvh",width:"100vw",overflowY:n?"auto":"hidden",overflowX:"hidden",backgroundColor:"#f5f5f5",fontFamily:'system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:r?`clamp(${S.spacing.sm}, 2vh, ${S.spacing.lg})`:`clamp(${S.spacing.md}, 3vh, ${S.spacing.xl})`,boxSizing:"border-box",scrollBehavior:"smooth",position:"relative"},children:E.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:r?"center":"flex-start",width:"100%",maxWidth:S.layout.maxContainerWidth,minHeight:r?"100%":"fit-content",maxHeight:"100%",height:r?"100%":"auto",gap:r?`clamp(${S.spacing.sm}, 1.5vh, ${S.spacing.md})`:`clamp(${S.spacing.md}, 2vh, ${S.spacing.xl})`,position:"relative",zIndex:1},children:t})})},Qm=({onReset:t,duration:e=1e3,disabled:n=!1})=>{const[r,s]=T.useState(!1),[i,o]=T.useState(0),a=T.useRef(null),l=T.useRef(null),u=T.useRef(!1),c=T.useRef(null),d=T.useCallback(()=>{l.current&&(cancelAnimationFrame(l.current),l.current=null)},[]),f=T.useCallback(()=>{d(),s(!1),o(0),a.current=null,u.current=!1,c.current=null},[d]),p=T.useCallback(()=>{if(!a.current||u.current||n)return;const b=performance.now()-a.current,j=Math.min(b/e,1);console.log(`🔄 Hold Progress (${c.current}): ${Math.round(j*100)}%`),o(j),j>=1?(console.log(`🎯 HOLD COMPLETED (${c.current}) - Triggering reset!`),u.current=!0,d(),t(),setTimeout(()=>{f()},200)):l.current=requestAnimationFrame(p)},[e,n,t,d,f]),v=T.useCallback(x=>{if(n||r||u.current){console.log(`🔴 Cannot start ${x} hold:`,{disabled:n,isHolding:r,resetTriggered:u.current});return}console.log(`🟢 ${x} hold STARTED`),s(!0),o(0),a.current=performance.now(),u.current=!1,c.current=x,d(),l.current=requestAnimationFrame(p)},[n,r,p,d]),w=T.useCallback(x=>{x&&c.current&&c.current!==x||!r||u.current||(console.log(`🔴 ${c.current||x||"unknown"} hold CANCELLED`),f())},[r,f]),k=T.useCallback(()=>{v("mouse")},[v]),m=T.useCallback(()=>{w("mouse")},[w]),h=T.useCallback(()=>{v("touch")},[v]),g=T.useCallback(()=>{w("touch")},[w]),y=T.useCallback(x=>{if(n||x.repeat)return;x.key.toLowerCase()==="r"&&!r&&!u.current&&(console.log("🔽 R-key pressed - starting hold"),x.preventDefault(),v("keyboard"))},[n,r,v]),_=T.useCallback(x=>{if(n)return;x.key.toLowerCase()==="r"&&c.current==="keyboard"&&(console.log("🔼 R-key released - canceling hold"),x.preventDefault(),w("keyboard"))},[n,w]);return T.useEffect(()=>{if(!n)return window.addEventListener("keydown",y),window.addEventListener("keyup",_),()=>{window.removeEventListener("keydown",y),window.removeEventListener("keyup",_)}},[y,_,n]),T.useEffect(()=>{n&&r&&(console.log("🔴 Disabled while holding, cleaning up"),f())},[n,r,f]),T.useEffect(()=>()=>{d()},[d]),{isHolding:r,progress:i,startTime:a.current,startMouseHold:k,cancelMouseHold:m,startTouchHold:h,cancelTouchHold:g}},Gl=()=>{const[t,e]=T.useState(typeof window<"u"?window.innerWidth:768);T.useEffect(()=>{const d=()=>{e(window.innerWidth)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const n=typeof navigator<"u"?navigator.userAgent:"",r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),s=typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),i=t<768,o=t>=768&&t<1024,a=r||s&&i,l=s&&o||!r&&s&&o,u=!a&&!l,c=u||!s&&t>=1024;return{isMobile:a,isTablet:l,isDesktop:u,isTouchDevice:s,hasPhysicalKeyboard:c,windowWidth:t}},Fs=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},Ym=t=>{const e=Math.max(0,Math.min(1,t));if(e<=.5){const n=e*2,[r,s,i]=Fs(q.primary),[o,a,l]=Fs(q.warning),u=Math.round(r+(o-r)*n),c=Math.round(s+(a-s)*n),d=Math.round(i+(l-i)*n);return`rgb(${u}, ${c}, ${d})`}else{const n=(e-.5)*2,[r,s,i]=Fs(q.warning),[o,a,l]=Fs(q.danger),u=Math.round(r+(o-r)*n),c=Math.round(s+(a-s)*n),d=Math.round(i+(l-i)*n);return`rgb(${u}, ${c}, ${d})`}},Xm=({onReset:t,disabled:e=!1})=>{const{t:n}=wt(),{hasPhysicalKeyboard:r}=Gl(),{isHolding:s,progress:i,startMouseHold:o,cancelMouseHold:a,startTouchHold:l,cancelTouchHold:u}=Qm({onReset:t,duration:1e3,disabled:e}),c=h=>{h.preventDefault(),o()},d=h=>{h.preventDefault(),a()},f=h=>{h.preventDefault(),a()},p=h=>{h.preventDefault(),l()},v=h=>{h.preventDefault(),u()},w=h=>{h.preventDefault(),u()},k=Math.max(0,Math.min(100,i*100)),m=Ym(i);return E.jsx("div",{style:{position:"relative",display:"inline-block"},children:E.jsxs("button",{onMouseDown:c,onMouseUp:d,onMouseLeave:f,onTouchStart:p,onTouchEnd:v,onTouchCancel:w,disabled:e,style:{position:"relative",fontSize:er.sm.fontSize,padding:er.sm.padding,minWidth:"clamp(80px, 15vw, 140px)",minHeight:er.sm.minHeight,fontWeight:"bold",border:`2px solid ${q.border.light}`,borderRadius:er.sm.borderRadius,backgroundColor:q.background,color:e?q.uiGray:q.textSecondary,cursor:e?"not-allowed":"pointer",overflow:"hidden",userSelect:"none",transition:`all ${S.transition.base}`,opacity:e?.5:1,boxShadow:s?"inset 0 2px 4px rgba(0,0,0,0.2)":"none"},onMouseOver:h=>{!e&&!s&&(h.currentTarget.style.backgroundColor=q.hover.secondary,h.currentTarget.style.color=q.textPrimary,h.currentTarget.style.transform="translateY(-2px)",h.currentTarget.style.borderColor=q.border.dark)},onMouseOut:h=>{!e&&!s&&(h.currentTarget.style.backgroundColor=q.background,h.currentTarget.style.color=q.textSecondary,h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.borderColor=q.border.light)},children:[s&&E.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${k}%`,height:"100%",backgroundColor:m,zIndex:1,borderRadius:"6px"}}),E.jsx("span",{style:{position:"relative",zIndex:2,color:k>30?q.textInverse:e?q.uiGray:q.textSecondary,textShadow:k>30?"0 1px 2px rgba(0,0,0,0.8)":"none"},children:n(r?"gameControls.resetShortcut":"gameControls.reset")})]})})},Zm=({onGoHome:t,onUndo:e,onReset:n,canUndo:r,disabled:s=!1,allowUndoWhenDisabled:i=!1})=>{const{t:o}=wt(),{hasPhysicalKeyboard:a}=Gl();return E.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:S.spacing.md,padding:`${S.spacing.lg} 0`,marginBottom:S.spacing.xl,maxWidth:"100%",margin:`0 auto ${S.spacing.xl} auto`,flexWrap:"wrap"},children:[E.jsx(Te,{variant:"secondary",size:"sm",fullWidth:!1,onClick:t,disabled:s,style:{minWidth:"clamp(80px, 15vw, 120px)"},children:o("gameControls.home")}),E.jsx(Te,{variant:"warning",size:"sm",fullWidth:!1,onClick:e,disabled:!r||s&&!i,style:{minWidth:"clamp(80px, 15vw, 120px)"},children:o(a?"gameControls.undoShortcut":"gameControls.undo")}),E.jsx(Xm,{onReset:n,disabled:s})]})},ev=({style:t,showShortcuts:e=!0})=>{const{t:n}=wt(),{hasPhysicalKeyboard:r,isTouchDevice:s}=Gl();return E.jsxs("div",{style:{fontSize:S.fontSize.sm,color:"#666",textAlign:"center",lineHeight:"1.4",...t},children:[E.jsx("div",{style:{marginBottom:S.spacing.xs},children:n(s?"controls.touchInstructions":"controls.keyboardInstructions")}),r&&e&&E.jsx("div",{style:{fontSize:S.fontSize.xs,opacity:.8},children:n("controls.keyboardShortcuts")})]})},tv="modulepreload",nv=function(t){return"/emoji-fusion/"+t},dc={},ws=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=nv(l),l in dc)return;dc[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":tv,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},rv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>yr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Kl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class sv extends Kl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fc extends Kl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hc extends Kl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var za;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(za||(za={}));var iv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ov{constructor(e,{headers:n={},customFetch:r,region:s=za.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=rv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return iv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(w=>{throw new sv(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new fc(d);if(!d.ok)throw new hc(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield d.json():p==="application/octet-stream"?v=yield d.blob():p==="text/event-stream"?v=d:p==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof hc||s instanceof fc?s.context:void 0}}})}}var Ie={},ql={},Ji={},Ss={},Qi={},Yi={},av=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pr=av();const lv=pr.fetch,uh=pr.fetch.bind(pr),ch=pr.Headers,uv=pr.Request,cv=pr.Response,yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ch,Request:uv,Response:cv,default:uh,fetch:lv},Symbol.toStringTag,{value:"Module"})),dv=Jh(yr);var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});let fv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xi.default=fv;var dh=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});const hv=dh(dv),pv=dh(Xi);let gv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&k&&k.length>1&&(d=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,p="OK")}catch{i.status===404&&w===""?(f=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new pv.default(u)}return{error:u,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Yi.default=gv;var mv=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});const vv=mv(Yi);let yv=class extends vv.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qi.default=yv;var wv=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ss,"__esModule",{value:!0});const Sv=wv(Qi);let _v=class extends Sv.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ss.default=_v;var xv=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const jr=xv(Ss);let kv=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new jr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new jr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new jr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ji.default=kv;var Zi={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.version=void 0;eo.version="0.0.0-automated";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.DEFAULT_HEADERS=void 0;const Ev=eo;Zi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ev.version}`};var fh=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ql,"__esModule",{value:!0});const Cv=fh(Ji),bv=fh(Ss),Tv=Zi;let Ov=class hh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Tv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Cv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new bv.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ql.default=Ov;var wr=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const ph=wr(ql);Ie.PostgrestClient=ph.default;const gh=wr(Ji);Ie.PostgrestQueryBuilder=gh.default;const mh=wr(Ss);Ie.PostgrestFilterBuilder=mh.default;const vh=wr(Qi);Ie.PostgrestTransformBuilder=vh.default;const yh=wr(Yi);Ie.PostgrestBuilder=yh.default;const wh=wr(Xi);Ie.PostgrestError=wh.default;var jv=Ie.default={PostgrestClient:ph.default,PostgrestQueryBuilder:gh.default,PostgrestFilterBuilder:mh.default,PostgrestTransformBuilder:vh.default,PostgrestBuilder:yh.default,PostgrestError:wh.default};const{PostgrestClient:Pv,PostgrestQueryBuilder:xw,PostgrestFilterBuilder:kw,PostgrestTransformBuilder:Ew,PostgrestBuilder:Cw,PostgrestError:bw}=jv;function Rv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Lv=Rv(),$v="2.11.15",Iv=`realtime-js/${$v}`,Nv="1.0.0",Sh=1e4,Av=1e3;var Vr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vr||(Vr={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var at;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(at||(at={}));var Fa;(function(t){t.websocket="websocket"})(Fa||(Fa={}));var pn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pn||(pn={}));class Dv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class _h{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const pc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=zv(o,t,e,s),i),{})},zv=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?xh(i,o):Ua(o)},xh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Bv(e,n)}switch(t){case Y.bool:return Fv(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Uv(e);case Y.json:case Y.jsonb:return Mv(e);case Y.timestamp:return Hv(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Ua(e);default:return Ua(e)}},Ua=t=>t,Fv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Uv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Mv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Bv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>xh(e,a))}return t},Hv=t=>typeof t=="string"?t.replace(" ","T"):t,kh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Lo{constructor(e,n,r={},s=Sh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gc||(gc={}));class Gr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Gr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(k=>k.presence_ref),p=d.map(k=>k.presence_ref),v=c.filter(k=>p.indexOf(k.presence_ref)<0),w=d.filter(k=>f.indexOf(k.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mc||(mc={}));var vc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vc||(vc={}));var Ct;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class Jl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lo(this,at.join,this.params,this.timeout),this.rejoinTimer=new _h(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Gr(this),this.broadcastEndpointURL=kh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ct.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ct.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Ct.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let w=0;w<p;w++){const k=f[w],{filter:{event:m,schema:h,table:g,filter:y}}=k,_=c&&c[w];if(_&&_.event===m&&_.schema===h&&_.table===g&&_.filter===y)v.push(Object.assign(Object.assign({},k),{id:_.id}));else{this.unsubscribe(),this.state=xe.errored,e==null||e(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ct.SUBSCRIBED);return}}).receive("error",c=>{this.state=xe.errored,e==null||e(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Lo(this,at.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Lo(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=at;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,k;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=p.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,k,m,h,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const y=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return y&&((w=n.ids)===null||w===void 0?void 0:w.includes(y))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const y=(h=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return y==="*"||y===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:k,commit_timestamp:m,type:h,errors:g}=v;f=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:m,eventType:h,new:{},old:{},errors:g}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Jl.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(at.close,{},e)}_onError(e){this._on(at.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pc(e.columns,e.old_record)),n}}const yc=()=>{},Wv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vv{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yc,this.ref=0,this.logger=yc,this.conn=null,this.sendBuffer=[],this.serializer=new Dv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ws(async()=>{const{default:l}=await Promise.resolve().then(()=>yr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Fa.websocket}`,this.httpEndpoint=kh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _h(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Lv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Nv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vr.connecting:return pn.Connecting;case Vr.open:return pn.Open;case Vr.closing:return pn.Closing;default:return pn.Closed}}isConnected(){return this.connectionState()===pn.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Jl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Iv};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(at.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Av,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(at.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Wv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ql extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Gv extends Ql{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ma extends Ql{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Kv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Eh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>yr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},qv=()=>Kv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ws(()=>Promise.resolve().then(()=>yr),void 0)).Response:Response}),Ba=t=>{if(Array.isArray(t))return t.map(n=>Ba(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ba(r)}),e};var jn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const $o=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jv=(t,e,n)=>jn(void 0,void 0,void 0,function*(){const r=yield qv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Gv($o(s),t.status||500))}).catch(s=>{e(new Ma($o(s),s))}):e(new Ma($o(t),t))}),Qv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function _s(t,e,n,r,s,i){return jn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Qv(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Jv(l,a,r))})})}function Oi(t,e,n,r){return jn(this,void 0,void 0,function*(){return _s(t,"GET",e,n,r)})}function Ut(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return _s(t,"POST",e,r,s,n)})}function Yv(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return _s(t,"PUT",e,r,s,n)})}function Xv(t,e,n,r){return jn(this,void 0,void 0,function*(){return _s(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ch(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return _s(t,"DELETE",e,r,s,n)})}var Le=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ey{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Eh(s)}uploadOrUpdate(e,n,r,s){return Le(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Le(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:wc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(he(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ut(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ql("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(e,n,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Le(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Le(this,void 0,void 0,function*(){try{const s=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}download(e,n){return Le(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Oi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}info(e){return Le(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Oi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ba(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(e){return Le(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Xv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof Ma){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}list(e,n,r){return Le(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Zv),n),{prefix:e||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const ty="2.7.1",ny={"X-Client-Info":`storage-js/${ty}`};var $n=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ry{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},ny),n),this.fetch=Eh(r)}listBuckets(){return $n(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return $n(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return $n(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return $n(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return $n(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $n(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}}class sy extends ry{constructor(e,n={},r){super(e,n,r)}from(e){return new ey(this.url,this.headers,e,this.fetch)}}const iy="2.52.1";let Nr="";typeof Deno<"u"?Nr="deno":typeof document<"u"?Nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nr="react-native":Nr="node";const oy={"X-Client-Info":`supabase-js-${Nr}/${iy}`},ay={headers:oy},ly={schema:"public"},uy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cy={};var dy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const fy=t=>{let e;return t?e=t:typeof fetch>"u"?e=uh:e=fetch,(...n)=>e(...n)},hy=()=>typeof Headers>"u"?ch:Headers,py=(t,e,n)=>{const r=fy(n),s=hy();return(i,o)=>dy(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var gy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function my(t){return t.endsWith("/")?t:t+"/"}function vy(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gy(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const bh="2.71.1",Un=30*1e3,Ha=3,Io=Ha*Un,yy="http://localhost:9999",wy="supabase.auth.token",Sy={"X-Client-Info":`gotrue-js/${bh}`},Wa="X-Supabase-Api-Version",Th={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_y=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xy=10*60*1e3;class Yl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ky extends Yl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ey(t){return M(t)&&t.name==="AuthApiError"}class Oh extends Yl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class an extends Yl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Dt extends an{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cy(t){return M(t)&&t.name==="AuthSessionMissingError"}class Us extends an{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends an{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bs extends an{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function by(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sc extends an{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Va extends an{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function No(t){return M(t)&&t.name==="AuthRetryableFetchError"}class _c extends an{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ga extends an{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xc=` 	
\r=`.split(""),Ty=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xc.length;e+=1)t[xc[e].charCodeAt(0)]=-2;for(let e=0;e<ji.length;e+=1)t[ji[e].charCodeAt(0)]=e;return t})();function kc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ji[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ji[r]),e.queuedBits-=6}}function jh(t,e,n){const r=Ty[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ec(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Py(o,r,n)};for(let o=0;o<t.length;o+=1)jh(t.charCodeAt(o),s,i);return e.join("")}function Oy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jy(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Oy(r,e)}}function Py(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ry(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)jh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Ly(t){const e=[];return jy(t,n=>e.push(n)),new Uint8Array(e)}function $y(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>kc(s,n,r)),kc(null,n,r),e.join("")}function Iy(t){return Math.round(Date.now()/1e3)+t}function Ny(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const st=()=>typeof window<"u"&&typeof document<"u",un={tested:!1,writable:!1},Ph=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(un.tested)return un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),un.tested=!0,un.writable=!0}catch{un.tested=!0,un.writable=!1}return un.writable};function Ay(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>yr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Dy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},cn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},At=async(t,e)=>{await t.removeItem(e)};class to{constructor(){this.promise=new to.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}to.promiseConstructor=Promise;function Ao(t){const e=t.split(".");if(e.length!==3)throw new Ga("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_y.test(e[r]))throw new Ga("JWT not in base64url format");return{header:JSON.parse(Ec(e[0])),payload:JSON.parse(Ec(e[1])),signature:Ry(e[2]),raw:{header:e[0],payload:e[1]}}}async function zy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Fy(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Uy(t){return("0"+t.toString(16)).substr(-2)}function My(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Uy).join("")}async function By(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Hy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await By(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function In(t,e,n=!1){const r=My();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Mn(t,`${e}-code-verifier`,s);const i=await Hy(r);return[i,r===i?"plain":"s256"]}const Wy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vy(t){const e=t.headers.get(Wa);if(!e||!e.match(Wy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ky(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nn(t){if(!qy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Do(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cc(t){return JSON.parse(JSON.stringify(t))}var Jy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const hn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qy=[502,503,504];async function bc(t){var e;if(!Dy(t))throw new Va(hn(t),0);if(Qy.includes(t.status))throw new Va(hn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Oh(hn(i),i)}let r;const s=Vy(t);if(s&&s.getTime()>=Th["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _c(hn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _c(hn(n),t.status,n.weak_password.reasons);throw new ky(hn(n),t.status||500,r)}const Yy=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Wa]||(i[Wa]=Th["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Xy(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Xy(t,e,n,r,s,i){const o=Yy(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Va(hn(l),0)}if(a.ok||await bc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await bc(l)}}function kt(t){var e;let n=null;n0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Iy(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Tc(t){const e=kt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ht(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Zy(t){return{data:t,error:null}}function e0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Jy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function t0(t){return t}function n0(t){return t.access_token&&t.refresh_token&&t.expires_in}const zo=["global","local","others"];var r0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class s0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Rh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=zo[0]){if(zo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zo.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ht})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=r0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ht})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:t0});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Nn(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ht})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Nn(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ht})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Nn(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ht})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Nn(e.userId);try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Nn(e.userId),Nn(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}function Oc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function i0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const An={debug:!!(globalThis&&Ph()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o0 extends Lh{}async function a0(t,e,n){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new o0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(An.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}i0();const l0={url:yy,storageKey:wy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jc(t,e,n){return await n()}const Dn={};class ds{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},l0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new s0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rh(s.fetch),this.lock=s.lock||jc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:st()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=a0:this.lock=jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ph()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Oc(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Dn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Dn[this.storageKey]=Object.assign(Object.assign({},Dn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Dn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dn[this.storageKey]=Object.assign(Object.assign({},Dn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Ay(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),st()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),by(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return M(n)?{error:n}:{error:new Oh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await In(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:kt})}else if("phone"in e){const{phone:c,password:d,options:f}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kt})}else throw new Ms("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tc})}else throw new Ms("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Us}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,c,d,f,p;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:k,wallet:m,statement:h,options:g}=e;let y;if(st())if(typeof m=="object")y=m;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))y=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const x=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),h?{statement:h}:null));let b;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")b=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)b=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)v=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),w=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const x=await y.signMessage(new TextEncoder().encode(v),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=x}}try{const{data:k,error:m}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:$y(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kt});if(m)throw m;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Us}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:m})}catch(k){if(M(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await cn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:kt});if(await At(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Us}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Us}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await In(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ms("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await In(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Zy})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Dt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ms("You must provide either an email or phone number and a type")}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Io:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await cn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Do()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ht}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ht})})}catch(n){if(M(n))return Cy(n)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Dt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await In(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ht});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Dt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ao(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(M(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Dt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!st())throw new Bs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sc("No code detected.");const{data:h,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Bs("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const p=f-c;p*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await cn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ey(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ny(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await In(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return st()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Fy(async s=>(s>0&&await zy(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&No(i)&&Date.now()+o-r<Un})}catch(r){if(this._debug(n,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),st()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await cn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Mn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Do()}else if(s&&!s.user&&!s.user){const o=await cn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await At(this.storage,this.storageKey+"-user"),await Mn(this.storage,this.storageKey,s)):s.user=Do()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Io;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Io}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),No(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new to;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),M(i)){const o={session:null,error:i};return No(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Cc(s);await Mn(this.storage,this.storageKey,i)}else{const s=Cc(n);await Mn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Un}ms, refresh threshold is ${Ha} ticks`),s<=Ha&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await In(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ao(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+xy>s)return r;const{data:i,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ao(r);n!=null&&n.allowExpired||Gy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=Ky(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Ly(`${a}.${l}`)))throw new Ga("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}ds.nextInstanceID=0;const u0=ds;class c0 extends u0{constructor(e){super(e)}}var d0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class f0{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=my(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:ly,realtime:cy,auth:Object.assign(Object.assign({},uy),{storageKey:u}),global:ay},d=vy(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=py(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Pv(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ov(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sy(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return d0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c0({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Vv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const h0=(t,e,n)=>new f0(t,e,n);function p0(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}p0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const g0="https://cmyhfwogyzpmpyrxkahl.supabase.co",m0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNteWhmd29neXpwbXB5cnhrYWhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NTc0MDcsImV4cCI6MjA2OTAzMzQwN30.FdKq0u43jrHxUZZiUv6HJd8h-cd-TjnCRwGuhamReAc",$h=h0(g0,m0),Pn={HIGH_SCORE:"emoji-fusion-high-score",LEADERBOARD:"emoji-fusion-leaderboard",SAVED_GAME:"emoji-fusion-saved-game"},v0=()=>{try{const t=localStorage.getItem(Pn.HIGH_SCORE);return t?parseInt(t,10):0}catch(t){return console.warn("Failed to read high score from localStorage:",t),0}},y0=t=>{try{localStorage.setItem(Pn.HIGH_SCORE,t.toString())}catch(e){console.warn("Failed to save high score to localStorage:",e)}},no=async()=>{try{const{data:t,error:e}=await $h.from("leaderboard").select("*").order("score",{ascending:!1}).limit(10);return e?(console.warn("Failed to fetch leaderboard from Supabase:",e),[]):t.map((n,r)=>({score:n.score,name:n.name,rank:r+1,highestTile:n.tile}))}catch(t){return console.warn("Failed to read leaderboard from Supabase:",t),[]}},Ka=async(t,e="Anonymous",n=1)=>{try{const r=e.trim()||"Anonymous",{error:s}=await $h.from("leaderboard").insert({name:r,score:t,tile:n});return s?(console.warn("Failed to save leaderboard entry to Supabase:",s),!1):(await no()).some(o=>o.score===t&&o.name===r)}catch(r){return console.warn("Failed to save leaderboard to Supabase:",r),!1}},Fo=async t=>{var n;const e=await no();return e.length<10||t>((n=e[e.length-1])==null?void 0:n.score)},w0=t=>{try{localStorage.setItem(Pn.SAVED_GAME,JSON.stringify(t))}catch(e){console.warn("Failed to save game state to localStorage:",e)}},Sr=()=>{try{const t=localStorage.getItem(Pn.SAVED_GAME);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read saved game state from localStorage:",t),null}},Gt=()=>{try{localStorage.removeItem(Pn.SAVED_GAME)}catch(t){console.warn("Failed to clear saved game state from localStorage:",t)}},Ih=()=>{const t=Sr();return t!==null&&!t.gameFinalized},Hs=()=>{const t=Sr();return t!==null&&t.gameFinalized===!0},yn=()=>{const t=Sr();if(t){const e={...t,gameFinalized:!0,canUndoAfterGameOver:!1};try{localStorage.setItem(Pn.SAVED_GAME,JSON.stringify(e))}catch(n){console.warn("Failed to finalize game state:",n)}}},Ws=()=>{const t=Sr();return(t==null?void 0:t.canUndoAfterGameOver)===!0},zn=t=>{const e=Sr();if(e){const n={...e,canUndoAfterGameOver:t};try{localStorage.setItem(Pn.SAVED_GAME,JSON.stringify(n))}catch(r){console.warn("Failed to update undo-after-game-over flag:",r)}}},S0=({onMove:t,onUndo:e,onRestart:n,disabled:r=!1,canUndo:s=!1})=>{const i=T.useRef({isPressed:!1,startTime:0,timeoutId:null}),[o,a]=T.useState(0),[l,u]=T.useState(!1),c=T.useRef(null),d=T.useCallback(p=>{if(r)return;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d","W","A","S","D","u","U","r","R"].includes(p.key)&&p.preventDefault(),t)switch(p.key){case"ArrowUp":case"w":case"W":t("up");return;case"ArrowDown":case"s":case"S":t("down");return;case"ArrowLeft":case"a":case"A":t("left");return;case"ArrowRight":case"d":case"D":t("right");return}if((p.key==="u"||p.key==="U")&&e&&s){e();return}p.key==="r"||p.key},[r,t,e,n,s]),f=T.useCallback(p=>{r||(p.key==="r"||p.key==="R")&&i.current.isPressed&&(i.current.isPressed=!1,u(!1),a(0),i.current.timeoutId&&(clearTimeout(i.current.timeoutId),i.current.timeoutId=null),c.current&&(clearInterval(c.current),c.current=null))},[r]);return T.useEffect(()=>(window.addEventListener("keydown",d),window.addEventListener("keyup",f),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",f),i.current.timeoutId&&clearTimeout(i.current.timeoutId),c.current&&clearInterval(c.current)}),[d,f]),{restartProgress:o,isRestartInProgress:l}},_0=({onSwipe:t,disabled:e=!1,minSwipeDistance:n=30,maxSwipeTime:r=1e3,element:s})=>{const i=T.useRef(null),o=T.useRef(!1);T.useEffect(()=>{o.current="ontouchstart"in window||navigator.maxTouchPoints>0},[]);const a=T.useCallback(d=>{const f=d;if(e||!t)return;if(f.touches.length!==1){i.current=null;return}const p=f.touches[0];i.current={x:p.clientX,y:p.clientY,timestamp:Date.now()},d.preventDefault()},[e,t]),l=T.useCallback(d=>{const f=d;if(e||!t||!i.current)return;if(f.changedTouches.length!==1){i.current=null;return}const p=f.changedTouches[0],v={x:p.clientX,y:p.clientY,timestamp:Date.now()},w=i.current;i.current=null;const k=v.timestamp-w.timestamp;if(k>r)return;const m=v.x-w.x,h=v.y-w.y,g=Math.abs(m),y=Math.abs(h),_=Math.max(g,y);if(_<n)return;let x;g>y?x=m>0?"right":"left":x=h>0?"down":"up",console.log(`📱 Touch swipe detected: ${x} (${_}px in ${k}ms)`),t(x),d.preventDefault()},[e,t,n,r]),u=T.useCallback(d=>{e||!i.current||i.current&&d.preventDefault()},[e]),c=T.useCallback(()=>{i.current=null},[]);return T.useEffect(()=>{if(e||!o.current)return;const d=(s==null?void 0:s.current)||document,f={passive:!1},p={passive:!1},v={passive:!1};return d.addEventListener("touchstart",a,f),d.addEventListener("touchmove",u,p),d.addEventListener("touchend",l,v),d.addEventListener("touchcancel",c,{passive:!0}),()=>{d.removeEventListener("touchstart",a),d.removeEventListener("touchmove",u),d.removeEventListener("touchend",l),d.removeEventListener("touchcancel",c)}},[e,a,u,l,c,s]),{isTouchDevice:o.current,isSwipeInProgress:i.current!==null}},qa=t=>{const e=[];for(let n=0;n<4;n++)for(let r=0;r<4;r++)t[n][r]||e.push({row:n,col:r});return e},Ja=()=>Math.random()<.1?2:1,Uo=()=>{const t=Array(4).fill(null).map(()=>Array(4).fill(null)),e=qa(t),n=Math.floor(Math.random()*e.length),r=e[n];t[r.row][r.col]={id:1,level:Ja(),row:r.row,col:r.col,justSpawned:!0},e.splice(n,1);const s=Math.floor(Math.random()*e.length),i=e[s];return t[i.row][i.col]={id:2,level:Ja(),row:i.row,col:i.col,justSpawned:!0},t},x0=({onBackToStart:t,shouldLoadSavedGame:e,onPendingScore:n})=>{const r=T.useRef(null),s=I=>{let P=1;for(let G=0;G<4;G++)for(let C=0;C<4;C++){const z=I[G][C];z&&z.level>P&&(P=z.level)}return P},o=(()=>{if(e){const I=Sr();if(I)return I.canUndoAfterGameOver&&zn(!0),{grid:I.grid,nextId:I.nextId,score:I.score,previousState:I.previousState||null,preRestartState:I.preRestartState||null,canUndo:I.canUndo||!1,wasRestartedViaHold:I.wasRestartedViaHold||!1,isGameOver:I.isGameOver||!1}}return{grid:Uo(),nextId:3,score:0,previousState:null,preRestartState:null,canUndo:!1,wasRestartedViaHold:!1,isGameOver:!1}})(),[a,l]=T.useState(o.grid),[u,c]=T.useState(o.nextId),[d,f]=T.useState(o.isGameOver),[p,v]=T.useState(o.score),[w,k]=T.useState([]),[m,h]=T.useState(o.previousState),[g,y]=T.useState(o.canUndo),[_,x]=T.useState(o.wasRestartedViaHold),[b,j]=T.useState(o.preRestartState),[D,$]=T.useState(null),[V,Re]=T.useState(!1),[ue,ce]=T.useState(s(o.grid)),[St,oe]=T.useState(!1),[we,L]=T.useState(!1),A=(I,P,G)=>{const C=G*(ft+qe),z=P*(ft+qe),R=`${Date.now()}-${Math.random()}`;k(Fe=>[...Fe,{id:R,score:I,x:C,y:z}])},U=I=>{k(P=>P.filter(G=>G.id!==I))},B=async I=>{if(!St){oe(!0);try{await Fo(I)?($(I),n==null||n(I)):Re(!0)}catch(P){console.error("Error checking if score qualifies for leaderboard:",P),Re(!0)}finally{oe(!1)}}},J=()=>{const I={grid:a,score:p,nextId:u,isPaused:!1,timestamp:Date.now(),previousState:m,preRestartState:b,canUndo:g,wasRestartedViaHold:_,isGameOver:d,canUndoAfterGameOver:Ws()};w0(I)},Ge=async I=>{if(D!==null&&!we){L(!0);try{await Ka(D,I,ue)?(Re(!0),$(null),n==null||n(null),yn(),h(null),y(!1),j(null),x(!1),zn(!1)):console.error("Failed to save score to leaderboard")}catch(P){console.error("Error saving score to leaderboard:",P)}finally{L(!1)}}},Ke=()=>{$(null),n==null||n(null),yn(),h(null),y(!1),j(null),x(!1),zn(!1)},_t=()=>{const I=Hs(),P=Ws();g&&!V&&!I||d&&P&&!V&&!I?_&&b?(console.log("🔄 GameBoard: Undoing restart via hold - restoring pre-restart state"),l(b.grid),v(b.score),c(b.nextId),j(null),x(!1),y(!1),k([]),f(!1),$(null),Re(!1),ce(s(b.grid)),n==null||n(null),zn(!1)):m&&(console.log("🔄 GameBoard: Undoing regular move"+(d?" (after game over)":"")),l(m.grid),v(m.score),c(m.nextId),h(null),y(!1),k([]),f(!1),$(null),Re(!1),ce(s(m.grid)),n==null||n(null),zn(!1)):console.log("🔴 GameBoard: Undo not available")},xt=I=>{var P,G;if(qa(I).length>0)return!0;for(let C=0;C<4;C++)for(let z=0;z<4;z++){const R=I[C][z];if(R&&(z<3&&((P=I[C][z+1])==null?void 0:P.level)===R.level||C<3&&((G=I[C+1][z])==null?void 0:G.level)===R.level))return!0}return!1},Rn=I=>!xt(I),Xl=()=>{Gt(),l(Uo()),c(3),v(0),f(!1),k([]),h(null),y(!1),$(null),Re(!1),ce(1),n==null||n(null),x(!1),j(null)},Dh=async()=>{if(!St){oe(!0);try{const I=await Fo(p);(V||!I)&&(yn(),Xl(),t())}catch(I){console.error("Error checking if score qualifies for leaderboard:",I),V&&(yn(),Xl(),t())}finally{oe(!1)}}},zh=async()=>{if(!St){oe(!0);try{const I=await Fo(p);(V||!I)&&(d?V||J():Gt(),t())}catch(I){console.error("Error checking if score qualifies for leaderboard:",I),V&&(d?V||J():Gt(),t())}finally{oe(!1)}}},Fh=()=>{console.log("🎮 restartViaHold called - performing game restart");const I={grid:a.map(G=>[...G]),score:p,nextId:u};j(I),console.log("💾 Saved pre-restart state:",{score:p,gridHasTiles:I.grid.some(G=>G.some(C=>C))}),Gt();const P=Uo();l(P),c(3),v(0),f(!1),k([]),x(!0),h(null),y(!0),console.log("✅ Game restart completed - score reset to 0, new tiles spawned")},Uh=I=>{const P=qa(I);if(P.length===0)return I;const G=P[Math.floor(Math.random()*P.length)],C=I.map(z=>[...z]);return C[G.row][G.col]={id:u,level:Ja(),row:G.row,col:G.col,justSpawned:!0},c(z=>z+1),C},Zl=I=>{h({grid:a.map(C=>[...C]),score:p,nextId:u});const P=a.map(C=>[...C]);let G=!1;if(P.forEach(C=>C.forEach(z=>{z&&(z.merged=!1,z.justMerged=!1,z.justSpawned=!1)})),I==="left"){for(let C=0;C<4;C++)for(let z=1;z<4;z++)if(P[C][z]){let R=z;for(;R>0;)if(!P[C][R-1])P[C][R-1]={...P[C][R],col:R-1},P[C][R]=null,R--,G=!0;else if(P[C][R-1].level===P[C][R].level&&!P[C][R-1].merged&&!P[C][R].merged){const Fe=P[C][R-1].level+1,nt=Math.pow(2,Fe);P[C][R-1]={...P[C][R-1],level:Fe,merged:!0,justMerged:!0},v(ln=>ln+nt),A(nt,C,R-1),P[C][R]=null,G=!0;break}else break}}else if(I==="right"){for(let C=0;C<4;C++)for(let z=2;z>=0;z--)if(P[C][z]){let R=z;for(;R<3;)if(!P[C][R+1])P[C][R+1]={...P[C][R],col:R+1},P[C][R]=null,R++,G=!0;else if(P[C][R+1].level===P[C][R].level&&!P[C][R+1].merged&&!P[C][R].merged){const Fe=P[C][R+1].level+1,nt=Math.pow(2,Fe);P[C][R+1]={...P[C][R+1],level:Fe,merged:!0,justMerged:!0},v(ln=>ln+nt),A(nt,C,R+1),P[C][R]=null,G=!0;break}else break}}else if(I==="up"){for(let C=0;C<4;C++)for(let z=1;z<4;z++)if(P[z][C]){let R=z;for(;R>0;)if(!P[R-1][C])P[R-1][C]={...P[R][C],row:R-1},P[R][C]=null,R--,G=!0;else if(P[R-1][C].level===P[R][C].level&&!P[R-1][C].merged&&!P[R][C].merged){const Fe=P[R-1][C].level+1,nt=Math.pow(2,Fe);P[R-1][C]={...P[R-1][C],level:Fe,merged:!0,justMerged:!0},v(ln=>ln+nt),A(nt,R-1,C),P[R][C]=null,G=!0;break}else break}}else if(I==="down"){for(let C=0;C<4;C++)for(let z=2;z>=0;z--)if(P[z][C]){let R=z;for(;R<3;)if(!P[R+1][C])P[R+1][C]={...P[R][C],row:R+1},P[R][C]=null,R++,G=!0;else if(P[R+1][C].level===P[R][C].level&&!P[R+1][C].merged&&!P[R][C].merged){const Fe=P[R+1][C].level+1,nt=Math.pow(2,Fe);P[R+1][C]={...P[R+1][C],level:Fe,merged:!0,justMerged:!0},v(ln=>ln+nt),A(nt,R+1,C),P[R][C]=null,G=!0;break}else break}}if(G){const C=Uh(P);l(C),y(!0);const z=s(C);if(z>ue&&ce(z),_&&(x(!1),j(null)),Rn(C)){f(!0),zn(!0);const R=v0();p>R&&y0(p),B(p)}}else h(null)};S0({onMove:Zl,onUndo:_t,onRestart:void 0,disabled:d,canUndo:g}),_0({onSwipe:Zl,disabled:d,minSwipeDistance:30,maxSwipeTime:1e3,element:r}),T.useEffect(()=>{d||J()},[a,p,u]);const Mh=()=>{const I=[];return a.forEach((P,G)=>{P.forEach((C,z)=>{C&&((C.row!==G||C.col!==z)&&(console.log(`Tile position mismatch: tile says (${C.row}, ${C.col}) but is at grid position (${G}, ${z})`),C.row=G,C.col=z),I.push(C))})}),I},Bh=100,so=typeof window<"u"?window.innerWidth:800,Hh=typeof window<"u"?window.innerHeight:600,Wh=Math.max(so-100,320),Vh=Math.max(Hh-350,280),Gh=Math.min(Bh,Math.floor((Wh-3*qe)/4),Math.floor((Vh-3*qe)/4)),Kh=so<480?50:so<768?65:75,ft=Math.max(Gh,Kh);return E.jsxs(Vl,{allowScroll:!1,children:[E.jsx("div",{style:{fontSize:S.fontSize["2xl"],fontWeight:"bold",color:"#333",margin:"0",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Emoji Fusion"}),E.jsxs("div",{style:{fontSize:S.fontSize.lg,color:"#666",margin:"0",textAlign:"center",fontWeight:"600"},children:["Score: ",p.toLocaleString()]}),E.jsx(Zm,{onGoHome:t,onUndo:_t,onReset:Fh,canUndo:g&&!V&&!Hs()||d&&Ws()&&!V&&!Hs(),disabled:d,allowUndoWhenDisabled:d&&Ws()&&!V&&!Hs()}),E.jsxs("div",{ref:r,className:"game-container",style:{position:"relative",width:(ft+qe)*4-qe,height:(ft+qe)*4-qe,margin:"0 auto",isolation:"isolate",minWidth:"280px",minHeight:"280px",maxWidth:"min(90vw, 500px)",maxHeight:"min(45vh, 500px)",flex:"0 0 auto"},children:[a.map((I,P)=>I.map((G,C)=>E.jsx("div",{style:{position:"absolute",left:C*(ft+qe),top:P*(ft+qe),width:ft,height:ft,border:`${Bm}px solid ${Hm}`,borderRadius:ah,backgroundColor:Wm,boxSizing:"border-box",zIndex:1}},`${P}-${C}`))),Mh().map(I=>E.jsx(Gm,{tile:I,cellSize:ft},I.id)),w.map(I=>E.jsx(Jm,{score:I.score,x:I.x,y:I.y,cellSize:ft,onComplete:()=>U(I.id)},I.id)),d&&E.jsx(qm,{score:p,onRestart:Dh,onMainMenu:zh,onNameSubmit:Ge,onSkipHighScore:Ke,isCheckingScore:St,isSavingScore:we,qualifiesForLeaderboard:D!==null})]}),E.jsx(ev,{style:{maxWidth:"90%",opacity:.8}})]})},k0=({style:t})=>{const{t:e}=wt(),[n,r]=T.useState(null),[s,i]=T.useState(!0);T.useEffect(()=>{(async()=>{i(!0);try{const u=await no();r(u.length>0?u[0]:null)}catch(u){console.error("Failed to load high score:",u),r(null)}finally{i(!1)}})()},[]);const o=er.md,a={width:"100%",minHeight:o.minHeight,padding:o.padding,fontSize:o.fontSize,fontWeight:"bold",borderRadius:o.borderRadius,background:"rgba(255, 215, 0, 0.1)",color:"#B8860B",border:"2px solid rgba(255, 215, 0, 0.3)",boxShadow:S.boxShadow.base,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${S.transition.base}`,cursor:"default",userSelect:"none",...t};return s?E.jsx("div",{style:a,children:"⏳ Loading..."}):n?E.jsx("div",{style:a,children:e("startScreen.globalHighScore",{score:n.score.toLocaleString()})}):E.jsx("div",{style:a,children:e("startScreen.noScoresYet")})},E0=({onStartGame:t,onContinueGame:e,onShowLeaderboard:n})=>{const{t:r}=wt(),s=Ih();return E.jsxs(Vl,{children:[E.jsx("div",{style:{fontSize:S.fontSize["4xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:r("app.title")}),E.jsx("div",{style:{fontSize:S.fontSize.base,color:"#666",textAlign:"center",maxWidth:"90%",lineHeight:"1.5",margin:"0"},children:r("app.description")}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.lg,alignItems:"center",width:"100%",maxWidth:S.layout.buttonMaxWidth},children:[E.jsx(k0,{}),E.jsx(Te,{onClick:t,variant:"primary",children:r("startScreen.startNewGame")}),E.jsx(Te,{onClick:e,disabled:!s,variant:"secondary",children:r("startScreen.continueGame")}),E.jsx(Te,{onClick:n,variant:"secondary",children:r("startScreen.leaderboard")})]})]})},C0=t=>t||"Anonymous",b0=({onBackToHome:t})=>{const{t:e}=wt(),[n,r]=T.useState([]),[s,i]=T.useState(!0),{isMobile:o}=lh();T.useEffect(()=>{(async()=>{i(!0);try{const u=await no();r(u)}catch(u){console.error("Failed to load leaderboard:",u)}finally{i(!1)}})()},[]);const a=n.slice(0,10);return E.jsxs(Vl,{children:[E.jsx("div",{style:{fontSize:S.fontSize["3xl"],fontWeight:"bold",color:"#333",textAlign:"center",margin:"0",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:e("leaderboard.title")}),E.jsx("div",{style:{width:"100%",maxWidth:o?"100%":"500px",backgroundColor:"white",borderRadius:S.borderRadius.xl,boxShadow:S.boxShadow.overlay,padding:o?`${S.spacing.lg} ${S.spacing.md}`:`clamp(${S.spacing.xl}, 4vh, ${S.spacing["3xl"]})`,minHeight:"clamp(300px, 50vh, 400px)",maxHeight:"60vh",display:"flex",flexDirection:"column",overflowY:"auto",margin:"0"},children:s?E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[E.jsx("div",{style:{fontSize:S.fontSize["4xl"],marginBottom:S.spacing.lg},children:"⏳"}),E.jsx("div",{style:{fontSize:S.fontSize.lg,fontWeight:"bold",color:"#333"},children:e("leaderboard.loading")})]}):a.length>0?E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",color:"#333",textAlign:"center",marginBottom:S.spacing.xl},children:e("leaderboard.topScores")}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:S.spacing.md,flex:1},children:a.map((l,u)=>{const c=u===0,d=u<3;return E.jsxs("div",{style:{position:"relative",display:"grid",gridTemplateColumns:o?"32px 1fr 60px 80px":"40px 1fr 80px 100px",alignItems:"center",gap:o?S.spacing.sm:S.spacing.md,padding:o?`${S.spacing.md} ${S.spacing.sm}`:`${S.spacing.lg} ${S.spacing.xl}`,backgroundColor:c?"rgba(255, 215, 0, 0.12)":d?"rgba(76, 175, 80, 0.06)":"rgba(248, 249, 250, 0.8)",borderRadius:S.borderRadius.lg,border:c?"1px solid rgba(255, 215, 0, 0.3)":d?"1px solid rgba(76, 175, 80, 0.15)":"1px solid rgba(0, 0, 0, 0.06)",transition:`transform ${S.transition.base}`},onMouseOver:f=>{f.currentTarget.style.transform="translateY(-2px)"},onMouseOut:f=>{f.currentTarget.style.transform="translateY(0)"},children:[E.jsx("div",{style:{fontSize:o?S.fontSize.base:S.fontSize.lg,fontWeight:"bold",textAlign:"center",color:c?"#FFD700":u===1?"#C0C0C0":u===2?"#CD7F32":"#666",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:c?"🥇":u===1?"🥈":u===2?"🥉":`#${l.rank}`}),E.jsx("div",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,fontWeight:"500",color:"#333",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:"0"},children:E.jsx("span",{lang:"und",suppressHydrationWarning:!0,children:C0(l.name)})}),E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:S.spacing.xs,color:"#666",fontWeight:"500",fontSize:o?S.fontSize.xs:S.fontSize.sm,textAlign:"center",width:"100%",position:"relative"},children:[E.jsx("span",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,lineHeight:"1"},children:oh.get(l.highestTile||1)||"❓"}),E.jsx("span",{style:{fontSize:o?S.fontSize.xs:S.fontSize.sm,lineHeight:"1",minWidth:o?"16px":"20px",textAlign:"left"},children:l.highestTile||1})]}),E.jsx("div",{style:{fontSize:o?S.fontSize.sm:S.fontSize.base,fontWeight:"600",color:"#333",textAlign:"right",whiteSpace:"nowrap",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:l.score.toLocaleString()})]},`${l.score}-${l.name}-${u}`)})})]}):E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,textAlign:"center",color:"#666"},children:[E.jsx("div",{style:{fontSize:S.fontSize["4xl"],marginBottom:S.spacing.lg},children:"🎮"}),E.jsx("div",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",marginBottom:S.spacing.sm,color:"#333"},children:e("leaderboard.noScores")}),E.jsx("div",{style:{fontSize:S.fontSize.base,lineHeight:"1.5"},children:e("leaderboard.noScoresDescription")})]})}),E.jsx("div",{style:{width:"100%",maxWidth:S.layout.buttonMaxWidth},children:E.jsx(Te,{onClick:t,variant:"secondary",children:e("leaderboard.home")})})]})},T0=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:s,confirmText:i,cancelText:o})=>{const{t:a}=wt();return t?E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,fontFamily:"Arial, sans-serif"},children:E.jsxs("div",{style:{backgroundColor:"white",borderRadius:S.borderRadius.xl,padding:S.spacing["3xl"],boxShadow:S.boxShadow.xl,maxWidth:"400px",width:"90%",textAlign:"center"},children:[E.jsx("h3",{style:{fontSize:S.fontSize.xl,fontWeight:"bold",color:"#333",marginBottom:S.spacing.lg,marginTop:0},children:e}),E.jsx("p",{style:{fontSize:S.fontSize.base,color:"#666",lineHeight:"1.5",marginBottom:S.spacing["3xl"],marginTop:0},children:n}),E.jsxs("div",{style:{display:"flex",gap:S.spacing.md,justifyContent:"center"},children:[E.jsxs(Te,{onClick:s,variant:"secondary",size:"sm",fullWidth:!1,style:{minWidth:"100px"},children:["❌ ",o||a("confirmDialog.cancel")]}),E.jsxs(Te,{onClick:r,variant:"primary",size:"sm",fullWidth:!1,style:{minWidth:"100px"},children:["✅ ",i||a("confirmDialog.confirm")]})]})]})}):null},O0=({isVisible:t,score:e,onSubmit:n,onCancel:r})=>{const{t:s}=wt(),[i,o]=T.useState(""),[a,l]=T.useState(!1);T.useEffect(()=>{if(t){const d=setTimeout(()=>{l(!0)},50);return()=>clearTimeout(d)}else l(!1)},[t]),T.useEffect(()=>{t&&o("")},[t]);const u=d=>{d.preventDefault();const f=i.trim();n(f||s("common.anonymous"))},c=d=>{const f=d.target.value;f.length<=12&&o(f)};return t?E.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,opacity:a?1:0,transition:"opacity 0.3s ease-in-out"},children:E.jsxs("div",{style:{backgroundColor:q.background,borderRadius:S.borderRadius.xl,padding:S.spacing["3xl"],maxWidth:"400px",width:"90%",boxShadow:S.boxShadow.xl,border:`2px solid ${q.border.medium}`},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[E.jsx("h2",{style:{color:q.textPrimary,fontSize:S.fontSize.xl,fontWeight:"bold",margin:`0 0 ${S.spacing.md} 0`},children:s("nameEntry.newHighScore")}),E.jsx("p",{style:{color:q.textSecondary,fontSize:"18px",margin:"0 0 8px 0"},children:s("nameEntry.score",{score:e.toLocaleString()})}),E.jsx("p",{style:{color:q.textSecondary,fontSize:"14px",margin:"0"},children:s("nameEntry.enterNamePrompt")})]}),E.jsxs("form",{onSubmit:u,children:[E.jsx("input",{type:"text",value:i,onChange:c,placeholder:s("nameEntry.namePlaceholder"),autoFocus:!0,style:{width:"100%",padding:"12px 16px",fontSize:"16px",border:`2px solid ${q.border.light}`,borderRadius:"8px",marginBottom:"20px",boxSizing:"border-box",backgroundColor:q.background,color:q.textPrimary,outline:"none",transition:"border-color 0.2s ease"},onFocus:d=>{d.target.style.borderColor=q.primary},onBlur:d=>{d.target.style.borderColor=q.border.light}}),E.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[E.jsx(Te,{variant:"secondary",size:"sm",fullWidth:!1,type:"button",onClick:r,style:{minWidth:"100px"},children:s("nameEntry.skip")}),E.jsx(Te,{variant:"primary",size:"sm",fullWidth:!1,type:"submit",style:{minWidth:"100px"},children:s("nameEntry.saveScore")})]})]}),E.jsx("div",{style:{textAlign:"center",marginTop:"16px",fontSize:"12px",color:q.textSecondary},children:s("nameEntry.charactersRemaining",{current:i.length,max:12})})]})}):null};function j0(){const{t}=wt(),[e,n]=T.useState("start"),[r,s]=T.useState(!1),[i,o]=T.useState(!1),[a,l]=T.useState(null),[u,c]=T.useState(!1),d=()=>{if(a!==null){c(!0);return}Ih()?s(!0):(Gt(),o(!1),n("playing"))},f=()=>{o(!0),n("playing")},p=()=>{n("leaderboard")},v=()=>{n("start")},w=()=>{yn(),Gt(),o(!1),s(!1),n("playing")},k=y=>{l(y)},m=async y=>{if(a!==null)try{await Ka(a,y)}catch(_){console.error("Failed to save score to leaderboard:",_)}l(null),c(!1),yn(),Gt(),o(!1),n("start")},h=async()=>{if(a!==null)try{await Ka(a,t("common.anonymous"))}catch(y){console.error("Failed to save score to leaderboard:",y)}l(null),c(!1),yn(),Gt(),o(!1),n("start")},g=()=>{s(!1)};return E.jsxs("div",{children:[e==="start"&&E.jsx(E0,{onStartGame:d,onContinueGame:f,onShowLeaderboard:p}),e==="playing"&&E.jsx(x0,{onBackToStart:v,shouldLoadSavedGame:i,onPendingScore:k}),e==="leaderboard"&&E.jsx(b0,{onBackToHome:v}),E.jsx(T0,{isOpen:r,title:t("confirmDialog.startNewGameTitle"),message:t("confirmDialog.startNewGameMessage"),onConfirm:w,onCancel:g,confirmText:t("confirmDialog.startNewGame"),cancelText:t("confirmDialog.cancel")}),E.jsx(O0,{isVisible:u,score:a||0,onSubmit:m,onCancel:h})]})}const F=t=>typeof t=="string",Pr=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},Pc=t=>t==null?"":""+t,P0=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},R0=/###/g,Rc=t=>t&&t.indexOf("###")>-1?t.replace(R0,"."):t,Lc=t=>!t||F(t),Kr=(t,e,n)=>{const r=F(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(Lc(t))return{};const i=Rc(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Lc(t)?{}:{obj:t,k:Rc(r[s])}},$c=(t,e,n)=>{const{obj:r,k:s}=Kr(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=Kr(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=Kr(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},L0=(t,e,n,r)=>{const{obj:s,k:i}=Kr(t,e,Object);s[i]=s[i]||[],s[i].push(n)},Pi=(t,e)=>{const{obj:n,k:r}=Kr(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},$0=(t,e,n)=>{const r=Pi(t,n);return r!==void 0?r:Pi(e,n)},Nh=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?F(t[r])||t[r]instanceof String||F(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Nh(t[r],e[r],n):t[r]=e[r]);return t},Fn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var I0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const N0=t=>F(t)?t.replace(/[&<>"'\/]/g,e=>I0[e]):t;class A0{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const D0=[" ",",","?","!",";"],z0=new A0(20),F0=(t,e,n)=>{e=e||"",n=n||"";const r=D0.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=z0.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},Qa=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},fs=t=>t==null?void 0:t.replace("_","-"),U0={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Ri{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||U0,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(F(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Ri(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ri(this.logger,e)}}var mt=new Ri;class ro{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...n])})}}class Ic extends ro{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var u,c;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):F(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Pi(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!F(r)?l:Qa((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),$c(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(F(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=Pi(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Nh(l,r,i):l={...l,...r},$c(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Ah={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,n,r,s))??e}),e}};const Nc={},Ac=t=>!F(t)&&typeof t!="boolean"&&typeof t!="number";class Li extends ro{constructor(e,n={}){super(),P0(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=mt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!F0(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:F(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:F(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let c=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return f?i?{res:`${u}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${c}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:a;const p=this.resolve(e,s);let v=p==null?void 0:p.res;const w=(p==null?void 0:p.usedKey)||a,k=(p==null?void 0:p.exactUsedKey)||a,m=["[object Number]","[object Function]","[object RegExp]"],h=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=s.count!==void 0&&!F(s.count),_=Li.hasDefaultValue(s),x=y?this.pluralResolver.getSuffix(d,s.count,s):"",b=s.ordinal&&y?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",j=y&&!s.ordinal&&s.count===0,D=j&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${x}`]||s[`defaultValue${b}`]||s.defaultValue;let $=v;g&&!v&&_&&($=D);const V=Ac($),Re=Object.prototype.toString.apply($);if(g&&$&&V&&m.indexOf(Re)<0&&!(F(h)&&Array.isArray($))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,$,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(p.res=ue,p.usedParams=this.getUsedParamsDetails(s),p):ue}if(o){const ue=Array.isArray($),ce=ue?[]:{},St=ue?k:w;for(const oe in $)if(Object.prototype.hasOwnProperty.call($,oe)){const we=`${St}${o}${oe}`;_&&!v?ce[oe]=this.translate(we,{...s,defaultValue:Ac(D)?D[oe]:void 0,joinArrays:!1,ns:l}):ce[oe]=this.translate(we,{...s,joinArrays:!1,ns:l}),ce[oe]===we&&(ce[oe]=$[oe])}v=ce}}else if(g&&F(h)&&Array.isArray(v))v=v.join(h),v&&(v=this.extendTranslation(v,e,s,r));else{let ue=!1,ce=!1;!this.isValidLookup(v)&&_&&(ue=!0,v=D),this.isValidLookup(v)||(ce=!0,v=a);const oe=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ce?void 0:v,we=_&&D!==v&&this.options.updateMissing;if(ce||ue||we){if(this.logger.log(we?"updateKey":"missingKey",d,u,a,we?D:v),o){const B=this.resolve(a,{...s,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const A=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&A&&A[0])for(let B=0;B<A.length;B++)L.push(A[B]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(s.lng||this.language):L.push(s.lng||this.language);const U=(B,J,Ge)=>{var _t;const Ke=_&&Ge!==v?Ge:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(B,u,J,Ke,we,s):(_t=this.backendConnector)!=null&&_t.saveMissing&&this.backendConnector.saveMissing(B,u,J,Ke,we,s),this.emit("missingKey",B,u,J,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?L.forEach(B=>{const J=this.pluralResolver.getSuffixes(B,s);j&&s[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(Ge=>{U([B],a+Ge,s[`defaultValue${Ge}`]||D)})}):U(L,a,D))}v=this.extendTranslation(v,e,s,p,r),ce&&v===a&&this.options.appendNamespaceToMissingKey&&(v=`${u}${c}${a}`),(ce||ue)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${a}`:a,ue?v:void 0,s))}return i?(p.res=v,p.usedParams=this.getUsedParamsDetails(s),p):v}extendTranslation(e,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=F(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&!F(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||s.usedLng,r),c){const p=e.match(this.interpolator.nestingRegexp),v=p&&p.length;d<v&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(i==null?void 0:i[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=F(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=Ah.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,o,a;return F(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;s=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&!F(n.count),p=f&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(F(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(k=>{var m,h;this.isValidLookup(r)||(a=k,!Nc[`${w[0]}-${k}`]&&((m=this.utils)!=null&&m.hasLoadedNamespace)&&!((h=this.utils)!=null&&h.hasLoadedNamespace(a))&&(Nc[`${w[0]}-${k}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(g=>{var x;if(this.isValidLookup(r))return;o=g;const y=[c];if((x=this.i18nFormat)!=null&&x.addLookupKeys)this.i18nFormat.addLookupKeys(y,c,g,k,n);else{let b;f&&(b=this.pluralResolver.getSuffix(g,n.count,n));const j=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(y.push(c+b),n.ordinal&&b.indexOf(D)===0&&y.push(c+b.replace(D,this.options.pluralSeparator)),p&&y.push(c+j)),v){const $=`${c}${this.options.contextSeparator}${n.context}`;y.push($),f&&(y.push($+b),n.ordinal&&b.indexOf(D)===0&&y.push($+b.replace(D,this.options.pluralSeparator)),p&&y.push($+j))}}let _;for(;_=y.pop();)this.isValidLookup(r)||(i=_,r=this.getResource(g,k,_,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!F(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Dc{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mt.create("languageUtils")}getScriptPartFromCode(e){if(e=fs(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=fs(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(F(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),F(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return F(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):F(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const zc={zero:0,one:1,two:2,few:3,many:4,other:5},Fc={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class M0{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=mt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=fs(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Fc;if(!e.match(/-|_/))return Fc;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>zc[s]-zc[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Uc=(t,e,n,r=".",s=!0)=>{let i=$0(t,e,n);return!i&&s&&F(n)&&(i=Qa(t,n,r),i===void 0&&(i=Qa(e,n,r))),i},Mo=t=>t.replace(/\$/g,"$$$$");class B0{constructor(e={}){var n;this.logger=mt.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:w,nestingOptionsSeparator:k,maxReplaces:m,alwaysFormat:h}=e.interpolation;this.escape=n!==void 0?n:N0,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Fn(i):o||"{{",this.suffix=a?Fn(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?Fn(f):p||Fn("$t("),this.nestingSuffix=v?Fn(v):w||Fn(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=m||1e3,this.alwaysFormat=h!==void 0?h:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var p;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const h=Uc(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(h,void 0,r,{...s,...n,interpolationkey:v}):h}const w=v.split(this.formatSeparator),k=w.shift().trim(),m=w.join(this.formatSeparator).trim();return this.format(Uc(n,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...s,...n,interpolationkey:k})};this.resetRegExp();const c=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>Mo(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?Mo(this.escape(v)):Mo(v)}].forEach(v=>{for(a=0;i=v.regex.exec(e);){const w=i[1].trim();if(o=u(w),o===void 0)if(typeof c=="function"){const m=c(e,i,s);o=F(m)?m:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))o="";else if(d){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),o="";else!F(o)&&!this.useRawValueToEscape&&(o=Pc(o));const k=v.safeValue(o);if(e=e.replace(i[0],k),d?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=i[0].length):v.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,o;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,o);const p=f.match(/'/g),v=f.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!v||v.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${c}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!F(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!F(i))return i;F(i)||(i=Pc(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const H0=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Mc=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(fs(r),s),e[o]=a),a(n)}},W0=t=>(e,n,r)=>t(fs(n),r)(e);class V0{constructor(e={}){this.logger=mt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Mc:W0;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Mc(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var d;const{formatName:u,formatOptions:c}=H0(l);if(this.formats[u]){let f=a;try{const p=((d=s==null?void 0:s.formatParams)==null?void 0:d[s.interpolationkey])||{},v=p.locale||p.lng||s.locale||s.lng||r;f=this.formats[u](a,v,{...c,...s,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const G0=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class K0 extends ro{constructor(e,n,r,s={}){var i,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=mt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let c=!0;n.forEach(d=>{const f=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,c=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{L0(l.loaded,[i],o),G0(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();F(e)&&(e=this.languageUtils.toResolveHierarchy(e)),F(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i,o={},a=()=>{}){var l,u,c,d,f;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const p={...o,isUpdate:i},v=this.backend.create.bind(this.backend);if(v.length<6)try{let w;v.length===5?w=v(e,n,r,s,p):w=v(e,n,r,s),w&&typeof w.then=="function"?w.then(k=>a(null,k)).catch(a):a(null,w)}catch(w){a(w)}else v(e,n,r,s,a,p)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const Bc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),F(t[1])&&(e.defaultValue=t[1]),F(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Hc=t=>{var e,n;return F(t.ns)&&(t.ns=[t.ns]),F(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),F(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Vs=()=>{},q0=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class hs extends ro{constructor(e={},n){if(super(),this.options=Hc(e),this.services={},this.logger=mt,this.modules={external:[]},q0(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(F(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Bc();this.options={...r,...this.options,...Hc(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?mt.init(s(this.modules.logger),this.options):mt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=V0;const c=new Dc(this.options);this.store=new Ic(this.options.resources,this.options);const d=this.services;d.logger=mt,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new M0(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=s(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new B0(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new K0(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Li(this.services,this.options),this.translator.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Vs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const a=Pr(),l=()=>{const u=(c,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(d),n(c,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=Vs){var i,o;let r=n;const s=F(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const s=Pr();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Vs),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ah.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Pr();this.emit("languageChanging",e);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var c,d;!e&&!a&&this.services.languageDetector&&(a=[]);const l=F(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(F(a)?[a]:a);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(d=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||d.call(c,u)),this.loadResources(u,f=>{i(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(i)?c=i.map(d=>`${l.keyPrefix}${u}${d}`):c=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i,this.t(c,l)};return F(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=Pr();return this.options.ns?(F(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Pr();F(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new Dc(Bc());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new hs(e,n)}cloneInstance(e={},n=Vs){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new hs(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,d)=>(c[d]={...l[u][d]},c),l[u]),l),{});i.store=new Ic(a,s),i.services.resourceStore=i.store}return i.translator=new Li(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ce=hs.createInstance();Ce.createInstance=hs.createInstance;Ce.createInstance;Ce.dir;Ce.init;Ce.loadResources;Ce.reloadResources;Ce.use;Ce.changeLanguage;Ce.getFixedT;Ce.t;Ce.exists;Ce.setDefaultNamespace;Ce.hasLoadedNamespace;Ce.loadNamespaces;Ce.loadLanguages;const J0=()=>{var n;return(navigator.language||((n=navigator.languages)==null?void 0:n[0])||"en").toLowerCase().substring(0,2)==="de"?"de":"en"},Q0={title:"🎮 Emoji Fusion",description:"Merge tiles with the same emoji to create new ones! Use arrow keys to move tiles and reach the highest score possible."},Y0={highScore:"🏆 High Score: {{score}}",globalHighScore:"🏆 Global High Score: {{score}}",noScoresYet:"🎮 No scores yet!",startNewGame:"✅ Start New Game",continueGame:"▶️ Continue Game",leaderboard:"🏆 Leaderboard"},X0={home:"🏠 Home",undo:"↩️ Undo",undoShortcut:"↩️ Undo (U)",reset:"🔁 Reset",resetShortcut:"🔁 Reset (R)"},Z0={title:"Game Over!",finalScore:"Final Score: {{score}}",checkingLeaderboard:"⏳ Checking leaderboard...",savingScore:"💾 Saving score...",topScore:"🎉 Top 10 Score! Enter your name:",enterName:"Enter name (max 12 chars)",saveScore:"💾 Save Score",saving:"⏳ Saving...",scoreSaved:"✅ Score saved to leaderboard!",newGame:"✅ New Game",mainMenu:"🏠 Main Menu",pleaseWait:"⏳ Please wait...",skipHighScore:"You reached a high score! Are you sure you want to skip submitting it?",skipConfirm:"✅ Yes, start new game",skipCancel:"❌ No, go back"},ew={title:"🏆 Leaderboard",topScores:"Top Scores",loading:"Loading leaderboard...",noScores:"No Scores Yet",noScoresDescription:"Play your first game to start building your leaderboard!",home:"🏠 Home"},tw={newHighScore:"🎉 New High Score!",score:"Score: {{score}}",enterNamePrompt:"Enter your name for the leaderboard:",namePlaceholder:"Your name (max 12 chars)",skip:"Skip",saveScore:"Save Score",charactersRemaining:"{{current}}/{{max}} characters"},nw={confirm:"Confirm",cancel:"Cancel",startNewGame:"Start New Game",startNewGameTitle:"Start New Game?",startNewGameMessage:"You already have a game in progress. Are you sure you want to start over?"},rw={keyboardInstructions:"Use WASD or arrow keys to move",touchInstructions:"Swipe to move",keyboardShortcuts:"Press U to undo, R to reset",restartGame:"Restart Game"},sw={anonymous:"Anonymous",player:"Player"},iw={app:Q0,startScreen:Y0,gameControls:X0,gameOver:Z0,leaderboard:ew,nameEntry:tw,confirmDialog:nw,controls:rw,common:sw},ow={title:"🎮 Emoji Fusion",description:"Verbinde Kacheln mit demselben Emoji, um neue zu erstellen! Verwende die Pfeiltasten, um Kacheln zu bewegen und die höchste Punktzahl zu erreichen."},aw={highScore:"🏆 Rekord: {{score}}",globalHighScore:"🏆 Globaler Rekord: {{score}}",noScoresYet:"🎮 Noch keine Ergebnisse!",startNewGame:"✅ Neues Spiel",continueGame:"▶️ Spiel fortsetzen",leaderboard:"🏆 Bestenliste"},lw={home:"🏠 Start",undo:"↩️ Rückgängig",undoShortcut:"↩️ Rückgängig (U)",reset:"🔁 Zurücksetzen",resetShortcut:"🔁 Zurücksetzen (R)"},uw={title:"Spiel beendet!",finalScore:"Endpunktzahl: {{score}}",checkingLeaderboard:"⏳ Prüfe Bestenliste...",savingScore:"💾 Speichere Punktzahl...",topScore:"🎉 Top 10 Punktzahl! Gib deinen Namen ein:",enterName:"Namen eingeben (max. 12 Zeichen)",saveScore:"💾 Punktzahl speichern",saving:"⏳ Speichern...",scoreSaved:"✅ Punktzahl in Bestenliste gespeichert!",newGame:"✅ Neues Spiel",mainMenu:"🏠 Hauptmenü",pleaseWait:"⏳ Bitte warten...",skipHighScore:"Du hast einen Rekord erreicht! Bist du sicher, dass du ihn nicht einreichen möchtest?",skipConfirm:"✅ Ja, neues Spiel starten",skipCancel:"❌ Nein, zurück"},cw={title:"🏆 Bestenliste",topScores:"Beste Ergebnisse",loading:"Lade Bestenliste...",noScores:"Noch keine Ergebnisse",noScoresDescription:"Spiele dein erstes Spiel, um deine Bestenliste aufzubauen!",home:"🏠 Start"},dw={newHighScore:"🎉 Neuer Rekord!",score:"Punktzahl: {{score}}",enterNamePrompt:"Gib deinen Namen für die Bestenliste ein:",namePlaceholder:"Dein Name (max. 12 Zeichen)",skip:"Überspringen",saveScore:"Punktzahl speichern",charactersRemaining:"{{current}}/{{max}} Zeichen"},fw={confirm:"Bestätigen",cancel:"Abbrechen",startNewGame:"Neues Spiel starten",startNewGameTitle:"Neues Spiel starten?",startNewGameMessage:"Du hast bereits ein Spiel in Bearbeitung. Bist du sicher, dass du von vorne anfangen möchtest?"},hw={keyboardInstructions:"Verwende WASD oder Pfeiltasten zum Bewegen",touchInstructions:"Wischen zum Bewegen",keyboardShortcuts:"Drücke U für Rückgängig, R zum Zurücksetzen",restartGame:"Spiel neu starten"},pw={anonymous:"Anonym",player:"Spieler"},gw={app:ow,startScreen:aw,gameControls:lw,gameOver:uw,leaderboard:cw,nameEntry:dw,confirmDialog:fw,controls:hw,common:pw},mw={en:{translation:iw},de:{translation:gw}};Ce.use(Im).init({resources:mw,lng:J0(),fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,keySeparator:".",nsSeparator:!1,returnEmptyString:!1,returnNull:!1,returnObjects:!1,parseMissingKeyHandler:t=>t,missingKeyHandler:!1,saveMissing:!1});Bo.createRoot(document.getElementById("root")).render(E.jsx(dp.StrictMode,{children:E.jsx(j0,{})}));
